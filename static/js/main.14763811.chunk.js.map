{"version":3,"sources":["assets/img/textures/grid.jpg","assets/img/skybox/bk.jpg","assets/img/skybox/dn.jpg","assets/img/skybox/ft.jpg","assets/img/skybox/lf.jpg","assets/img/skybox/rt.jpg","assets/img/skybox/up.jpg","assets/models/ballerina.glb","assets/models/garden.glb","assets/img/theMofG/theMofG23.png","assets/img/covers/project4.jpg","assets/sounds/francoise_rosen_-_blue_pentagon.wav","assets/models/stylised_character.glb","assets/models/icoVoronoi.glb","assets/img/covers/project1.jpg","assets/img/covers/project2.png","assets/img/covers/project3.jpg","assets/img/covers/snakewoman.jpg","assets/img/covers/garden.jpg","assets/img/covers/child.jpg","assets/img/covers/spaceocean.jpg","assets/img/covers/sentinel.jpg","assets/img/covers/clumsyforest.jpg","assets/img/covers/sphericalmirrors.jpg","assets/models/child.glb","assets/img/textures/colors.jpg","assets/models/forest.glb","assets/img/textures/caustic.png","assets/img/textures/bump.jpg","assets/img/textures/decal.png","assets/img/textures/spark.png","assets/img/theMofG/theMofG1.png","assets/img/theMofG/theMofG2.png","assets/img/theMofG/theMofG3.png","assets/img/theMofG/theMofG4.png","assets/img/theMofG/theMofG5.png","assets/img/theMofG/theMofG6.png","assets/img/theMofG/theMofG7.png","assets/img/theMofG/theMofG8.png","assets/img/theMofG/theMofG9.png","assets/img/theMofG/theMofG10.png","assets/img/theMofG/theMofG11.png","assets/img/theMofG/theMofG12.png","assets/img/theMofG/theMofG13.png","assets/img/theMofG/theMofG14.png","assets/img/theMofG/theMofG15.png","assets/img/theMofG/theMofG16.png","assets/img/theMofG/theMofG17.png","assets/img/theMofG/theMofG18.png","assets/img/theMofG/theMofG19.png","assets/img/theMofG/theMofG20.png","assets/img/theMofG/theMofG21.png","assets/img/theMofG/theMofG22.png","assets/img/theMofG/theMofG25.png","assets/img/theMofG/theMofG26.png","assets/img/theMofG/theMofG27.png","assets/img/theMofG/theMofG28.png","assets/img/theMofG/theMofG29.png","assets/img/theMofG/theMofG30.png","assets/img/theMofG/theMofG31.png","assets/img/theMofG/theMofG32.png","assets/img/theMofG/theMofG33.png","assets/img/theMofG/theMofG34.png","assets/img/theMofG/theMofG35.png","assets/img/theMofG/theMofG36.png","assets/img/theMofG/theMofG37.png","assets/img/theMofG/theMofG38.png","assets/img/theMofG/theMofG39.png","assets/img/theMofG/theMofG40.png","assets/img/projects/sehsuchte1.jpg","assets/img/projects/sehsuchte2.jpg","assets/img/projects/sehsuchte3.jpg","assets/img/projects/sehsuchte4.jpg","assets/img/projects/lichtspektakel1.jpg","assets/img/projects/lichtspektakel2.jpg","assets/img/projects/lichtspektakel3.jpg","assets/img/projects/lichtspektakel4.jpg","assets/img/projects/gameAsPerformance1.jpg","assets/img/projects/gameAsPerformance2.jpg","assets/img/projects/gameAsPerformance3.jpg","assets/img/projects/gameAsPerformance4.jpg","components/history.js","components/Sidebar.js","home/SceneController.js","home/utils.js","components/pages/Home.js","components/pages/About.js","components/ProjectDescription.js","components/pages/ProjectItem.js","components/ProjectGrid.js","components/ProjectList.js","components/CompactSidebar.js","components/pages/Projects.js","components/pages/SketchItem.js","components/SketchGrid.js","components/SketchList.js","components/pages/Sketches.js","components/pages/Contacts.js","sketches/snakewoman/SceneController.js","sketches/snakewoman/index.js","sketches/garden/SceneController.js","sketches/garden/index.js","sketches/child/SceneController.js","sketches/child/index.js","sketches/clumsyforest/Sound.js","sketches/clumsyforest/SceneController.js","sketches/clumsyforest/index.js","sketches/sentinel/CustomShader.js","sketches/sentinel/SceneController.js","sketches/sentinel/index.js","sketches/spaceocean/SceneController.js","sketches/spaceocean/index.js","sketches/sphericalmirrors/SceneController.js","sketches/sphericalmirrors/index.js","projects/meaningOfGame/utils.js","projects/meaningOfGame/PointerLockManager.js","projects/meaningOfGame/ViewFinderManager.js","projects/meaningOfGame/Room.js","projects/meaningOfGame/Terrain.js","projects/meaningOfGame/TrioMesh.js","projects/meaningOfGame/PropMesh.js","projects/meaningOfGame/TrioSpheres.js","projects/meaningOfGame/GeoSpawner.js","projects/meaningOfGame/ImagePlane.js","projects/meaningOfGame/ImageSpawner.js","projects/meaningOfGame/SoundController.js","projects/meaningOfGame/SceneController.js","projects/meaningOfGame/index.js","projects/fantasynth/index.js","projects/lichtspektakel/index.js","projects/gameAsPerformance/index.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","createBrowserHistory","SideBar","className","to","href","title","React","Component","SceneController","animate","disposed","requestAnimationFrame","controls","update","render","onWindowResize","camera","aspect","window","innerWidth","innerHeight","updateProjectionMatrix","renderer","setSize","onDocumentMouseMove","e","targetmouseX","clientX","targetmouseY","clientY","r","Math","sqrt","settings","progress","onDocumentTouchMove","touch","targetTouches","this","scene","THREE","antialias","clock","colourArr","split","pop","map","hex","setPixelRatio","devicePixelRatio","document","body","appendChild","domElement","background","surfaceColor","insideColor","inverted","delta","getDelta","setupCamera","setupLight","setupControls","setupListeners","setupcubeTexture","setupModels","addObjects","ASPECT_RATIO","position","set","lookAt","hemiLight","add","OrbitControls","autoRotateSpeed","autoRotate","zoomSpeed","panSpeed","enableZoom","enablePan","enableDamping","dampingFactor","maxDistance","minDistance","addEventListener","bind","voronoi","GLTFLoader","load","pathToModel","gltf","scale","traverse","child","name","children","length","forEach","f","m","push","clone","geoms","geoms1","j","filter","v","isMesh","vtempo","processSurface","surface","volume","s","BufferGeometryUtils","mergeBufferGeometries","mesh","material","s1","mesh1","material1","undefined","console","error","vtemp","vtemp1","c","geometry","applyMatrix4","makeTranslation","x","y","z","len","attributes","array","len1","offset","Array","fill","setAttribute","Float32Array","offset1","axis","random","normalize","axes","axes1","i","centroidVector","ar","getCentroid","centroid","centroid1","urls","img1","img2","img3","img4","img5","img6","textureCube","extensions","derivatives","side","uniforms","time","type","value","inside","tCube","pixels","uvRate1","vertexShader","fragmentShader","isNaN","abs","removeEventListener","dispose","removeChild","Home","sceneController","setup","Sidebar","ref","element","threeRootElement","About","ProjectDescription","props","style","fontSize","color","textAlign","fontWeight","text","ProjectItem","log","project","url","history","id","onClick","openSketch","src","cover","alt","description","ProjectGrid","projects","key","ProjectList","theMofGame","gameAsPA","fantasynth","lichtspektakel","CompactSideBar","Projects","state","projectList","SketchItem","sketch","SketchGrid","sketches","SketchList","snakewoman","path","garden","clumsyforest","sentinel","spaceocean","sphericalmirrors","Sketches","sketchList","Contacts","startTime","Date","now","loadModels","setupGeometry","dirLight","sphere","light1","light2","light3","light4","light5","light6","light7","u_resolution","u_time","u_color0","u_color1","setupShaderMaterial","root","node","shininess","bbGeometry","sc","bbRoot","parent","object","rotSpeed","cos","sin","timeFactor","rx","ry","rotation","orbitCamera","updateSceneSubjects","addEventListeners","mouse","fog","setupGlobalUniforms","texture","texture_0","minFilter","magFilter","wrapS","wrapT","u_texture_0","setupShaderOneMaterial","sphereGeometry","setupShaderTwoMaterial","geoArray","l","onMouseMove","Sound","domElem","StartAudioContext","Tone","toMaster","chorus","delay","connect","polySynth","vibratoAmount","duoSynth","synth","triggerAttackRelease","randomElement","obj","isArray","floor","Object","keys","resume","playNote","then","raycaster","isDisposed","isAnimate","loader","setupSound","groundColor","setHSL","spotLight","angle","PI","penumbra","decay","distance","castShadow","shadow","mapSize","width","height","near","far","fov","multiplyScalar","lerp","maxPolarAngle","minPolarAngle","model1","group","specular","receiveShadow","model2","model3","rotateY","xhr","loaded","total","setupGround","scatterRandomGeometry","groundMap","texture2","anisotropy","groundPlane","bumpMap","bumpScale","metalness","roughness","quaternion","setFromAxisAngle","meshElems","geo","transparent","opacity","stepAngle","turns","elem","dist","sound","start","createSinths","setFromCamera","intersects","intersectObjects","oscillate","playOnTrigger","originalScaleX","originalScaleY","originalScaleZ","oscil","gsap","timeline","ease","eventCallback","isAnimating","play","raycast","stop","onDocumentMouseDown","preventDefault","TranslucentShader","merge","join","sortPoints","vector","matrix","multiplyMatrices","projectionMatrix","matrixWorldInverse","multiply","matrixWorld","index","getIndex","positions","getAttribute","Uint16Array","setIndex","sortArray","fromArray","sort","a","b","indices","needsUpdate","setupPoints","light","texture3","u_texture1","imgTexture","texture1","thicknessTexture","shader","lights","translMaterial","setupTranslucentShader","meshArray","sphereGeo","icoGeometry","cylGeometry","setPosition","vertices","makeRotationFromEuler","vertex","length1","colors","sizes","toArray","size","animatePoints","pointLight","pointLight2","pointLight3","ambient","u_move","gltfLoader","surfaceArray","plane","computeVertexNormals","computeFaceNormals","materials","flatShading","wireframe","SceneUtils","createMultiMaterialObject","addSnowParticles","maxInstancedCount","triangles","setXYZ","offsets","instances","ul","count","setXYZW","orientations","w","times","setX","partMaterial","setupParticleMaterial","snowparticles","frustumCulled","up","verticesNeedUpdate","normalsNeedUpdate","createSkyboxFromTexture","setupParticles","particleMap","partTexture","uResolution","uTime","uTexture0","skyboxMatArr","skyboxTexFront","skyboxTexBack","skyboxTexUp","skyboxTexDown","skyboxTexRight","skyboxTexLeft","skyboxGeo","skyboxMesh","mirrorSphereCamera","envMap","renderTarget","blending","depthTest","vertexColors","buffGeo","g","setUsage","particles","meshes","geo1","geo2","mirrorMat","setupMirrorMaterial","mesh2","xOffset","getRandom","yOffset","zOffset","scaleFactor","updateParticles","updateMirrorMaterial","min","max","getRandomInt","round","PointerLockManager","PointerLockControls","moveForward","moveBackward","moveLeft","moveRight","velocity","direction","blocker","getElementById","instructions","lock","display","getObject","isLocked","Number","keyCode","getDirection","ViewFinderManager","pointerGrow","pointerShrink","isPointerBig","beginElement","Room","room","BoxLineGeometry","translate","Terrain","texturePath","tex","repeat","TrioMesh","terrainSize","trioMeshes","speed1","speed2","luminosityFact","group2","small1","small2","group1","wfMesh","ang1","ang2","octahedron","rad","wireFr","rotate","PropMesh","propMeshes","angleStep","radius","emissive","changeColor","bump","TrioSpheres","GeoSpawner","geos","mouseDown","onMouseDown","onAction","ImagePlane","topTexture","bgrTexture","pos","uTopImage","uBgrImage","uRes","uColourMult","defines","PR","toFixed","textArr","SpriteText","fontFace","ImageSpawner","bgrImgArr","img7","img8","img9","img10","img11","img12","img13","img14","img15","img16","img17","img18","img19","img20","img21","img22","img23","img24","img25","img26","img27","img28","img29","img30","img31","img32","img33","img34","img35","img36","img37","img38","img39","img40","imagePlanes","topTex","topImgPath","imagePlane","createText","onMouseUp","SoundController","listener","soundPath","buffer","setBuffer","setLoop","setVolume","setRefDistance","isSplash","setupSplashScreen","ambLight","text1","text2","addPositionalSound","viewFinder","setupSubjects","sceneSubjects","getWidth","images","getElapsedTime","onActionStart","onActionEnd","clientWidth","clientHeight","onKeyDown","onKeyUp","onDocumentMouseUp","onDocumentKeyDown","setupMainScene","onDocumentKeyUp","innerHTML","expanded","cx","cy","stroke","strokeWidth","attributeName","begin","dur","repeatCount","from","Fantasynth","backgroundColor","sehsuchte1","sehsuchte3","sehsuchte2","sehsuchte4","Text","Lichtspektakel","lichtspektakel1","lichtspektakel2","lichtspektakel3","lichtspektakel4","GameAsPerformance","gameAsPerformance1","gameAsPerformance2","gameAsPerformance3","gameAsPerformance4","App","exact","component","Snakewoman","Garden","SpaceOcean","Sentinel","Child","ClumsyForest","SphericalMirrors","MoF","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"oHAAAA,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,iBCA3CD,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,6D,gBCA3CD,EAAOC,QAAU,IAA0B,gD,wDCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,cCA3CD,EAAOC,QAAU,2kF,iBCAjBD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,eCA3CD,EAAOC,QAAU,02E,kBCAjBD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,E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","file":"static/js/main.14763811.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/grid.2459b909.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bk.60d744c6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dn.1f532730.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ft.df4ae9cd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lf.abc58c50.jpg\";","module.exports = __webpack_public_path__ + \"static/media/rt.1d4ea3ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/up.24c8eb7b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ballerina.e1b2c70d.glb\";","module.exports = __webpack_public_path__ + \"static/media/garden.876b2a2b.glb\";","module.exports = __webpack_public_path__ + \"static/media/theMofG23.72897073.png\";","module.exports = __webpack_public_path__ + \"static/media/project4.46f728b8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/francoise_rosen_-_blue_pentagon.2dda6d45.wav\";","module.exports = __webpack_public_path__ + \"static/media/stylised_character.d5cec524.glb\";","module.exports = __webpack_public_path__ + \"static/media/icoVoronoi.0e3c2113.glb\";","module.exports = __webpack_public_path__ + \"static/media/project1.6fbd110e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/project2.98b81c5e.png\";","module.exports = __webpack_public_path__ + \"static/media/project3.3c05d183.jpg\";","module.exports = __webpack_public_path__ + \"static/media/snakewoman.ac39cb7d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/garden.aa3f4d9b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/child.4a17bb6d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spaceocean.29004343.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sentinel.63503be3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/clumsyforest.e9b9d26e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sphericalmirrors.b0b308ff.jpg\";","module.exports = __webpack_public_path__ + \"static/media/child.6c9cb6a8.glb\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/forest.373d0c1e.glb\";","module.exports = __webpack_public_path__ + \"static/media/caustic.d4e4e558.png\";","module.exports = __webpack_public_path__ + \"static/media/bump.21e835dd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/decal.e85f6172.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/theMofG1.5c28e90f.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG2.c6998722.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG3.9d7e1990.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG4.9509d48e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG5.2068d75e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG6.0bcb09dc.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG7.75a1f30e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG8.e6c46fc5.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG9.ade029b1.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG10.92aceadd.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG11.eb1a6ece.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG12.9b7bf082.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG13.65686cf4.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG14.0f353220.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG15.4af800e7.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG16.ae57d799.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG17.bfaf024a.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG18.9f7c09d9.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG19.901c2bc9.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG20.1e3fada6.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG21.ba5b23a0.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG22.251856a1.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG25.7f4510ae.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG26.29787e32.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG27.53b93bc7.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG28.2b57a8c3.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG29.25ef98bb.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG30.658678ca.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG31.420155d1.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG32.1a1650f0.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG33.18b977d7.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG34.9a24bf67.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG35.d24713c5.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG36.38eb6d01.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG37.319a0b7e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG38.d38d622b.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG39.282e0e8d.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG40.322e6531.png\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte1.d43a56bc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte2.a59e3dff.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte3.934ec066.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte4.5625d17a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel1.9b031508.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel2.7f551c96.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel3.feee634f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel4.362ed846.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance1.2b978101.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance2.a3d2cae6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance3.b6a2e581.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance4.9a6fbc77.jpg\";","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory();","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass SideBar extends React.Component\n{\n    render()\n    {\n        return(\n                <div className=\"Sidebar\">\n                <Link to=\"/\" className=\"item\">\n                    Home\n                </Link>\n                <Link to=\"/about\" className=\"item\">\n                    Faulty Agatha\n                </Link>\n                <Link to=\"/webgl\" className=\"item\">\n                    WebGL Playground\n                 </Link>   \n                <Link to=\"/projects\" className=\"item\">\n                    Projects\n                </Link>\n                <Link to=\"/contacts\" className=\"item\">\n                    Poke Me\n                </Link>\n                <p></p>\n                <p></p>\n                <a\n                href=\"https://github.com/faultyagatha\" \n                title=\"Follow on Github\">\n                <i className=\"github alternate icon\"></i>\n                </a>\n                <a\n                href=\"https://www.instagram.com/faultyagatha\" \n                title=\"Follow on Instagram\">\n                <i className=\"instagram icon\"></i>\n                </a> \n                <a\n                href=\"https://vimeo.com/faultyagatha\" \n                title=\"Follow on Vimeo\">\n                <i className=\"vimeo v icon\"></i>\n                </a>      \n             </div> \n        );\n    };\n};\n\nexport default SideBar;","/** based on https://tympanus.net/Development/ExplodingObjects/index-icosahedron.html */\n\n//TODO: fix images and models\n\nimport * as THREE from \"three\"\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\nimport { coloursToArray, getRandomAxis, getCentroid } from './utils';\n\nimport pathToModel from '../assets/models/icoVoronoi.glb';\n\nimport img1 from '../assets/img/skybox/bk.jpg';\nimport img2 from '../assets/img/skybox/dn.jpg';\nimport img3 from '../assets/img/skybox/ft.jpg';\nimport img4 from '../assets/img/skybox/lf.jpg';\nimport img5 from '../assets/img/skybox/rt.jpg';\nimport img6 from '../assets/img/skybox/up.jpg';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } ); //alpha: true\n        this.clock = new THREE.Clock();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/2f3e4f-af7595-1ac8ed-8c2155-5c1a1b');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n\n        this.scene.background = this.colourArr[0]; \n\n        this.surfaceColor = this.colourArr[1]; \n        this.insideColor = this.colourArr[2]; \n        this.inverted = false;\n\n        this.targetmouseX = 0;\n        this.targetmouseY = 0;\n\n        this.delta = this.clock.getDelta();\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupListeners();\n        this.setupcubeTexture();\n        this.setupModels();\n        this.settings();\n        this.addObjects();\n        this.render();\n        this.animate();\n    }\n\n    settings() \n    {\n        this.settings = {\n          progress: 0\n        };\n    }\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(0, 0, 8);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight()\n    {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[3], 3);\n\t\themiLight.position.set(0, 5, 0);\n        this.scene.add(hemiLight);\n    }\n\n    setupControls()\n    {\n        this.controls = new OrbitControls( this.camera, this.renderer.domElement );\n        this.controls.autoRotateSpeed = .2;\n        this.controls.autoRotate = true;\n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 80;\n        this.controls.minDistance = 5;\n\t\tthis.controls.addEventListener('change', this.render.bind(this));\n    }\n\n    setupModels()\n    {\n        this.voronoi = [];\n        const loader = new GLTFLoader();  \n        loader.load(pathToModel,\n        (gltf) => {\n            gltf.scene.scale.set(20, 20, 20);\n            gltf.scene.traverse(child => {\n                if(child.name === \"Voronoi_Fracture\")\n                {\n                    if(child.children[0].children.length > 2)\n                    {\n                        child.children.forEach(f => {\n                            f.children.forEach(m => {\n                              this.voronoi.push(m.clone());\n                            });\n                          });\n                    } else \n                    {\n                        child.children.forEach(m => {\n                            this.voronoi.push(m.clone());\n                        });\n                    }\n                }  \n            });\n        // console.log(gltf.scene);\n        this.geoms = [];\n        this.geoms1 = [];\n        let j = 0;\n        this.voronoi = this.voronoi.filter(v => {\n          if(v.isMesh) return false;\n          else \n          {\n            j++;\n            let vtempo = this.processSurface(v, j);\n            if(this.inverted) \n            {\n              this.geoms1.push(vtempo.surface);\n              this.geoms.push(vtempo.volume);\n            } else \n            {\n              this.geoms.push(vtempo.surface);\n              this.geoms1.push(vtempo.volume);\n            }\n            return true;\n          }\n        });\n        let s = BufferGeometryUtils.mergeBufferGeometries(\n        this.geoms,\n        false\n        );\n\n        this.mesh = new THREE.Mesh(s, this.material);\n        this.scene.add(this.mesh);\n\n        let s1 = BufferGeometryUtils.mergeBufferGeometries(\n            this.geoms1,\n            false\n        );\n        this.mesh1 = new THREE.Mesh(s1, this.material1);\n        this.scene.add(this.mesh1);\n        },\n        undefined,\n        function(e) \n        {\n        console.error(e);\n        }\n    );\n    }\n\n    processSurface(v, j) \n    {\n        let c = v.position;\n        let vtemp, vtemp1;\n        vtemp = v.children[0].geometry.clone();\n        vtemp = vtemp.applyMatrix4(\n            new THREE.Matrix4().makeTranslation(c.x, c.y, c.z)\n        );\n        vtemp1 = v.children[1].geometry;\n        vtemp1 = vtemp1\n        .clone()\n        .applyMatrix4(new THREE.Matrix4().makeTranslation(c.x, c.y, c.z));\n\n        let len = v.children[0].geometry.attributes.position.array.length / 3;\n        let len1 = v.children[1].geometry.attributes.position.array.length / 3;\n        //  id\n        let offset = new Array(len).fill(j / 100);\n        vtemp.setAttribute(\n            \"offset\",\n            new THREE.BufferAttribute(new Float32Array(offset), 1)\n        );\n\n        let offset1 = new Array(len1).fill(j / 100);\n        vtemp1.setAttribute(\n            \"offset\",\n            new THREE.BufferAttribute(new Float32Array(offset1), 1)\n        );\n\n        // axis\n        let axis = getRandomAxis();\n        let axes = new Array(len * 3).fill(0);\n        let axes1 = new Array(len1 * 3).fill(0);\n        for (let i = 0; i < len * 3; i = i + 3) {\n        axes[i] = axis.x;\n        axes[i + 1] = axis.y;\n        axes[i + 2] = axis.z;\n        }\n        vtemp.setAttribute(\n            \"axis\",\n            new THREE.BufferAttribute(new Float32Array(axes), 3)\n        );\n        for(let i = 0; i < len1 * 3; i = i + 3) \n        {\n            axes1[i] = axis.x;\n            axes1[i + 1] = axis.y;\n            axes1[i + 2] = axis.z;\n        }\n        vtemp1.setAttribute(\n            \"axis\",\n            new THREE.BufferAttribute(new Float32Array(axes1), 3)\n        );\n\n        let centroidVector = getCentroid(vtemp);\n        let centroid = new Array(len * 3).fill(0);\n        let centroid1 = new Array(len1 * 3).fill(0);\n        for(let i = 0; i < len * 3; i = i + 3) \n        {\n            centroid[i] = centroidVector.x;\n            centroid[i + 1] = centroidVector.y;\n            centroid[i + 2] = centroidVector.z;\n        }\n        for(let i = 0; i < len1 * 3; i = i + 3) \n        {\n            centroid1[i] = centroidVector.x;\n            centroid1[i + 1] = centroidVector.y;\n            centroid1[i + 2] = centroidVector.z;\n        }\n        vtemp.setAttribute(\n            \"centroid\",\n            new THREE.BufferAttribute(new Float32Array(centroid), 3)\n        );\n        vtemp1.setAttribute(\n            \"centroid\",\n            new THREE.BufferAttribute(new Float32Array(centroid1), 3)\n        );\n\n        return { surface: vtemp, volume: vtemp1 };\n    }\n\n    setupcubeTexture() \n    {\n        let urls = [\n            img1,\n            img2,\n            img3,\n            img4,\n            img5,\n            img6\n        ];\n        this.textureCube = new THREE.CubeTextureLoader().load(urls);\n      }\n    \n      addObjects() \n      {\n        this.material = new THREE.ShaderMaterial({\n          extensions: {\n            derivatives: \"#extension GL_OES_standard_derivatives : enable\"\n          },\n          side: THREE.DoubleSide,\n          uniforms: {\n            time: { type: \"f\", value: 0 },\n            progress: { type: \"f\", value: 0 },\n            inside: { type: \"f\", value: 0 },\n            surfaceColor: { type: \"v3\", value: this.surfaceColor },\n            insideColor: { type: \"v3\", value: this.insideColor },\n            tCube: { value: this.textureCube },\n            pixels: {\n              type: \"v2\",\n              value: new THREE.Vector2(window.innerWidth, window.innerHeight)\n            },\n            uvRate1: {\n              value: new THREE.Vector2(1, 1)\n            }\n          },\n          vertexShader: `\n            uniform float time;\n            uniform float progress;\n            uniform float inside;\n\n            attribute vec3 centroid;\n            attribute vec3 axis;\n            attribute float offset;\n\n            varying vec3 eye;\n            varying vec3 vNormal;\n            varying vec3 vReflect;\n\n            mat4 rotationMatrix(vec3 axis, float angle) \n            {\n                axis = normalize(axis);\n                float s = sin(angle);\n                float c = cos(angle);\n                float oc = 1.0 - c;\n                \n                return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                            oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                            oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                            0.0,                                0.0,                                0.0,                                1.0);\n            }\n\n            vec3 rotate(vec3 v, vec3 axis, float angle) \n            {\n                mat4 m = rotationMatrix(axis, angle);\n                return (m * vec4(v, 1.0)).xyz;\n            }\n\n            vec3 bezier4(vec3 a, vec3 b, vec3 c, vec3 d, float t) \n            {\n                return mix(mix(mix(a, b, t), mix(b, c, t), t), mix(mix(b, c, t), mix(c, d, t), t), t);\n            }\n\n            float easeInOutQuint(float t)\n            {\n                return t < 0.5 ? 16.0 * t * t * t * t * t : 1.0 + 16.0 * (--t) * t * t * t * t;\n            }\n\n            float easeOutQuint(float t)\n            {\n                return 1. + (--t) * t * t * t * t;\n            }\n            float easeOut(float t)\n            {\n                return  t * t * t;\n            }\n\n            void main() \n            {\n            vec3 newposition = position;\n\n            float vTemp =  1. - ((centroid.x + centroid.y)*0.5 + 1.)/2.;\n\n            float tProgress = max(0.0, (progress - vTemp*0.4) /0.6);\n            vec3 newnormal = rotate(normal,axis,tProgress*(3. + offset*10.));\n            vNormal = newnormal;\n\n            newposition += newposition + centroid*(tProgress)*(3. + offset*7.);\n\n            eye = normalize( vec3( modelViewMatrix * vec4( newposition, 1.0 ) ) );\n            vec4 worldPosition = modelMatrix * vec4( newposition, 1.0 );\n            vec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * newnormal );\n            vec3 I = worldPosition.xyz - cameraPosition;\n            vReflect = reflect( I, worldNormal );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( newposition, 1.0 );\n            }`\n          ,\n          fragmentShader: `\n            uniform float time;\n            uniform float progress;\n            uniform float inside;\n            uniform vec3 surfaceColor;\n            uniform vec3 insideColor;\n            uniform samplerCube tCube;\n\n            varying vec2 vUv;\n            varying vec2 vUv1;\n            varying vec3 eye;\n            varying vec3 vNormal;\n            varying vec3 vReflect;\n\n            void main()\t\n            {\n                vec3 r = reflect( eye, vNormal );\n                float m = 2. * sqrt( pow( r.x, 2. ) + pow( r.y, 2. ) + pow( r.z + 1., 2. ) );\n                vec2 vN = r.xy / m + .5;\n                vec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n\n                vec3 light = normalize(vec3(12.,10.,10.));\n                vec3 light1 = normalize(vec3(-12.,-10.,-10.));\n                float l = clamp(dot(light, vNormal),0.5,1.);\n                l += clamp(dot(light1, vNormal),0.5,1.)/2.;\n                // l /= 2.;\n                \n                if(inside>0.5){\n                    gl_FragColor = vec4(l,l,l,1.)*vec4(surfaceColor,1.);\n                } else{\n                    gl_FragColor = reflectedColor*vec4(insideColor,1.);\n                }\n            }`\n        });\n    \n        this.material1 = this.material.clone();\n        this.material1.uniforms.inside.value = 1;\n      }\n\n    render() \n    {\n        if (isNaN(this.delta) || this.delta > 1000 || this.delta === 0 ) \n        {\n\t        this.delta = 1000/60;\n        }\n        this.material.uniforms.progress.value = Math.abs(this.settings.progress);\n        this.material1.uniforms.progress.value = Math.abs(this.settings.progress);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    animate = () =>\n    {\n        if(this.disposed) return;\n        requestAnimationFrame(this.animate);\n        this.controls.update();\n        this.render();\n    }\n\n    setupListeners()\n    {\n        window.addEventListener( 'resize', this.onWindowResize, false );\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n        document.addEventListener(\"touchmove\", this.onDocumentTouchMove, false);\n    }\n\n    onWindowResize = () =>\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n        this.render();\n    }\n\n    onDocumentMouseMove = (e) =>\n    {\n        this.targetmouseX = 2*(e.clientX - window.innerWidth/2)/window.innerWidth;\n        this.targetmouseY = 2*(e.clientY - window.innerHeight/2)/window.innerHeight;\n\n        let r = Math.sqrt(this.targetmouseX * this.targetmouseX + this.targetmouseY * this.targetmouseY);\n        r = this.targetmouseX;\n        this.settings.progress= r*r;\n    }\n\n    onDocumentTouchMove = (e) =>\n    {\n        const touch = e.targetTouches[0];\n        this.onDocumentMouseMove({ clientX: touch.clientX, clientY: touch.clientY });\n    }\n\n    dispose() \n    {\n        this.disposed = true;\n        window.removeEventListener(\"resize\", this.onWindowResize);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        document.removeEventListener(\"touchmove\", this.onDocumentTouchMove);\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    }\n}","import * as THREE from \"three\"\n\nexport function coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n\nexport function getRandomAxis() \n{\n    return new THREE.Vector3(\n      Math.random() - 0.5,\n      Math.random() - 0.5,\n      Math.random() - 0.5\n    ).normalize();\n};\n\nexport function getCentroid(geometry) \n{\n    let ar = geometry.attributes.position.array;\n    let len = ar.length;\n    let x = 0,\n      y = 0,\n      z = 0;\n    for (let i = 0; i < len; i = i + 3) \n    {\n      x += ar[i];\n      y += ar[i + 1];\n      z += ar[i + 2];\n    }\n    return { x: (3 * x) / len, y: (3 * y) / len, z: (3 * z) / len };\n};","/** Three container:\n * <div> below is the container of the canvas\n * created in the threeEntryPoint (index.js);\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * @threeEntryPoint() is called when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport Sidebar from '../Sidebar';\nimport SceneController from \"../../home/SceneController\";\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.sceneController.setup();\n    };\n\n    componentWillUnmount() \n    {\n        if(this.sceneController) this.sceneController.dispose();\n    };\n\n    render () \n    {\n        return (\n            <div>\n                <Sidebar/>\n                <div ref={element => this.threeRootElement = element} />\n            </div>\n        );\n    }\n}\n\n\n    \n\n\n","import React from 'react';\nimport Sidebar from '../Sidebar';\n\nconst About = () =>\n{\n    return(\n        <div>\n            <Sidebar/>\n            {/* <div style={{\n                backgroundColor: '#2F3E4F',\n                width: window.innerWidth,\n                height: window.innerHeight\n            }}> */}\n            <div className=\"App-Page\">\n                <h3>I am a Berlin-based visual artist and creative technologist interested in how everyday encounter with tech- changes the way we think of ourselves as humans. I love real-time 3D and do weird stuff using Unreal, Unity, and WebGL.\n                </h3>    \n            </div>\n        </div>\n    );\n}\n\nexport default About;","import React from 'react';\n\nconst ProjectDescription = (props) =>\n{\n    return(\n        <div style={{\n                fontSize: 20.9,\n                color: '#2F3E4F',\n                textAlign: \"center\",\n                fontWeight: \"bold\"\n            }}\n        > { props.text }\n        </div>\n    )\n};\n\nexport default ProjectDescription;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport history from '../history';\nimport ProjectDescription from '../ProjectDescription';\n\nclass ProjectItem extends React.Component \n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    openSketch()\n    {\n        console.log(this.props.project.url);\n        history.push(this.props.project.url);\n        return (\n            <div>\n            <Link to={`/projects/${this.props.project.id}`}/>\n            </div>\n        );  \n    };\n\n    render() \n    {\n        return(\n        <div>\n            <img className=\"Project-Item\"\n                onClick={() => this.openSketch()}\n                src={this.props.project.cover}\n                alt={this.props.project.title}\n            />\n            <br/>\n            <ProjectDescription text={this.props.project.description}/>\n            <br/>\n        </div>\n        )\n    }\n}\n\nexport default ProjectItem;","import React from 'react';\nimport '../assets/css/Projects.css'; \nimport ProjectItem from './pages/ProjectItem';\n\nconst ProjectGrid = (props) =>\n{\n    const projects = props.projects.map((project) => \n    {\n        return (\n            <ProjectItem\n            className=\"Project-Item\"\n            key={ project.id }\n            project={ project }\n            />\n        );\n    });\n\n    return (\n        <div className=\"Project-Grid\">\n            { projects }\n        </div>\n    );\n}\n\nexport default ProjectGrid;","//TODO: solve url and clean path \nimport theMofGame from '../assets/img/covers/project1.jpg';\nimport gameAsPA from '../assets/img/covers/project2.png';\nimport fantasynth from '../assets/img/covers/project3.jpg';\nimport lichtspektakel from '../assets/img/covers/project4.jpg';\nimport avPerformances from '../assets/img/covers/project4.jpg';\n\nconst ProjectList = [\n    {\n      id: 1,\n      cover: theMofGame,\n      url: '/projects/meaningofgame/',\n      title: 'The Meaning of Game',\n      description: \"THE MEANING OF GAME: FP art game in browser\"\n    },\n    {\n      id: 2,\n      cover: gameAsPA,\n      url: '/projects/gameasperformanceart/',\n      title: 'Game as Performance Art',\n      description: \"GAME AS PERFORMANCE ART: Standalone\"\n    },\n    {\n      id: 3,\n      cover: fantasynth,\n      url: '/projects/fantasynth/',\n      title: 'Fantasynth',\n      description: \"FANTASYNTH: Real-time installation\"\n    },\n    {\n      id: 4,\n      cover: lichtspektakel,\n      url: '/projects/lichtspektakel/',\n      title: 'Lichtspektakel',\n      description: \"LIGHT SPECTACLE: Projection mapping\"\n    }\n    // {\n    //   id: 5,\n    //   cover: avPerformances,\n    //   url: '/projects/performances/',\n    //   title: 'AV Performances',\n    //   description: \"LIGHT SPECTACLE: Projection mapping\"\n    // }\n]; \n\nexport default ProjectList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst CompactSideBar = () =>\n{\n    return(\n            <div className=\"Sidebar\">\n                <Link to=\"/\" className=\"item\">\n                    Home\n                </Link>\n            </div>          \n    );\n};\n\nexport default CompactSideBar;","import React from 'react';\nimport '../../assets/css/Projects.css'; \nimport ProjectGrid from '../ProjectGrid';\nimport projectList from '../ProjectList';\nimport CompactSideBar from '../CompactSidebar';\n\nexport default class Projects extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = { projects: projectList };\n    };\n\n    render()\n    {\n        return(\n            <div>\n                <CompactSideBar/>\n                <div className=\"Project\">\n                <ProjectGrid projects={ this.state.projects }/>\n                </div>\n            </div>\n        );\n    };\n}","//TODO: check here routing https://github.com/ReactTraining/react-router/blob/v0.13.6/doc/03%20Components/Link.md#params\n//https://www.w3schools.com/html/html_iframe.asp\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport history from '../history';\n// import OpenSketch from '../OpenSketch';\n\n\nexport default class SketchItem extends React.Component \n{\n    constructor(props)\n    {\n        super(props);\n    }\n\n    openSketch()\n    {\n        // console.log(this.props.sketch.component);\n        history.push(this.props.sketch.url);\n        return (\n            <div>\n            <Link to={`/webgl/${this.props.sketch.id}`}>\n                {/* <OpenSketch component={ this.props.sketch.component } /> */}\n            </Link>\n            </div>\n        );  \n    };\n\n    render() \n    {\n        return(\n        <div>\n            <img className=\"Sketch-Item\"\n                src={this.props.sketch.cover}\n                alt={this.props.sketch.title}\n                onClick={() => this.openSketch()}\n            />\n            {/* <iframe src={this.props.sketch.url} className=\"Sketch-Content\" /> */}\n        </div>\n        )\n    }\n}","import React from 'react';\nimport '../assets/css/Sketches.css'; \nimport SketchItem from './pages/SketchItem';\n\nconst SketchGrid = (props) =>\n{\n    const sketches = props.sketches.map((sketch) => \n    {\n        return (\n        <SketchItem\n            className=\"Sketch-Item\"\n            key={sketch.id}\n            sketch={sketch}   \n        />\n        );\n    });    \n\n  return ( \n    <div className=\"Sketch-Grid\">\n        { sketches }  \n\t\t</div>\n\t);\n}\n\nexport default SketchGrid;\n","import snakewoman from '../assets/img/covers/snakewoman.jpg';\nimport garden from '../assets/img/covers/garden.jpg';\nimport child from '../assets/img/covers/child.jpg';\nimport spaceocean from '../assets/img/covers/spaceocean.jpg';\nimport sentinel from '../assets/img/covers/sentinel.jpg';\n\nimport clumsyforest from '../assets/img/covers/clumsyforest.jpg';\nimport sphericalmirrors from '../assets/img/covers/sphericalmirrors.jpg';\n\nconst SketchList = [\n    {\n      id: 1,\n      cover: snakewoman,\n      path: '../assets/img/covers/snakewoman.jpg',\n      url: 'webgl/snakewoman',\n      // component: Snakewoman,\n      title: 'Snakewoman'\n    },\n    {\n      id: 2,\n      cover: garden,\n      path: '../assets/img/covers/garden.jpg',\n      url: 'webgl/garden',\n      // component: Garden,\n      title: 'Garden'\n    },\n    {\n      id: 3,\n      cover: child,\n      path: '../assets/img/covers/child.jpg',\n      url: '/webgl/child',\n      // component: Child,\n      title: 'Child'\n    },\n    {\n      id: 4,\n      cover: clumsyforest,\n      path: '../assets/img/covers/clumsyforest.jpg',\n      url: '/webgl/clumsyforest',\n      // component: ClumsyForest,\n      title: 'Clumsy Forest'\n    },\n    {\n      id: 5,\n      cover: sentinel,\n      path: '../assets/img/covers/sentinel.jpg',\n      url: '/webgl/sentinel',\n      // component: Sentinel,\n      title: 'Sentinel'\n    },\n    {\n      id: 6,\n      cover: spaceocean,\n      path: '../assets/img/covers/spaceocean.jpg',\n      url: 'webgl/spaceocean',\n      // component: SpaceOcean,\n      title: 'Space Ocean'\n    },\n    {\n      id: 7,\n      cover: sphericalmirrors,\n      path: '../assets/img/covers/sphericalmirrors.jpg',\n      url: 'webgl/sphericalmirrors',\n      // component: SphericalMirrors,\n      title: 'Spherical Mirrors'\n    }\n]; \n\nexport default SketchList;\n","import React from 'react';\n// import { connect } from 'react-redux';\n\nimport '../../assets/css/Sketches.css'; \nimport SketchGrid from '../SketchGrid';\nimport sketchList from '../SketchList';\nimport CompactSideBar from '../CompactSidebar';\n  \n\nexport default class Sketches extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n    this.state = { sketches: sketchList };\n  };\n\n  render()\n  {\n    return ( \n      <div>\n          <CompactSideBar/>\n          <div className=\"Sketch\"> \n            <SketchGrid sketches={ this.state.sketches } />\n            {/* <SketchGrid sketches={ this.props.sketches } /> */}\n          </div>\n      </div>    \n    );\n  };\n}\n\n// const mapStateToProps = (state, ownProps) =>\n// {\n//     return { sketches: state.sketches }\n// }\n\n// export default connect(mapStateToProps)(Sketches);\n","import React from 'react';\nimport Sidebar from '../Sidebar';\n\nconst Contacts = () =>\n{\n    return(\n        <div>\n            <Sidebar/>\n            {/* <div style={{\n                backgroundColor: '#2F3E4F',\n                width: window.innerWidth,\n                height: window.innerHeight,\n            }}> */}\n                <div className=\"App-Page\">\n                <h2>faulty.agatha(at)gmail.com </h2>\n            </div>\n        </div>    \n    );\n}\n\nexport default Contacts;","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport pathToModel from '../../assets/models/ballerina.glb';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.startTime = Date.now();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n\n        this.scene.background = this.colourArr[0];  \n\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 200;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(-50, 10, 60);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupLight()\n    {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[0], 1);\n        hemiLight.position.set(0, 0.5, -1);\n        this.scene.add(hemiLight);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[4], 5);\n        this.scene.add(dirLight);\n\n        //lights to animate\n        let sphere = new THREE.SphereBufferGeometry(0.15, 8, 8);\n        this.light1 = new THREE.PointLight(0xff0040, 2, 50);\n        this.light1.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD  } ) ) );\n        this.scene.add(this.light1);\n\n        this.light2 = new THREE.PointLight(0x0040ff, 2, 50);\n        this.light2.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0x23D9D1 } ) ) );\n        this.scene.add(this.light2);\n\n        this.light3 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light3.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD } ) ) );\n        this.scene.add(this.light3);\n\n        this.light4 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light4.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD } ) ) );\n        this.scene.add(this.light4 );\n        \n        this.light5 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light5.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD  } ) ) );\n        this.scene.add(this.light5);\n\n        this.light6 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light6.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0x23D9D1 } ) ) );\n        this.scene.add(this.light6);\n\n        this.light7 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light7.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD } ) ) );\n        this.scene.add(this.light7);\n    };\n\n    setupControls()\n    {\n        this.controls = new OrbitControls( this.camera, this.renderer.domElement );\n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 150;\n        this.controls.minDistance = 9;\n\t\t// this.controls.addEventListener('change', this.render.bind(this));\n    };\n\n    setupShaderMaterial()\n    {\n\t    this.uniforms = {\n            u_resolution: { type: \"v2\", value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time:       { type: \"f\", value: 0},\n            u_color0:     { type: \"v3\", value: new THREE.Color( 0xff0000 ) },\n            u_color1:     { type: \"v3\", value: new THREE.Color( 0x6fa8dc ) },\n        };\n\n        let material = new THREE.ShaderMaterial( {\n            uniforms :      this.uniforms,\n            vertexShader:   `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    gl_FragColor=vec4(col, 1.0);\n                    //gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels()\n    {\n        let material = this.setupShaderMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.traverse(node => {\n                if (node.isMesh) \n                {\n                    node.material = material;\n                    node.position.z = -3;\n                    node.scale.x = 0.5;\n                    node.scale.y = 0.5;\n                    node.scale.z = 0.5;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    };\n\n    setupGeometry()\n    {\n        let geometry = new THREE.IcosahedronGeometry(2.5, 0);\n        let material = new THREE.MeshPhongMaterial({\n            color: 0x020b13,\n            shininess: 100\n        });\n        let mesh = new THREE.Mesh(geometry, material);\n        this.scene.add(mesh);\n\n        let num = 200;\n        let sc = 3;\n\n        let bbGeometry = new THREE.IcosahedronBufferGeometry(sc*0.5, 0);\n        this.bbRoot = new THREE.Mesh(bbGeometry, material);\n        this.bbRoot.position.x = sc * 10;\n        this.bbRoot.position.y = -sc * 2;\n        this.scene.add(this.bbRoot);\n\n        let parent = this.bbRoot;\n        for(let i = 0; i < num; i++)\n        {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n\n        for(let i = 0; i < num; i++)\n        {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = -sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n\n        for(let i = 0; i < num; i++)\n        {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = -sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n\n        for(let i = 0; i < num; i++)\n        {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n\n        parent = this.bbRoot;\n\n        for(let i = 0; i < num; i++)\n        {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = -sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n    };\n\n    orbitCamera(rotSpeed)\n    {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(this.scene.position);\n    };\n\n    updateSceneSubjects(time)\n    {\n        //animate lights\n        this.light1.position.x = Math.sin( 0.001 * time ) * 4;\n        this.light1.position.y = Math.cos( 0.001 * time ) * 4;\n        this.light1.position.z = Math.cos( 0.001 * time ) * 4;\n\n        this.light2.position.x = Math.cos( 0.001 * time ) * 5;\n        this.light2.position.y = Math.sin( 0.001 * time ) * 5;\n        this.light2.position.z = Math.sin( 0.001 * time ) * -5;\n\n        this.light3.position.x = Math.sin( 0.001 * time ) * -4;\n        this.light3.position.y = Math.cos( 0.001 * time ) * 4;\n        this.light3.position.z = Math.sin( 0.001 * time ) * 4;\n\n        this.light4.position.x = Math.sin( 0.001 * time ) * -5;\n        this.light4.position.y = Math.cos( 0.001 * time ) * -5;\n        this.light4.position.z = Math.sin( 0.001 * time ) * 5;\n\n        this.light5.position.x = Math.sin( 0.001 * time ) * 5;\n        this.light5.position.y = Math.cos( 0.001 * time ) * -5;\n        this.light5.position.z = Math.sin( 0.001 * time ) * 5;\n\n        this.light6.position.x = Math.sin( 0.001 * time ) * 3;\n        this.light6.position.y = Math.cos( 0.001 * time ) * 3;\n        this.light6.position.z = Math.cos( 0.001 * time ) * -3;\n\n        this.light7.position.x = Math.sin( 0.001 * time ) * -4;\n        this.light7.position.y = Math.cos( 0.001 * time ) * 4;\n        this.light7.position.z = Math.sin( 0.001 * time ) * -4;\n\n        let timeFactor = Date.now() * 0.001;\n        let rx = Math.sin( timeFactor * 0.7 ) * 0.2;\n\t    let ry = Math.sin( timeFactor * 0.3 ) * 0.1;\n\n        this.bbRoot.traverse((object) =>\n        {\n            object.rotation.x = rx;\n            object.rotation.y = ry;\n        });\n    }\n\n    update() \n    {\n        if(this.disposed) return;\n        if(this.camera) this.orbitCamera(0.001);\n        if(this.controls) this.controls.update();\n        if(this.uniforms) this.uniforms['u_time'].value = 0.001 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() - this.startTime);\n\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    dispose()\n    {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    };\n};\n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render () \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","/**\n * TODO: \n * - add onloadscreen\n * - replace light with spheres (maybe) + sprite material\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport pathToModel from '../../assets/models/garden.glb';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.startTime = Date.now();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n        // this.scene.fog = new THREE.Fog(this.colourArr[2], 1, 50);  \n\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(-3, -22, 17);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupLight()\n    {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[0], 1);\n        hemiLight.position.set(0, 0.5, -1);\n        this.scene.add(hemiLight);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[4], 5);\n        this.scene.add(dirLight);\n\n        //lights to animate\n        let sphere = new THREE.SphereBufferGeometry(0.15, 8, 8);\n        this.light1 = new THREE.PointLight(0xff0040, 2, 50);\n        this.light1.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD  } ) ) );\n        this.scene.add(this.light1);\n\n        this.light2 = new THREE.PointLight(0x0040ff, 2, 50);\n        this.light2.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0x23D9D1 } ) ) );\n        this.scene.add(this.light2);\n\n        this.light3 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light3.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD } ) ) );\n        this.scene.add(this.light3);\n\n        this.light4 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light4.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD } ) ) );\n        this.scene.add(this.light4 );\n        \n        this.light5 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light5.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD  } ) ) );\n        this.scene.add(this.light5);\n\n        this.light6 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light6.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0x23D9D1 } ) ) );\n        this.scene.add(this.light6);\n\n        this.light7 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light7.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial( { color: 0xA3D2FD } ) ) );\n        this.scene.add(this.light7);\n    };\n\n    setupControls()\n    {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        // this.controls.autoRotateSpeed = .2;\n        // this.controls.autoRotate = true;\n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 70;\n        this.controls.minDistance = 5;\n\t\t//this.controls.addEventListener('change', this.update.bind(this));\n    };\n\n    setupShaderMaterial()\n    {\n\t    this.uniforms = {\n            u_resolution: { type: \"v2\", value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time:       { type: \"f\", value: 0}\n            // u_color0:     { type: \"v3\", value: new THREE.Color( 0xff0000 ) },\n            // u_color1:     { type: \"v3\", value: new THREE.Color( 0x6fa8dc ) },\n        };\n\n        let material = new THREE.ShaderMaterial( {\n            uniforms :      this.uniforms,\n            vertexShader:   `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    //gl_FragColor=vec4(col, 1.0);\n                    gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels()\n    {\n        let material = this.setupShaderMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.position.set(-50, -100, 50);\n            this.root.scale.set(0.5, 0.5, 0.5);\n            this.root.traverse(node => {\n                if(node.isMesh) \n                {\n                    node.material = material;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    };\n\n    setupGeometry()\n    {\n        let geometry = new THREE.IcosahedronGeometry(3, 0);\n        let material = new THREE.MeshPhongMaterial({\n            color: 0x020b13,\n            shininess: 100\n        });\n        let mesh = new THREE.Mesh(geometry, material);\n        this.scene.add(mesh);\n    };\n\n    orbitCamera(rotSpeed)\n    {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    updateSceneSubjects(time)\n    {\n        this.light1.position.x = Math.sin( 0.001 * time ) * 4;\n        this.light1.position.y = Math.cos( 0.001 * time ) * 4;\n        this.light1.position.z = Math.cos( 0.001 * time ) * 4;\n\n        this.light2.position.x = Math.cos( 0.001 * time ) * 5;\n        this.light2.position.y = Math.sin( 0.001 * time ) * 5;\n        this.light2.position.z = Math.sin( 0.001 * time ) * -5;\n\n        this.light3.position.x = Math.sin( 0.001 * time ) * -4;\n        this.light3.position.y = Math.cos( 0.001 * time ) * 4;\n        this.light3.position.z = Math.sin( 0.001 * time ) * 4;\n\n        this.light4.position.x = Math.sin( 0.001 * time ) * -5;\n        this.light4.position.y = Math.cos( 0.001 * time ) * -5;\n        this.light4.position.z = Math.sin( 0.001 * time ) * 5;\n\n        this.light5.position.x = Math.sin( 0.001 * time ) * 5;\n        this.light5.position.y = Math.cos( 0.001 * time ) * -5;\n        this.light5.position.z = Math.sin( 0.001 * time ) * 5;\n\n        this.light6.position.x = Math.sin( 0.001 * time ) * 3;\n        this.light6.position.y = Math.cos( 0.001 * time ) * 3;\n        this.light6.position.z = Math.cos( 0.001 * time ) * -3;\n\n        this.light7.position.x = Math.sin( 0.001 * time ) * -4;\n        this.light7.position.y = Math.cos( 0.001 * time ) * 4;\n        this.light7.position.z = Math.sin( 0.001 * time ) * -4;\n    }\n\n    update() \n    {\n        if(this.disposed) return;\n        if(this.camera) this.orbitCamera(0.001);\n        if(this.controls) this.controls.update();\n        if(this.uniforms) this.uniforms['u_time'].value = 0.001 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() - this.startTime);\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    dispose()\n    {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n        //   child.material.dispose();\n        //   child.geometry.dispose();\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    };\n};\n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render () \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport pathToModel from '../../assets/models/child.glb';\nimport texture_0 from '../../assets/img/textures/colors.jpg';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.startTime = Date.now();\n        this.mouse = new THREE.Vector2(0, 0);\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/003052-007a1f-ff5969-ff99a3-ffdb9e');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[3];\n        this.scene.fog = new THREE.Fog(this.colourArr[1], 0.1, 100);  \n\n        this.setupCamera();\n        this.setupLight();\n        this.setupGlobalUniforms();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 60;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.z = 3;\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupLight()\n    {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[0], 1);\n        hemiLight.position.set(0, 0.5, -1);\n        this.scene.add(hemiLight);\n    };\n\n    setupControls()\n    {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        // this.controls.autoRotateSpeed = .5;\n        // this.controls.autoRotate = true;\n        \n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 80;\n        this.controls.minDistance = 2;\n\t\t// this.controls.addEventListener('change', this.update.bind(this));\n    };\n\n    setupGlobalUniforms()\n    {\n        let loader = new THREE.TextureLoader();\n        let texture = loader.load(texture_0);\n        texture.minFilter = texture.magFilter = THREE.NearestFilter;\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n        this.uniforms = {\n            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time:       { value: 0},\n            u_color0:     { value: new THREE.Color( this.colourArr[0] ) },\n            u_texture_0:  { value: texture}\n        };\n    }\n\n    setupShaderOneMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms : this.uniforms,\n            vertexShader: `\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n                uniform sampler2D u_texture_0;\n                uniform vec3 u_color0;\n\n                varying vec2 vUv;\n\n                #define TIMESCALE 0.25 \n                #define TILES 10\n                #define COLOR 0.2, 1.6, 2.8\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n                    pos.x *= u_resolution.x/u_resolution.y;\n\n                    // vec4 noise = texture2D(u_texture_0, fract(pos * float(TILES)) / float(TILES));\n                    // float p = 1.0 - mod(noise.r + noise.g + noise.b + u_time * float(TIMESCALE), 1.0);\n                    // p = min(max(p * 3.0 - 1.8, 0.1), 2.0);\n    \n                    // vec2 r = mod(pos * float(TILES) + fract(u_time * 0.5), 1.0);\n                    // r = vec2(pow(r.x - 0.5, 2.0), pow(r.y - 0.5, 2.0));\n                    // p /= 1.0 - pow(min(1.0, 12.0 * dot(r, r)), 0.2);\n    \n                    // gl_FragColor = vec4(u_color0, 1.0) * p;\n\n                    vec4 noise = texture2D(u_texture_0, floor(pos * float(TILES)) / float(TILES));\n                    float p = 1.0 - mod(noise.r + noise.g + noise.b + u_time * float(TIMESCALE), 1.0);\n                    p = min(max(p * 3.0 - 1.8, 0.1), 2.0);\n \n                    vec2 r = mod(pos * float(TILES), 1.0);\n                    r = vec2(pow(r.x - 0.5, 2.0), pow(r.y - 0.5, 2.0));\n                    p *= 1.0 - pow(min(1.0, 12.0 * dot(r, r)), 2.0);\n \n                    gl_FragColor = vec4(COLOR, 1.0) * p;\n                }\n            `\n        });\n        return material;\n    }\n\n    setupShaderTwoMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms : this.uniforms,\n            vertexShader: `\n                precision mediump float;\n                uniform float u_time;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vUv = uv;\n                    float modPos = abs(3.*sin(u_time*0.1));\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position*modPos, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                vec2 random2(vec2 p) \n                {\n                    return fract(sin(vec2(dot(p,vec2(127.1,311.7)),\n                            dot(p,vec2(269.5,183.3))))*43758.5453);\n                } \n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n                    pos.x *= u_resolution.x/u_resolution.y;\n\n                    vec2 i_pos= floor(pos); //tile coordinates stored as integer\n                    vec2 f_pos = fract(pos); //pixel coordinates stored as float\n\n                    float min_dist = 1.0;\n                    for(int y=-1; y<=1; y++) \n                    {\n                        for(int x=-1; x<=1; x++) \n                        {\n                            vec2 neighbour = vec2(float(x), float(y));\n                            //compute the random position of the points on each one of the \n                            //neighbours by adding the neighbour offset\n                            vec2 point = random2(i_pos + neighbour);\n                            //animate the points\n                            point = 0.5 + 0.5*sin(u_time + 6.2831*point);\n                            vec2 d = neighbour + point - f_pos; //difference between each pixel and random f.point \n                            float dist = length(d); //distance to the point\n                            min_dist = min(min_dist, dist); //get the closest distance\n                        }\n                    }\n                    //colour manipulation with helper functions\n                    float r = length(pos) * 2.0;\n                    float a = atan(pos.y, pos.x);\n\n                    float f = cos(a*3.0);\n                    // f = abs(cos(a*3.0));\n                    // f = abs(cos(a*2.5))*0.5+0.3;\n                    // f = abs(cos(a*12.0)*sin(a*3.0))*0.8+0.1;\n                    // f = smoothstep(-0.5, 1.0, cos(a*10.0))*0.2+0.5;\n                    f = abs(cos(a) * sin(a*3.0));\n\n\n                    vec3 colour = vec3(min_dist);\n                    //draw cell center\n                    //colour.r = 0.3;\n                    colour.r += step(sin(f), min_dist);\n                    //colour.g += step(f*0.1, min_dist) * 0.3;\n                    colour.g = 0.1;\n                    colour.b += step(cos(f*0.2), min_dist) * 0.4;\n\n                    gl_FragColor = vec4(vec3(colour.r, colour.g, colour.b), 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels()\n    {\n        let material = this.setupShaderOneMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.position.set(0, -5, -2);\n            this.root.scale.set(0.01, 0.01, 0.01);\n            this.root.traverse(node => {\n                if(node.isMesh) \n                {\n                    node.material = material;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    };\n\n    setupGeometry()\n    {\n        let sphereGeometry = new THREE.SphereGeometry(0.05, 30, 30);\n        let material = this.setupShaderTwoMaterial();\n        this.geoArray = [];\n        for(let i=0; i<300; i++)\n        {\n            let mesh = new THREE.Mesh(sphereGeometry, material);\n            mesh.position.x = Math.random() * 10 - 5;\n            mesh.position.y = Math.random() * 10 - 5;\n            mesh.position.z = Math.random() * 10 - 5;\n            mesh.scale.x = mesh.scale.y = mesh.scale.z = Math.random() * 2 + 1;\n            this.geoArray.push(mesh);\n            this.scene.add(mesh);\n        }    \n    };\n\n    orbitCamera(rotSpeed)\n    {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    updateSceneSubjects(time)\n    {\n        for ( let i=0, l=this.geoArray.length; i<l; i ++) \n        {\n            let sphere = this.geoArray[i];\n            sphere.position.x = 5 * Math.cos( time + i );\n            sphere.position.y = 5 * Math.sin( time + i * 1.1 );\n\t    }\n    }\n\n    update() \n    {\n        if(this.disposed) return;\n        //if(this.camera) this.orbitCamera(0.001);\n        if(this.controls) this.controls.update();\n        if(this.uniforms) this.uniforms['u_time'].value = 0.001 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() * 0.0001);\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n\n    onMouseMove(e)\n    {\n        this.mouse.x = (e.clientX - window.innerWidth / 2) / 100;\n        this.mouse.y = (e.clientY - window.innerHeight / 2) / 100;\n        this.camera.position.x += (this.mouse.x - this.camera.position.x) * .05;\n        this.camera.position.y += (-this.mouse.y - this.camera.position.y) * .05;\n    };\n\n    dispose()\n    {\n        this.disposed = true;\n        this.scene.dispose();\n        this.renderer.dispose();\n        // console.log(this.renderer);\n        document.body.removeChild(this.renderer.domElement);\n    };\n};\n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        if(this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    onDocumentMouseMove = (e) =>\n    {\n        if(this.sceneController) this.sceneController.onMouseMove(e);\n    }\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render () \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","import * as Tone from 'tone';\n// import { AudioContext } from 'standardized-audio-context';\nimport StartAudioContext from 'startaudiocontext';\n\n//try https://github.com/Tonejs/Tone.js/issues/224\nexport default class Sound\n{\n    // constructor()\n    // {\n    //     // const audioContext = new AudioContext();\n    //     // Tone.setContext(audioContext);\n    // }\n\n    start(domElem)\n    {\n        StartAudioContext(Tone.context, domElem);\n        console.log('start audiocontext');\n    }\n\n    setup()\n    {\n        let gain = new Tone.Volume(0).toMaster();\n        gain.set('volume', -15);\n    }\n\n    createSinths()\n    {\n        let chorus = new Tone.Chorus(2.5, 100, 0.5).toMaster();\n        let delay = new Tone.PingPongDelay(\"4n\", 0.5).connect(chorus); //.toMaster();\n\n        this.polySynth = new Tone.PolySynth().connect(delay);\n        this.polySynth.toMaster();\n        this.polySynth.vibratoAmount = 0.1;\n\n        this.duoSynth = new Tone.DuoSynth().connect(delay);\n        this.duoSynth.toMaster();\n    };\n\n    playNote(synth)\n    {\n        let notes = ['A1', 'A2', 'A3', 'A4', 'C1', 'C2', 'C3', 'C4', 'B1', 'B2', 'B3', 'B4', 'D1', 'D2', 'D3', 'D4'];\n        synth.triggerAttackRelease((0, randomElement(notes)), \"16n\");\n    };\n\n    playOnTrigger()\n    {\n        //https://github.com/Tonejs/Tone.js/issues/341\n        if (Tone.context.state !== 'running') \n        {\n            Tone.context.resume();\n        }\n        this.playNote(this.duoSynth);\n        this.playNote(this.polySynth);\n    };\n\n    update() \n    {\n        if(Tone.context.state && Tone.context.state === \"suspended\") \n        {\n          Tone.context.resume().then(function () \n          {\n                console.log(\"AudioContext resumed!\");\n                // fire your callback here\n          });\n        }\n    };\n\n    stop()\n    {\n        this.polySynth.dispose();\n        this.duoSynth.dispose();\n        // Tone.context.close();\n        console.log('stop audiocontext');\n    }\n};  \n\n/**\n   * returns a random element from an array or object\n   * @param  {Array|Object} obj\n   * @return {object}\n   */\n\nfunction randomElement(obj) \n{\n    if (Array.isArray(obj)) \n    {\n        return obj[Math.floor(Math.random() * obj.length)];\n    } \n    else if (obj instanceof Object) \n    {\n        return obj[randomElement(Object.keys[obj])];\n    }\n    return obj;\n};\n\n","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'; \nimport gsap from 'gsap';\n\nimport Sound from './Sound';\nimport pathToModel from '../../assets/models/forest.glb';\nimport texture2 from '../../assets/img//textures/grid.jpg';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.clock = new THREE.Clock();\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/010b13-f5f7f7-262422-5fc5e1-f46e42');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.isDisposed = false;\n        this.isAnimate = true;\n\n        this.scene.background = this.colourArr[0]; \n        this.scene.fog = new THREE.Fog(this.colourArr[0], 150, 350);\n        this.loader = new THREE.TextureLoader();\n\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n        this.setupSound(this.renderer.domElement);\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 1000;\n\n        this.camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(-113, 57, 148);\n    };\n\n    setupLight()\n    {\n        const hemiLight = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[2], 1);\n        hemiLight.groundColor.setHSL(0.78, 0.2, 1.);\n        hemiLight.color.setHSL(0.67, 0.19, 0.75);\n\t\themiLight.position.set( 0, 50, 0 );\n        this.scene.add(hemiLight);\n\n        const spotLight = new THREE.SpotLight();\n        spotLight.angle = Math.PI / 4;\n        spotLight.penumbra = 0.25;\n        spotLight.decay = 2;\n        spotLight.distance = 200;\n    \n        spotLight.castShadow = true;\n        spotLight.shadow.mapSize.width = 1024;\n        spotLight.shadow.mapSize.height = 1024;\n        spotLight.shadow.camera.near = 10;\n        spotLight.shadow.camera.far = 100;\n        spotLight.shadow.camera.fov = 30;\n        \n        spotLight.color.set(0xBBFFEE).multiplyScalar(0.66);\n        spotLight.position.lerp(this.camera.position, 0.75);\n        this.scene.add(spotLight);\n    };\n\n    setupControls()\n    {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n\t\tthis.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 400;\n        this.controls.minDistance = 100;\n        this.controls.maxPolarAngle = 1.2737424473141494;\n        this.controls.minPolarAngle = 1.2737424473141494;\n    };\n\n    setupShaderMaterial()\n    {\n\t    this.uniforms = {\n            u_resolution: { type: \"v2\", value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time:       { type: \"f\", value: 0},\n            u_color0:     { type: \"v3\", value: new THREE.Color( 0xff0000 ) },\n            u_color1:     { type: \"v3\", value: new THREE.Color( 0x6fa8dc ) },\n        };\n\n        let material = new THREE.ShaderMaterial( {\n            uniforms :      this.uniforms,\n            vertexShader:   `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    //gl_FragColor=vec4(col, 1.0);\n                    gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels()\n    { \n        let group = new THREE.Object3D();\n        this.scene.add(group);\n        group.position.set(0, -4, -30);\n\n        let model1;\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) =>  \n        {\n            model1 = gltf.scene;\n            let scFactor = 3;\n            model1.scale.set(scFactor, scFactor, scFactor);\n            model1.position.set(-20, 0, -30);\n            group.add(model1);\n            model1.traverse((node) => \n            {\n                if (node.isMesh && node.name !== 'Cube008') \n                { \n                    node.material = new THREE.MeshPhongMaterial({\n                        color: this.colourArr[3],\n                        specular: this.colourArr[1],\n                                shininess: 20\n                    });\n                    node.castShadow = true;\n                    node.receiveShadow = true;\n                }\n                if (node.isMesh && node.name === 'Cube008') \n                { \n                    node.material = new THREE.MeshPhongMaterial({\n                        color: this.colourArr[0],\n                        specular: this.colourArr[1],\n                                shininess: 10\n                    });\n                    node.scale.set(8, 8, 8);\n                    node.position.set(0, 15, 0);\n                    node.castShadow = true;\n                    node.receiveShadow = true;\n                }\n            });\n            let model2 = model1.clone();\n            model2.position.set(-100, 0, -20);\n            group.add(model2);\n\n            let model3 = model1.clone();\n            model3.position.set(70, 0, -40);\n            model3.rotateY(-Math.PI * 0.1);\n            group.add(model3);\n        },\n        (xhr) => {\n            console.log((xhr.loaded / xhr.total * 100) + '% loaded')\n        },\n        (error) => {\n            console.log(error);\n        });\n    };\n\n    setupGeometry()\n    {\n        this.setupGround();\n        this.scatterRandomGeometry();   \n    };\n\n    setupGround()\n    {\n        this.groundMap = this.loader.load(texture2);\n        this.groundMap.anisotropy = 16; \n    \n        const groundPlane = new THREE.Mesh(new THREE.PlaneGeometry(1000, 1000), new THREE.MeshStandardMaterial({\n            color: this.colourArr[4],\n            map: this.groundMap,\n            bumpMap: this.groundMap,\n            bumpScale: 0.05,\n            metalness: 0,\n            roughness: 1\n        }));\n\n        groundPlane.receiveShadow = true;\n        groundPlane.position.y = 0;\n        groundPlane.quaternion.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2);\n        this.scene.add(groundPlane);\n    };\n\n    scatterRandomGeometry()\n    {\n        this.meshElems = new THREE.Object3D();\n        this.meshElems.position.set(-150, 40, 0);\n        this.scene.add(this.meshElems);\n\n        let elemsNum = 20;\n        let geo = new THREE.IcosahedronBufferGeometry(0.5, 0);\n\t\tlet mesh = new THREE.Mesh(geo, new THREE.MeshStandardMaterial({\n            color: this.colourArr[1],\n            map: this.groundMap,\n            transparent: true, \n            opacity: 0.5\n        }));\n\t\tmesh.receiveShadow = true;\n        this.meshElems.add(mesh); \n        \n        //spiral \n        let stepAngle = Math.PI*2 / elemsNum;\n        let xStep = 0.8;\n        let turns = 20;\n        for(let i=0; i<turns*elemsNum; i++)\n        {\n            let elem = mesh.clone();\n            let angle = stepAngle * i;\n            let dist = 10 + Math.random()*10; //the distance to the center of the axis\n            let s = 1 + Math.random()*2;\n\t\t\n            elem.position.y = Math.sin(angle)*dist;\n            elem.position.x = xStep * i; //Math.cos(angle)*dist;\n            elem.position.z = Math.cos(angle)*dist; //Math.random()*5;\n\n            elem.rotation.z = angle + Math.PI/2;\n            elem.scale.set(Math.sin(Math.random()+ i*10) + 10, s, s);\n            this.meshElems.add(elem);\n        }\n    };\n\n    setupSound()\n    {\n        let sound = new Sound();\n        sound.start(this.renderer.domElement);\n        sound.setup();\n        sound.createSinths();\n        this.sound = sound;\n    }\n\n    raycast() \n    {\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        let intersects = this.raycaster.intersectObjects(this.scene.children, true);\n        if(intersects.length > 0 && typeof this.scene != \"undefined\" && intersects[0].object.isMesh)\n        {\n            if (intersects[0].object.name === 'Cube008') \n            {\n                this.oscillate(intersects[0].object);\n                this.sound.playOnTrigger();\n            }\n        }\n    }\n\n    orbitCamera(rotSpeed)\n    {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    oscillate(mesh)\n    {\n        this.isAnimate = true;\n        const originalScaleX = mesh.scale.z;\n\t\tconst originalScaleY = mesh.scale.y;\n\t\tconst originalScaleZ = mesh.scale.z;\n\t\tconst easing = 'elastic';\n\n\t\tlet oscil = gsap.timeline();\n\t\toscil.to(mesh.scale, 1, {x: 1.02, y: 2.05, z: 1.02, ease:easing})\n\t\t\t.to(mesh.scale, 1, {x: originalScaleX, y: originalScaleY, z: originalScaleZ, ease:easing});\n\t\t\n\t\toscil.eventCallback(\"onComplete\", () =>\n\t\t{\n\t\t\tthis.isAnimating = false;\n        });\n\n        oscil.play();\n    }\n\n    updateSceneSubjects(time)\n    {\n        for(let i=0; i<this.meshElems.children.length; i++)\n        {\n            let elem = this.meshElems.children[i];\n            elem.rotation.z += Math.random()*.005; //*(i+1);\n            elem.rotation.y += Math.random()*.02; //*(i+1);\n        }\n    }\n\n    update() \n    {\n        if(this.isDisposed) return;\n        let delta = this.clock.getDelta();\n        if (isNaN(delta) || delta > 1000 || delta === 0 ) \n        {\n\t        delta = 1000/60;\n        }\n        if(this.controls) this.controls.update();\n        this.updateSceneSubjects(delta);\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    onClick(e)\n    {\n        if(this.isDisposed) return;\n        this.mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n        this.mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\n        this.raycast();\n        this.update();\n        console.log('clicked');\n    };\n\n    dispose()\n    {\n        this.isDisposed = true;\n        this.scene.children.forEach(child => {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n        this.sound.stop();\n    };\n};\n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n\n\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        // console.log(document.body.childNodes);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    onDocumentMouseDown = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onClick(e);\n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render() \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","import * as THREE from 'three';\n\n/**\n * @author daoshengmu / http://dsmu.me/\n *\n * ------------------------------------------------------------------------------------------\n * Subsurface Scattering shader\n * Base on GDC 2011  Approximating Translucency for a Fast, Cheap and Convincing Subsurface Scattering Look\n * https://colinbarrebrisebois.com/2011/03/07/gdc-2011-approximating-translucency-for-a-fast-cheap-and-convincing-subsurface-scattering-look/\n *------------------------------------------------------------------------------------------\n */\n\nconst TranslucentShader = {\n\n\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\tTHREE.UniformsLib[ \"common\" ],\n\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t{\n\t\t\t\"color\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"diffuse\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"specular\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"emissive\": { value: new THREE.Color( 0x000000 ) },\n\t\t\t\"opacity\": { value: 1 },\n\t\t\t\"shininess\": { value: 1 },\n\n\t\t\t\"thicknessMap\": { value: null },\n\t\t\t\"thicknessColor\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"thicknessDistortion\": { value: 0.1 },\n\t\t\t\"thicknessAmbient\": { value: 0.0 },\n\t\t\t\"thicknessAttenuation\": { value: 0.1 },\n\t\t\t\"thicknessPower\": { value: 2.0 },\n\t\t\t\"thicknessScale\": { value: 10.0 }\n\t\t}\n\n\t] ),\n\n\tvertexShader: [\n\n\t\t\"varying vec3 vNormal;\",\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"varying vec3 vViewPosition;\",\n\n\t\tTHREE.ShaderChunk[ \"common\" ],\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n\n\t\t\"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"\tvViewPosition = -mvPosition.xyz;\",\n\n\t\t\"\tvNormal = normalize( normalMatrix * normal );\",\n\n\t\t\"\tvUv = uv;\",\n\n\t\t\"\tgl_Position = projectionMatrix * mvPosition;\",\n\n\t\t\"}\",\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\t\t\"#define USE_UV\",\n\t\t\"#define USE_MAP\",\n\t\t\"#define PHONG\",\n\t\t\"#define TRANSLUCENT\",\n\t\t\"#include <common>\",\n\t\t\"#include <bsdfs>\",\n\t\t\"#include <uv_pars_fragment>\",\n\t\t\"#include <map_pars_fragment>\",\n\t\t\"#include <lights_phong_pars_fragment>\",\n\n\t\t\"varying vec3 vColor;\",\n\n\t\t\"uniform vec3 diffuse;\",\n\t\t\"uniform vec3 specular;\",\n\t\t\"uniform vec3 emissive;\",\n\t\t\"uniform float opacity;\",\n\t\t\"uniform float shininess;\",\n\n\t\t// Translucency\n\t\t\"uniform sampler2D thicknessMap;\",\n\t\t\"uniform float thicknessPower;\",\n\t\t\"uniform float thicknessScale;\",\n\t\t\"uniform float thicknessDistortion;\",\n\t\t\"uniform float thicknessAmbient;\",\n\t\t\"uniform float thicknessAttenuation;\",\n\t\t\"uniform vec3 thicknessColor;\",\n\n\t\tTHREE.ShaderChunk[ \"lights_pars_begin\" ],\n\n\t\t\"void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in GeometricContext geometry, inout ReflectedLight reflectedLight) {\",\n\t\t\"\tvec3 thickness = thicknessColor * texture2D(thicknessMap, uv).r;\",\n\t\t\"\tvec3 scatteringHalf = normalize(directLight.direction + (geometry.normal * thicknessDistortion));\",\n\t\t\"\tfloat scatteringDot = pow(saturate(dot(geometry.viewDir, -scatteringHalf)), thicknessPower) * thicknessScale;\",\n\t\t\"\tvec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;\",\n\t\t\"\treflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;\",\n\t\t\"}\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec3 normal = normalize( vNormal );\",\n\n\t\t\"\tvec3 viewerDirection = normalize( vViewPosition );\",\n\n\t\t\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\n\n\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\n\t\t\"\tvec3 totalEmissiveRadiance = emissive;\",\n\n\t\tTHREE.ShaderChunk[ \"lights_phong_fragment\" ],\n\n\t\t// Doing lights fragment begin.\n\t\t\"\tGeometricContext geometry;\",\n\t\t\"\tgeometry.position = - vViewPosition;\",\n\t\t\"\tgeometry.normal = normal;\",\n\t\t\"\tgeometry.viewDir = normalize( vViewPosition );\",\n\n\t\t\"\tIncidentLight directLight;\",\n\n\t\t\"\t#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\",\n\n\t\t\"\t\tPointLight pointLight;\",\n\n\t\t\"\t\t#pragma unroll_loop_start\",\n\t\t\"\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\",\n\t\t\"\t\t \tpointLight = pointLights[ i ];\",\n\t\t\"\t\t \tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\",\n\n\t\t\"\t\t\t#ifdef USE_SHADOWMAP\",\n\t\t\"\t\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\",\n\t\t\"\t\t\t#endif\",\n\n\t\t\"\t\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\n\t\t\"\t\t\t#if defined( TRANSLUCENT ) && defined( USE_UV )\",\n\t\t\"\t\t\tRE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\",\n\t\t\"\t\t\t#endif\",\n\t\t\"\t\t}\",\n\t\t\"\t\t#pragma unroll_loop_end\",\n\n\t\t\"\t\t#endif\",\n\n\t\t\"\t#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\",\n\n\t\t\"\t\tDirectionalLight directionalLight;\",\n\n\t\t\"\t\t#pragma unroll_loop_start\",\n\t\t\"\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\",\n\t\t\"\t\t\tdirectionalLight = directionalLights[ i ];\",\n\t\t\"\t\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\",\n\n\t\t\"\t\t\t#ifdef USE_SHADOWMAP\",\n\t\t\"\t\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\",\n\t\t\"\t\t\t#endif\",\n\n\t\t\"\t\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\n\t\t\"\t\t\t#if defined( TRANSLUCENT ) && defined( USE_UV )\",\n\t\t\"\t\t\tRE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\",\n\t\t\"\t\t\t#endif\",\n\t\t\"\t\t}\",\n\t\t\"\t\t#pragma unroll_loop_end\",\n\n\t\t\"\t#endif\",\n\n\t\t\"\t#if defined( RE_IndirectDiffuse )\",\n\n\t\t\"\t\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\",\n\n\t\t\"\t\t#if ( NUM_HEMI_LIGHTS > 0 )\",\n\n\t\t\"\t\t\t#pragma unroll_loop_start\",\n\t\t\"\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\",\n\n\t\t\"\t\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\",\n\n\t\t\"\t\t\t}\",\n\t\t\"\t\t\t#pragma unroll_loop_end\",\n\n\t\t\"\t\t#endif\",\n\n\t\t\"\t#endif\",\n\n\t\t\"\t#if defined( RE_IndirectSpecular )\",\n\n\t\t\"\t\tvec3 radiance = vec3( 0.0 );\",\n\t\t\"\t\tvec3 clearcoatRadiance = vec3( 0.0 );\",\n\n\t\t\"\t#endif\",\n\t\tTHREE.ShaderChunk[ \"lights_fragment_end\" ],\n\n\t\t\"\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\",\n\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\t// TODO, this should be pre-multiplied to allow for bright highlights on very transparent objects\n\n\t\tTHREE.ShaderChunk[ \"encodings_fragment\" ],\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n};\n\nexport default TranslucentShader;","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport TranslucentShader from './CustomShader';\nimport pathToModel from '../../assets/models/garden.glb';\nimport texture1 from '../../assets/img/textures/caustic.png';\nimport texture2 from '../../assets/img/textures/bump.jpg';\nimport texture3 from '../../assets/img/textures/decal.png';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n        this.startTime = Date.now();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/031b26-cc2936-ebbab9-388697-b5ffe1');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0]; \n        this.scene.fog = new THREE.Fog(this.colourArr[3], 50, 180);\n        this.loader = new THREE.TextureLoader();\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupGlobalUniforms();\n        this.setupPoints();\n        this.setupGeometry();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 10;\n        let FAR_PLANE = 5000;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(0, 0, 1500);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupLight()\n    {\n        let light = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[4], 1);\n        light.position.set(0, 0.5, -1);\n        this.scene.add(light);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[2], 3);\n        this.scene.add(dirLight);\n    };\n\n    setupControls()\n    {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotateSpeed = .2;\n        this.controls.autoRotate = true;\n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 5000;\n        this.controls.minDistance = 1000;\n\t\t//this.controls.addEventListener('change', this.update.bind(this));\n    };\n\n    setupGlobalUniforms()\n    {\n        let texture = this.loader.load(texture3);\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n        this.uniforms = {\n            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time:       { value: 0},\n            u_color0:     { value: new THREE.Color( this.colourArr[2] ) },\n            u_color1:     { value: new THREE.Color( this.colourArr[4] ) },\n            u_texture1:   { value: texture}\n        };\n    }\n\n    setupShaderOneMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms : this.uniforms,\n            vertexShader:   `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    gl_FragColor=vec4(col, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupShaderTwoMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms :      this.uniforms,\n            vertexShader:   `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                float voronoi(vec2 pos) \n                {\n                    vec2 p = floor(pos);\n                    vec2 f = fract(pos);\n\n                    float dist = 8.0; //dist = distance to closest feature point\n                    for(int j=-1; j<=1; j++) \n                    {\n                        for(int i=-1; i<=1; i++) \n                        {\n                            vec2 lat = vec2(i, j); //lst = lattice point\n                            vec2  r = vec2(lat) - f + rand(p + lat);\n                            float d = dot(r, r); //d = current distance \n                            dist = min(dist, d);\n                        }\n                    }\n                    return sqrt(dist);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * 2.0 - 1.; //(gl_FragCoord.xy/u_resolution);\n                    pos.x *= u_resolution.x / u_resolution.y;\n\n                    float cell_size = sin(pos.y + u_time); //changing cells\n                    float offset = voronoi(pos * cell_size - vec2(u_time * 0.5));\n                    //main line: generates floating circles\n                    float r = voronoi(pos + sin(pos.y + u_time));\n                    float g = voronoi(pos) * cell_size + u_time;\n                    \n                    gl_FragColor = vec4(r*2.0, 1.-offset, 1.0 - r, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupTranslucentShader()\n    {\n        let imgTexture = this.loader.load(texture1);\n        let thicknessTexture = this.loader.load(texture2);\n        imgTexture.wrapS = imgTexture.wrapT = THREE.RepeatWrapping;\n        \n        let shader = TranslucentShader;\n        let uniforms = THREE.UniformsUtils.clone(shader.uniforms);\n        uniforms[ 'map' ].value = imgTexture;\n        uniforms[ 'diffuse' ].value = new THREE.Vector3( 1.0, 0.2, 0.2 );\n        uniforms[ 'shininess' ].value = 500;\n\n        uniforms[ 'thicknessMap' ].value = thicknessTexture;\n        uniforms[ 'thicknessColor' ].value = new THREE.Vector3( 0.1, 0.3, 0.0 );\n        uniforms[ 'thicknessDistortion' ].value = 0.1;\n        uniforms[ 'thicknessAmbient' ].value = 0.4;\n        uniforms[ 'thicknessAttenuation' ].value = 0.8;\n        uniforms[ 'thicknessPower' ].value = 2.0;\n        uniforms[ 'thicknessScale' ].value = 16.0;\n\n\t    let material = new THREE.ShaderMaterial( {\n            uniforms: uniforms,\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n\t\t\tlights: true\n\t\t\t} );\n        material.extensions.derivatives = true;\n        return material;\n    }\n\n    loadModels()\n    {\n        let material = this.setupShaderOneMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.position.set(10, -100, 50);\n            this.root.traverse(node => {\n                if(node.isMesh) \n                {\n                    node.material = material;\n                    node.scale.x = 0.5;\n                    node.scale.y = 0.5;\n                    node.scale.z = 0.5;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    };\n\n    setupGeometry()\n    {\n        let material = this.setupShaderOneMaterial();\n        let translMaterial = this.setupTranslucentShader();\n        let meshArray = [];\n        let sphereGeo = new THREE.SphereBufferGeometry(100, 32, 32);\n        let group = new THREE.Mesh(sphereGeo, translMaterial);\n        this.scene.add(group);\n        \n        let icoGeometry = new THREE.IcosahedronGeometry(90, 1);\n        let cylGeometry = new THREE.CylinderGeometry(1, 20, 1000, 3, 40);\n        cylGeometry.applyMatrix4(new THREE.Matrix4().setPosition(new THREE.Vector3(0, 400, 0)));\n\n        for(let i=0; i<cylGeometry.vertices.length-3; i+=3) \n        {\n            //create organic-like spirals\n            let x = Math.sin(i*0.09)*40;\n            let z = Math.cos(i*0.07)*40;\n    \n            //change the values below to shape vertices \n            cylGeometry.vertices[i].x += x;\n            cylGeometry.vertices[i].z += z;\n            cylGeometry.vertices[i+1].x += x;\n            cylGeometry.vertices[i+1].z += z;\n            cylGeometry.vertices[i+2].x += x;\n            cylGeometry.vertices[i+2].z += z;\n        }\n\n        cylGeometry.applyMatrix4(new THREE.Matrix4()\n                .makeRotationFromEuler(new THREE.Euler(-Math.PI*0.5, 0, 0)));\n\n        for(let i=0; i<icoGeometry.vertices.length; i++) \n        {\n\t\t\tlet m = new THREE.Mesh(cylGeometry, material);\n\t\t\tm.position.set(icoGeometry.vertices[i].x, icoGeometry.vertices[i].y, icoGeometry.vertices[i].z);\n\t\t\tm.lookAt(this.scene.position);\n\t\t\tm.rotation.z = Math.random()*Math.PI*2;\n\t\t\tmeshArray.push(m);\n            group.add(m);\n        }\n    };\n\n    setupPoints()\n    {\n        const radius = 150;\n        const segments = 68;\n        const rings = 38;\n\n        let vertices = new THREE.SphereGeometry(radius, segments, rings).vertices;\n        let length1 = vertices.length;\n        let positions = new Float32Array(vertices.length * 3);\n        let colors = new Float32Array(vertices.length * 3);\n        let sizes = new Float32Array(vertices.length);\n\n        let vertex;\n        let color = new THREE.Color();\n\n        for(let i=0; i<vertices.length; i++) \n        {\n            vertex = vertices[i];\n            vertex.toArray(positions, i*3);\n            if (i<length1) \n            {\n                color.setHSL(0.01 + 0.1 * (i/length1), 0.99, (vertex.y + radius) / (4 * radius));\n            } \n            else \n            {\n\t\t\t    color.setHSL(0.6, 0.75, 0.25 + vertex.y / (2 * radius));\n\t\t    }\n\n            color.toArray(colors, i * 3);\n            sizes[i] = i < length1 ? 10 : 40;\n        }\n\n\t\tlet geometry = new THREE.BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\n\t\tgeometry.setAttribute( 'size', new THREE.BufferAttribute( sizes, 1 ) );\n        geometry.setAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\n\n\t\tlet material = new THREE.ShaderMaterial( {\n\t\t\tuniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vColor;\n                \n                attribute float size;\n                attribute vec3 color;\n                \n                void main()\n                {\n                    vColor = color;\n                \n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    gl_PointSize = size * ( 300.0 / -mvPosition.z );\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n          `,\n          fragmentShader: `\n            varying vec3 vColor;\n\n            uniform float u_time;\n            uniform vec2 u_resolution;\n            uniform vec3 u_color0;\n            uniform sampler2D u_texture1;\n\n            void main()\n            {\n                vec4 color = vec4(u_color0 * vColor, 1.0) * texture2D(u_texture1, gl_PointCoord);\n                gl_FragColor = color;\n            }\n          `,\n\t\t  transparent: true\n        } );\n        \n        let sphere = new THREE.Points(geometry, material);\n        this.scene.add(sphere);\n\n        this.sphere = sphere;\n        this.length1 = length1;\n    }\n\n    sortPoints = function()\n    {\n        let vector = new THREE.Vector3();\n        // Model View Projection matrix\n        let matrix = new THREE.Matrix4();\n        matrix.multiplyMatrices(this.camera.projectionMatrix, this.camera.matrixWorldInverse );\n        matrix.multiply(this.sphere.matrixWorld);\n\n        let geometry = this.sphere.geometry;\n        //console.log(geometry);\n        let index = geometry.getIndex();\n        let positions = geometry.getAttribute('position').array;\n        let length = positions.length / 3;\n        if(index === null) \n        {\n            let array = new Uint16Array(length);\n            for(let i=0; i<length; i++) \n            {\n                array[i] = i;\n            }\n            index = new THREE.BufferAttribute(array, 1);\n            geometry.setIndex(index);\n\t\t}\n\n\t\tlet sortArray = [];\n        for (let i=0; i<length; i++) \n        {\n\t\t\tvector.fromArray(positions, i * 3);\n\t\t\tvector.applyMatrix4(matrix);\n\t\t\tsortArray.push( [vector.z, i] );\n\t\t}\n        \n        function numericalSort(a, b) \n        {\n            return b[0] - a[0];    \n        }\n    \n        sortArray.sort(numericalSort);\n\n        let indices = index.array;\n        for (let i=0; i < length; i ++ ) \n        {\n            indices[ i ] = sortArray[ i ][ 1 ];\n        }\n        geometry.index.needsUpdate = true;\n}\n\n    animatePoints(time)\n    {\n        this.sphere.rotation.y = 0.02 * time;\n\t    this.sphere.rotation.z = 0.02 * time;\n\t    let geometry = this.sphere.geometry;\n\t    let attributes = geometry.attributes;\n        for(let i=0; i<attributes.size.array.length; i++ ) \n        {\n            if(i<this.length1) \n            {\n                attributes.size.array[i] = 16 + 12 * Math.sin(0.1 * i + time);\n            }\n        }\n        attributes.size.needsUpdate = true;\n    };\n\n    raycast() \n    {\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        let intersects = this.raycaster.intersectObjects(this.scene.children, true);\n        if (intersects.length > 0) \n        {\n            intersects[0].object.material= this.setupShaderTwoMaterial();\n        }\n    }\n\n    orbitCamera(rotSpeed)\n    {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    updateSceneSubjects(time)\n    {\n        this.animatePoints(time);\n\t    this.sortPoints();\n    }\n\n    update() \n    {\n        if(this.disposed) return;\n        // if(this.camera) this.orbitCamera(0.001);\n        if(this.controls) this.controls.update();\n        if(this.uniforms) this.uniforms['u_time'].value = 0.0005 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n\n    onClick(e)\n    {\n        this.mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n        this.mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\n        this.raycast();\n        this.update();\n        console.log('sentinel clicked');\n    }\n\n    dispose()\n    {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n        //   child.material.dispose();\n        //   child.geometry.dispose();\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    };\n};\n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    onDocumentMouseDown = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onClick(e);\n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    }\n\n    render () \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","import * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { SceneUtils } from 'three/examples/jsm/utils/SceneUtils.js';\n\nimport pathToModel from '../../assets/models/ballerina.glb';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.clock = new THREE.Clock();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0]; \n\n        this.setupCamera();\n        this.setupLight();\n        this.setupGlobalUniforms();\n        //this.loadModels();\n        this.setupGeometry();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 500;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(-50, 10, 60);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupLight()\n    {\n        let pointLight = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight.position.y = -50;\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.y = -10;\n        pointLight2.position.x = -100;\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.y = -10;\n        pointLight3.position.x = 100;\n        this.scene.add(pointLight3);\n\n        let ambient = new THREE.AmbientLight(this.colourArr[1]);\n        this.scene.add(ambient);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[3], 1);\n        dirLight.position.set( -1, 0.85, 0,5 ).normalize();\n        this.scene.add(dirLight);\n    };\n\n    setupGlobalUniforms()\n    {\n        this.uniforms = {\n            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time:       { value: 0 },\n            u_move:       { value: 1.0 }\n        };\n    }\n\n    setupShaderMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms :      this.uniforms,\n            vertexShader:   `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    gl_FragColor=vec4(col, 1.0);\n                    //gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels()\n    {\n        let material = this.setupShaderMaterial();\n        const gltfLoader = new GLTFLoader();\n        let sc = 0.5;\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.traverse(node => {\n                if (node.isMesh) \n                {\n                    node.material = material;\n                    node.position.z = -20;\n                    node.position.y = -30;\n                    node.rotation.x = -Math.PI * 0.5;\n                    node.rotation.y = Math.PI * 0.5;\n                    node.scale.x = sc;\n                    node.scale.y = sc;\n                    node.scale.z = sc;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    };\n\n    setupParticleMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms : this.uniforms,\n            vertexShader:   `\n                uniform float u_time;\n                uniform float u_move;\n          \n                attribute vec3 offset;\n                attribute vec4 color;\n                attribute vec4 orientation;\n                attribute float time;\n          \n                varying float vRotation;\n                varying vec4 vColor;\n\n                vec3 rotateVectorByQuaternion(vec3 v, vec4 q) \n                {\n                    vec3 dest = vec3( 0.0 );\n                    float x = v.x, y  = v.y, z  = v.z;\n                    float qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n                    // calculate quaternion * vector\n                    float ix =  qw * x + qy * z - qz * y,\n                        iy =  qw * y + qz * x - qx * z,\n                        iz =  qw * z + qx * y - qy * x,\n                        iw = -qx * x - qy * y - qz * z;\n\n                    // calculate result * inverse quaternion\n                    dest.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n                    dest.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n                    dest.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n                    return dest;\n                }\n\n                vec4 axisAngleToQuaternion( vec3 axis, float angle ) \n                {\n                    vec4 dest = vec4( 0.0 );\n                    float halfAngle = angle / 2.0,\n                        s = sin( halfAngle );\n\n                    dest.x = axis.x * s;\n                    dest.y = axis.y * s;\n                    dest.z = axis.z * s;\n                    dest.w = cos( halfAngle );\n\n                    return dest;\n                }\n            \n                void main()\n                {\n                    float localTime = time + u_time;\n                    float modTime = mod(localTime, 1.0);\n\n                    vec3 off = offset;\n                    vec3 vPosition = position * 0.5;\n                    vRotation = u_time * 10.0 + localTime * 20.0 + orientation.w * 100.0;\n                    vec4 qRotation = axisAngleToQuaternion(orientation.xyz, vRotation);\n                    vPosition = rotateVectorByQuaternion(vPosition, qRotation);\n        \n                    off.y += modTime * -2000.0;\n                    off.y -= sin(localTime * 6.0 + (off.x)) * 40.0;\n                    off.z += cos(time * 60.0 + (off.z)) * 100.0;\n                    off.x += sin(time * 120.0 + (off.y*0.01)) * 100.0;\n\n                    if (u_move == 1.0) \n                    {\n                        off.z += modTime*2000.0;\n                    }\n\n                    vColor = color;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(off+vPosition, 1.0);\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying float vRotation;\n                varying vec4 vColor;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor.xyz*abs(sin(vRotation)), 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupGeometry()\n    {\n        this.surfaceArray = [];\n        let plane = new THREE.PlaneGeometry(1000, 1000, 40, 40);\n        for (let i = 0; i < plane.vertices.length; i++) \n        {\t\n            //how much displacement on z\n            let value = Math.random()*40 - 10;\n            plane.vertices[i].z = value;\n            this.surfaceArray.push(value);\n        }\n        plane.computeVertexNormals();\n        plane.computeFaceNormals();\n\n        let materials = [\n            new THREE.MeshPhongMaterial( { color: this.colourArr[2], specular: this.colourArr[3], flatShading: true }),\n            new THREE.MeshBasicMaterial( { color: this.colourArr[3], wireframe: true, transparent: true } )\n        ];\n\n        this.surface = SceneUtils.createMultiMaterialObject( plane, materials );\n        this.surface.rotation.x = -Math.PI/2;\n        this.surface.rotation.z = Math.PI;\n        this.surface.position.y = -50;\n        this.scene.add(this.surface);\n\n        this.addSnowParticles();\n        this.plane = plane;\n    };\n\n    addSnowParticles()\n    {\n        let triangles = 1;\n        let instances = 3000;\n        let geometry = new THREE.InstancedBufferGeometry();\n        geometry.maxInstancedCount = instances;\n\n        let vertices = new THREE.BufferAttribute(new Float32Array(triangles * 3 * 3), 3);\n        let size = 6;\n\n        vertices.setXYZ(0, size, -size, 0);\n        vertices.setXYZ(1, -size, size, 0);\n        vertices.setXYZ(2, 0, 0, size);\n        geometry.setAttribute('position', vertices);\n\n        let offsets = new THREE.InstancedBufferAttribute(new Float32Array( instances * 3), 3, false, 1);\n        for (let i=0, ul=offsets.count; i<ul; i++) \n        {\n            //offsets.setXYZ( i, Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5 );\n            offsets.setXYZ(i, Math.random()*1000 - 500, 0, Math.random()*1000 - 500);\n        }\n        geometry.setAttribute('offset', offsets);\n\n        let colors = new THREE.InstancedBufferAttribute(new Float32Array(instances * 4), 4, false, 1);\n        for (let i = 0, ul = colors.count; i < ul; i++) \n        {\n            //colors.setXYZW( i, Math.random(), Math.random(), Math.random(), Math.random() );\n            colors.setXYZW(i, 1, 1, 1, 1);\n        }\n        geometry.setAttribute('color', colors);\n\n        let vector = new THREE.Vector4();\n        let orientations = new THREE.InstancedBufferAttribute( new Float32Array( instances * 4 ), 4, false, 1 );\n        for (let i = 0, ul = orientations.count; i < ul; i++ ) \n        {\n            vector.set( Math.random() * 2 - 1, Math.random() * 2 - 1, Math.random() * 2 - 1, Math.random() * 2 - 1 );\n            vector.normalize();\n            orientations.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n        }\n        geometry.setAttribute('orientation', orientations);\n\n        let times = new THREE.InstancedBufferAttribute( new Float32Array( instances * 1 ), 1, false, 1 );\n\n        for (let i = 0, ul = times.count; i < ul; i++ ) \n        {\n            times.setX(i, Math.random());\n        }\n        geometry.setAttribute('time', times);\n\n        let partMaterial = this.setupParticleMaterial();\n        let snowparticles = new THREE.Mesh(geometry, partMaterial);\n        snowparticles.position.y = 950;\n        snowparticles.position.z = 500;\n        snowparticles.rotation.y = Math.PI;\n        snowparticles.frustumCulled = false;\n        this.scene.add(snowparticles);\n    };\n\n    orbitCamera(rotSpeed)\n    {\n        // let x = this.camera.position.x;\n        // let z = this.camera.position.z;\n\n        // this.camera.position.x += x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        // this.camera.position.z += z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        // this.camera.lookAt(new THREE.Vector3(0,0,0));\n\n        this.camera.position.x += Math.sin(rotSpeed*0.0003);\n        this.camera.position.z += Math.cos(rotSpeed*0.0003);\n        this.camera.position.y += Math.cos(rotSpeed*0.0003);\n                    \n        this.camera.lookAt(new THREE.Vector3(0,0,0));\n        this.camera.up.z += Math.sin(rotSpeed*0.0001);\n        this.camera.up.x += Math.cos(rotSpeed*0.0001);\n    };\n\n    updateSceneSubjects(time)\n    {\n        // this.camera.position.x += Math.sin(time*0.0003);\n        // this.camera.position.z += Math.cos(time*0.0003);\n        // this.camera.position.y += Math.cos(time*0.0003);\n                    \n        // this.camera.lookAt(new THREE.Vector3(0,0,0));\n        // this.camera.up.z += Math.sin(time*0.0001);\n        // this.camera.up.x += Math.cos(time*0.0001);\n\n        for (let i=0; i<this.plane.vertices.length; i++) \n        {\n            this.plane.vertices[i].z = Math.sin((time/200) + (this.plane.vertices[i].x)/50 - i )*(this.surfaceArray[i]+Math.cos(time));\n        }\n\n        this.plane.verticesNeedUpdate = true;\n        this.plane.computeFaceNormals();\n        this.plane.normalsNeedUpdate = true;\n\n        this.surface.position.z -= time * 2;\n        if(this.surface.position.z < -1300) this.surface.position.z += 1800;\n    }\n\n    update() \n    {\n        if(this.disposed) return;\n        let delta = this.clock.getDelta();\n\n        if (isNaN(delta) || delta > 1000 || delta === 0 ) \n        {\n            delta = 1000/60;\n        }\n        //if(this.camera) this.orbitCamera(0.001);\n        if(this.uniforms) this.uniforms['u_time'].value += 0.01 * delta;\n        this.updateSceneSubjects(delta);\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    dispose()\n    {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }  \n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    };\n} \n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render () \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport img1 from '../../assets/img/skybox/ft.jpg';\nimport img2 from '../../assets/img/skybox/bk.jpg';\nimport img3 from '../../assets/img/skybox/up.jpg';\nimport img4 from '../../assets/img/skybox/dn.jpg';\nimport img5 from '../../assets/img/skybox/rt.jpg';\nimport img6 from '../../assets/img/skybox/lf.jpg';\n\nimport partTexture from '../../assets/img/textures/spark.png';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.clock = new THREE.Clock();\n    };\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0]; \n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.createSkyboxFromTexture();\n        this.setupGlobalUniforms();\n        this.setupGeometry();\n        this.setupParticles();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 60;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(0.01, 0, 0.3);\n    };\n\n    setupLight()\n    {\n        let pointLight = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight.position.y = -1;\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.y = -1;\n        pointLight2.position.x = -0.5;\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.y = -1;\n        pointLight3.position.x = 0.5;\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[4], 1);\n\t\themiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n    };\n\n    setupControls()\n    {\n        this.controls = new OrbitControls( this.camera, this.renderer.domElement );\n\t\tthis.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = .025;\n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = true;\n\t\tthis.controls.enableDamping = true;\n\t\tthis.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 0.5;\n        this.controls.minDistance = 0.01;\n    };\n\n    setupGlobalUniforms()\n    {\n        let texLoader = new THREE.TextureLoader();\n        let particleMap = texLoader.load(partTexture);\n        this.uniforms = {\n            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            uTime:       { value: 0 },\n            uTexture0:   { value: particleMap }\n        };\n    };\n\n    createSkyboxFromTexture()\n    {\n        let skyboxMatArr = [];\n        let loader = new THREE.TextureLoader();\n        let skyboxTexFront = loader.load(img1);\n        let skyboxTexBack = loader.load(img2);\n        let skyboxTexUp = loader.load(img3);\n        let skyboxTexDown = loader.load(img4);\n        let skyboxTexRight = loader.load(img5);\n        let skyboxTexLeft = loader.load(img6);\n\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({map: skyboxTexFront}));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({map: skyboxTexBack}));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({map: skyboxTexUp}));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({map: skyboxTexDown}));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({map: skyboxTexRight}));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({map: skyboxTexLeft}));\n\n        let skyboxGeo = new THREE.BoxBufferGeometry(1, 1, 1);\n        skyboxGeo.scale(2, 2, -2);\n\n        let skyboxMesh = new THREE.Mesh(skyboxGeo, skyboxMatArr);\n        this.scene.add(skyboxMesh);\n    };\n\n\n    setupMirrorMaterial()\n    {\n        this.mirrorSphereCamera = new THREE.CubeCamera(0.01, 100, 512);\n        // mirrorCubeCamera.renderTarget.minFilter = THREE.LinearMipMapLinearFilter;\n        this.scene.add(this.mirrorSphereCamera);\n        let mirrorSphereMaterial = new THREE.MeshBasicMaterial( { envMap: this.mirrorSphereCamera.renderTarget.texture } );\n        return mirrorSphereMaterial;\n    };\n\n    updateMirrorMaterial()\n    {\n        this.mirrorSphereCamera.update(this.renderer, this.scene);\n    };\n\n    setupParticleMaterial()\n    {\n        let material = new THREE.ShaderMaterial( {\n            uniforms : this.uniforms,\n            vertexShader:   `\n                uniform float uTime;\n                attribute float size;\n                varying vec3 vColor;\n            \n                void main()\n                {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\t            gl_PointSize = size * (0.3 / -mvPosition.z); //0.3 = camera position.z\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying vec3 vColor;\n                uniform sampler2D uTexture0;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor, 1.0);\n\t\t            gl_FragColor = gl_FragColor * texture2D(uTexture0, gl_PointCoord);\n                }\n            `,\n            blending: THREE.AdditiveBlending,\n\t\t\tdepthTest: false,\n\t\t\ttransparent: true,\n\t\t\tvertexColors: true\n        });\n        return material;\n    };\n\n    setupParticles()\n    {\n        //let radius = 10;\n        let particleNum = 300;\n        let buffGeo = new THREE.BufferGeometry();\n        let positions = [];\n        let colors = [];\n        let sizes = [];\n\n        let color = new THREE.Color();\n        for(let i=0; i<particleNum; i++)\n        {\n            positions.push(( Math.random() * 2 - 1 )); //* radius); \n            positions.push(( Math.random() * 2 - 1 ));// * radius);\n            positions.push(( Math.random() * 2 - 1 )); //* radius);\n\n            // color.setHSL(i/particleNum, 1.0, 0.5);\n            color.set(this.colourArr[1]);\n            colors.push(color.r, color.g, color.b);\n\n            sizes.push(40);\n        }\n\n        buffGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\n        buffGeo.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n        buffGeo.setAttribute('size', new THREE.Float32BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));\n\n        let material = this.setupParticleMaterial();\n        let particles = new THREE.Points(buffGeo, material);\n        this.scene.add(particles);\n        \n        this.particles = particles;\n        this.buffGeo = buffGeo;\n    };\n\n    updateParticles(time)\n    {\n        this.particles.rotation.z = 0.01 * time;\n        this.particles.position.y -= 0.0001;\n        if(this.particles.position.y < -1.7) this.particles.position.y += 4;\n\t\tlet sizes = this.buffGeo.attributes.size.array;\n        for (let i=0; i<this.particles; i++) \n        {\n\t\t    sizes[i] = 10 * (1 + Math.sin( 0.1 * i + time));\n\t\t}\n\t\tthis.buffGeo.attributes.size.needsUpdate = true;\n    };\n\n    setupGeometry()\n    {\n        let meshes = [];\n        let geo1 = new THREE.IcosahedronBufferGeometry(0.1, 0);\n        let geo2 = new THREE.SphereBufferGeometry(0.1, 32, 32);\n        let mirrorMat = this.setupMirrorMaterial();\n        let mesh1 = new THREE.Mesh(geo1, mirrorMat);\n        let mesh2 = new THREE.Mesh(geo2, mirrorMat);\n\n        for(let i=0; i<20; i++) \n        {\n            const xOffset = getRandom(-0.5, 0.5);\n            const yOffset = getRandom(-0.3, 0.5);\n            const zOffset = getRandom(-0.5, 0.5);\n        \n            const mesh = Math.random() > 0.5 ? mesh1.clone() : mesh2.clone();\t\t\n            mesh.rotation.y = getRandom(0, Math.PI*2);\n            mesh.position.set(xOffset, yOffset, zOffset);\n            mesh.scaleFactor = getRandom(0.1, 0.9);\n            mesh.scale.multiplyScalar(mesh.scaleFactor);\n            meshes.push(mesh);\n            this.scene.add(mesh);\n        };    \n    };\n\n    orbitCamera(rotSpeed)\n    {\n        // let x = this.camera.position.x;\n        // let z = this.camera.position.z;\n\n        // this.camera.position.x += x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        // this.camera.position.z += z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        // this.camera.lookAt(new THREE.Vector3(0,0,0));\n\n        this.camera.position.x += Math.sin(rotSpeed*0.0003);\n        this.camera.position.z += Math.cos(rotSpeed*0.0003);\n        this.camera.position.y += Math.cos(rotSpeed*0.0003);\n                    \n        this.camera.lookAt(new THREE.Vector3(0,0,0));\n        this.camera.up.z += Math.sin(rotSpeed*0.0001);\n        this.camera.up.x += Math.cos(rotSpeed*0.0001);\n    };\n\n    updateSceneSubjects(time)\n    {\n        this.updateParticles(time);\n        this.updateMirrorMaterial(); \n    }\n\n    update() \n    {\n        if(this.disposed) return;\n        let delta = this.clock.getDelta();\n\n        if (isNaN(delta) || delta > 1000 || delta === 0 ) \n        {\n            delta = 1000/60;\n        }\n        if(this.controls) this.controls.update();\n        // if(this.uniforms) this.uniforms['uTime'].value += 0.01 * delta;\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    dispose()\n    {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if(child.isMesh)\n            {\n                // child.material.dispose(); //TODO: fix mistake with this line\n                child.geometry.dispose();\n            }  \n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    };\n} \n\nfunction coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n\nfunction getRandom(min, max) \n{\n    return Math.random() * (max - min) + min;\n};\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render () \n    {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","import * as THREE from \"three\"\n\nexport function coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n\nexport function lerp(current, target, speed = 0.1, limit = 0.001) \n{\n    let change = (target - current) * speed;\n    if (Math.abs(change) < limit) \n    {\n      change = target - current;\n    }\n    return change;\n};\n\nexport function getRandomInt(min, max) \n{\n  return Math.round(Math.random() * (max - min) + min);\n};\n\nexport function getRandom(min, max) \n{\n  return Math.random() * (max - min) + min;\n};","/** https://developer.mozilla.org/en-US/docs/Web/API/Pointer_Lock_API\n * https://github.com/mrdoob/three.js/blob/master/examples/misc_controls_pointerlock.html\n */\n\n//TODO: remove listeners(!!!)\n \nimport * as THREE from 'three';\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls.js';\n\nexport default class PointerLockManager \n{\n    constructor(scene, camera)\n    {\n        this.scene = scene;\n        this.camera = camera;\n        this.controls = new PointerLockControls(this.camera, document.body);\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.moveForward = false;\n\t\tthis.moveBackward = false;\n\t\tthis.moveLeft = false;\n\t\tthis.moveRight = false;\n        \n        this.velocity = new THREE.Vector3();\n        this.direction = new THREE.Vector3();\n        this.delta = 0.02; //continuons time, maybe change with clock()\n\n        let blocker = document.getElementById('blocker');\n        let instructions = document.getElementById('instructions');\n        if(instructions)\n        {\n            instructions.addEventListener('click', () => \n            {\n                console.log('clicked');\n                this.controls.lock();\n            }, \n            false);\n        };\n\n        this.controls.addEventListener('lock', () =>\n        {\n            console.log('lock');\n            instructions.style.display = 'none';\n            blocker.style.display = 'none';\n        } );\n\n        this.controls.addEventListener('unlock', () => \n        {\n            console.log('unlock');\n            blocker.style.display = 'block';\n            instructions.style.display = '';\n        } );\n\n        this.scene.add(this.controls.getObject());\n\n        // console.log('object: ', this.getObject());\n        // console.log('controls: ', this.controls);\n    }\n\n    update() \n    {\n        if (this.controls.isLocked === true)\n        {\n\t\t\tthis.velocity.x -= this.velocity.x * 10.0 * this.delta;\n            this.velocity.z -= this.velocity.z * 10.0 * this.delta;\n            this.velocity.y -= 9.8 * 100.0 * this.delta; // 100.0 = mass\n\n            this.direction.z = Number(this.moveForward ) - Number(this.moveBackward );\n\t\t\tthis.direction.x = Number(this.moveRight ) - Number(this.moveLeft );\n\t\t\tthis.direction.normalize(); // this ensures consistent movements in all directions\n\n\t\t\tif(this.moveForward || this.moveBackward) this.velocity.z -= this.direction.z * 400.0 * this.delta;\n            if(this.moveLeft || this.moveRight) this.velocity.x -= this.direction.x * 400.0 * this.delta;\n            \n            this.controls.moveRight(- this.velocity.x * this.delta);\n\t\t\tthis.controls.moveForward(- this.velocity.z * this.delta);\n\n\t\t\tthis.controls.getObject().position.y += (this.velocity.y * this.delta); // new behavior\n\n            if (this.controls.getObject().position.y < 10) \n            {\n                this.velocity.y = 0;\n\t\t\t\tthis.controls.getObject().position.y = 10;\n\t\t\t}\n\t\t}\n\t}\n\n    onKeyDown(e) \n    {\n        switch (e.keyCode) \n        {\n            case 38: // up\n            case 87: // w\n                this.moveForward = true;\n                // console.log(e.keyCode);\n                break;\n\n            case 37: // left\n            case 65: // a\n                this.moveLeft = true;\n                break;\n\n            case 40: // down\n            case 83: // s\n                this.moveBackward = true;\n                break;\n\n            case 39: // right\n            case 68: // d\n                this.moveRight = true;\n                break;\n        }\n    };\n\n    onKeyUp(e) \n    {\n        switch(e.keyCode) \n        {\n            case 38: // up\n            case 87: // w\n                this.moveForward = false;\n                break;\n\n            case 37: // left\n            case 65: // a\n                this.moveLeft = false;\n                break;\n\n            case 40: // down\n            case 83: // s\n                this.moveBackward = false;\n                break;\n\n            case 39: // right\n            case 68: // d\n                this.moveRight = false;\n                break;\n        }\n    };\n\n    getObject() \n    {\n        // console.log('getObject: ', this.controls.getObject());\n        return this.controls.getObject();\n        \n    };\n    \n    getDirection()\n    {\n        return this.controls.getDirection();\n    };\n\n    dispose()\n    {\n        this.controls.dispose();\n\n    }\n}","export default class ViewFinderManager\n{\n    constructor()\n    {\n        this.pointerGrow = document.getElementById(\"pointerGrow\");\n        this.pointerShrink = document.getElementById(\"pointerShrink\");\n        this.isPointerBig = false;\n    }\n\n    onActionStart() \n    {\n\t\ttry {\n            if(!this.isPointerBig)\n            // console.log('action started');\n            this.pointerGrow.beginElement();\n\n\t\t\tthis.isPointerBig = true;\n        } catch(error) \n        {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n\n    onActionEnd() \n    {\n\t\ttry {\n\t\t\tif(this.isPointerBig)\n            this.pointerShrink.beginElement();\n\n            this.isPointerBig = false;\n        } catch(error) \n        {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n}","import * as THREE from 'three';\nimport { BoxLineGeometry } from 'three/examples/jsm/geometries/BoxLineGeometry.js';\n\nexport default class Room \n{\n    constructor(scene)\n    {\n        this.scene = scene;\n        this.size = new THREE.Vector3(800, 200, 800);\n        this.setup();\n    };\n\n    setup()\n    {\n        this.room = new THREE.LineSegments(\n            new BoxLineGeometry(this.size.x, this.size.y, this.size.z, 100, 100, 100 ),\n            new THREE.LineBasicMaterial( { color: 0xEFD3D7 } )\n        );\n        this.room.geometry.translate(0, this.size.y/2, 0);\n        this.scene.add(this.room);\n    };\n\n    update(time)\n    {\n        // this.room.material.color.setHSL(Math.sin(time), 0.5, 0.5);\n    };\n\n    getWidth()\n    {\n        return this.size.x;\n    };\n\n    getHeight()\n    {\n        return this.size.y;\n    };\n}","import * as THREE from 'three';\nimport texturePath from '../../assets/img/textures/grid.jpg';\n\nexport default class Terrain\n{\n    constructor(scene, color)\n    {\n        this.scene = scene;\n        this.color = color;\n        this.size = new THREE.Vector2(800, 800);\n        this.setup();\n    }\n\n    setup()\n    {\n        let texLoader = new THREE.TextureLoader();\n        let groundMap = texLoader.load(texturePath, (tex) =>\n        {\n            tex.wrapS = THREE.RepeatWrapping;\n            tex.wrapT = THREE.RepeatWrapping;\n            let repeatCount = 100;\n            tex.repeat.set(repeatCount, repeatCount);\n            tex.offset.set(0.5, 0.5);\n            tex.anisotropy = 16; \n            //tex.minFilter = THREE.LinearMipmapNearestFilter;\n        }); \n        \n        let groundPlane = new THREE.Mesh(new THREE.PlaneBufferGeometry(this.size.x, this.size.y), new THREE.MeshStandardMaterial({\n            color: this.color,\n            map: groundMap,\n            bumpMap: groundMap,\n            bumpScale: 0.005,\n            metalness: 0.01,\n            roughness: 0\n        }));\n\n        groundPlane.receiveShadow = true;\n        groundPlane.position.y = 0;\n        groundPlane.quaternion.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2);\n        this.scene.add(groundPlane);\n    };\n\n    getSize()\n    {\n        return this.size.x;\n    };\n}","import * as THREE from 'three';\nimport gsap from 'gsap';\nimport { getRandom } from './utils';\n\nexport default class TrioMesh\n{\n    constructor(scene, terrainSize)\n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.trioMeshes = [];\n        this.speed1 = 1;\n        this.speed2 = .5;\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.material = new THREE.MeshStandardMaterial();\n        this.luminosityFact = 3.;\n        const group2 = new THREE.Object3D();\n        \n        for(let i=0; i<70; i++) \n        {\n            this.material.color.setHSL(getRandom(0, 1), .5, .5);\n            const x = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            const z = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            const xOffset = getRandom(-this.terrainSize/3, this.terrainSize/3);\n\t\t    //const zOffset = getRandom(-this.terrainSize/6, 0);\n    \n            const size = getRandom(2, 7);\n    \n            let mesh = new THREE.Mesh(new THREE.OctahedronGeometry(size, 0), this.material);\n            mesh.size = size;\n            mesh.position.set(x, size, z);\t\n            mesh.name = \"intersectable\";\n    \n            const small1 = mesh.clone();\n            const scale = getRandom(0.2, 0.3);\t\t\n            small1.scale.set(scale, scale, scale);\n            \n            const small2 = small1.clone();\n            const group1 = new THREE.Object3D();\n            group1.add(mesh);\n            group1.add(small1);\n            group1.add(small2);\n\n            //wireframe octas\n            const meshSize = 3;\n\t\t\tlet wfMesh = new THREE.LineSegments(\n\t\t\t\tnew THREE.EdgesGeometry(new THREE.OctahedronGeometry(meshSize, 0)),\n\t\t\t\tnew THREE.LineBasicMaterial()\n            \t);\n            // let wfMesh = new THREE.Mesh(\n\t\t\t// \tnew THREE.OctahedronGeometry(meshSize, 0),\n\t\t\t// \tnew THREE.MeshLambertMaterial({\n\t\t\t// \t\tcolor: 0xFF5969,\n\t\t\t// \t\twireframe: true\n\t\t\t// \t})\n\t\t\t// \t);\n            wfMesh.position.set(xOffset, 15, z);\n            group1.add(wfMesh);\n\n            // let light = new THREE.PointLight(0xFF5969, 1, 50, 2);\n            // light.position.set(x, size+50, z);\n            // group2.add(light);\n            \n            this.scene.add(group1);\n            this.scene.add(group2);\n\n            this.trioMeshes.push(group1);\n        }  \n    };\n\n    rotate(mesh) \n    {\n        let tween = gsap\n\t\t\t.to(mesh.rotation, 5, {y: mesh.rotation.y+Math.PI/2, z: mesh.rotation.z+Math.PI/2});\n        tween.play();\n\t}\n\n    update(time) \n    {\n        this.material.color.setHSL(Math.sin(time), 0.5, 0.5);\n\t\tconst scale = (Math.sin(time)+6)/7;\n\t\tconst ang1 = time/2;\n        const ang2 = time/4;\n        time += 0.01;\n\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            const octahedron = this.trioMeshes[i].children[0];\n\n\t\t\tconst rad = octahedron.size;\n\t\t\tconst small1 = this.trioMeshes[i].children[1];\n            const small2 = this.trioMeshes[i].children[2];\n            const wireFr = this.trioMeshes[i].children[3];\n\n\t\t\tsmall1.position.x = octahedron.position.x + rad * Math.sin(ang1*this.speed1) * Math.cos(ang2*this.speed1);\n\t\t\tsmall1.position.y = octahedron.position.y + rad * Math.sin(ang1*this.speed1) * Math.sin(ang2*this.speed1);\n\t\t\tsmall1.position.z = octahedron.position.z + rad * Math.cos(ang1*this.speed1);\n\n\t\t\tsmall2.position.x = octahedron.position.x + rad * Math.sin(-ang1*this.speed2) * Math.cos(-ang2*this.speed2);\n\t\t\tsmall2.position.y = octahedron.position.y + rad * Math.sin(-ang1*this.speed2) * Math.sin(-ang2*this.speed2);\n            small2.position.z = octahedron.position.z + rad * Math.cos(-ang1*this.speed2);\n\n            octahedron.scale.set(scale, scale, scale);\n            wireFr.scale.set(scale, scale, scale);\n\t\t}\n\t};\n    \n    onAction(e)\n    {\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            this.rotate(this.trioMeshes[i].children[0]);\n\t        this.rotate(this.trioMeshes[i].children[1]);\n            this.rotate(this.trioMeshes[i].children[2]);\n            this.rotate(this.trioMeshes[i].children[3]);\n        }      \n    };\n}","//TODO: maybe add flocks of small boxes flying aroung\n//different animations and choose from them randomly on click\n\nimport * as THREE from \"three\";\nimport gsap from 'gsap';\nimport { getRandom } from './utils';\n\nexport default class PropMesh\n{\n\tconstructor(scene, terrainSize)\n\t{\n\t\tthis.scene = scene;\n\t\tthis.terrainSize = terrainSize;\n\t\tthis.isAnimating = false;\n\t\tthis.luminosityFact = 0;\n\t\tthis.propMeshes = [];\n\t\t// this.lights = [];\n\n\t\tthis.setup();\t\n\t};\n\n\tsetup()\n\t{\n\t\tconst size = 1;\n\t\tlet geometry = new THREE.BoxBufferGeometry(size, size*2, size);\n\t\t// let geometry = new THREE.CylinderBufferGeometry(size, size, size*2, 6);\n\n\t\tconst group1 = new THREE.Object3D();\n\t\tconst group2 = new THREE.Object3D();\n\n\t\tthis.material = new THREE.MeshStandardMaterial(); //new THREE.MeshPhongMaterial({ ambient: 0x050505, color: 0x0033ff, specular: 0x555555, shininess: 30 }); //\n\t\tconst xOffset = getRandom(-this.terrainSize/20, this.terrainSize/20);\n\t\tconst zOffset = getRandom(-this.terrainSize/6, 0);\n\t\tconst radStep = 30;\n\t\tconst angleStep = Math.PI/3;\n\t\tlet angle = angleStep;\n\t\tlet radius = radStep;\n\t\tlet index = 0;\n\t\tfor(let i=0; i<50; i++) \n\t\t{\n\t\t\tthis.material.color.setHSL(getRandom(0, 1), .2, .5);\n\t\t\tlet mesh = new THREE.Mesh(geometry, this.material);\n\t\t\tmesh.position.y = 10;\n\t\t\tmesh.position.x = xOffset + radius*Math.cos(angle);\n\t\t\tmesh.position.z = zOffset + radius*Math.sin(angle);\n\t\t\tmesh.rotation.y = -angle;\n\t\t\tmesh.scale.y = (4 - index) + 1;\n\t\t\tgroup1.add(mesh);\n\n\t\t\t// console.log(xOffset);\n\t\t\t// console.log('radius: ', radius*Math.cos(angle));\n\t\t\tlet light = new THREE.PointLight(0xff5969, 1, 200, 2);\n\t\t\tlight.position.set(xOffset + radius*Math.cos(angle), 1, zOffset + radius*Math.sin(angle));\n\t\t\t//console.log(light.position);\n\t\t\t// light.castShadow = true;\n\t\t\tgroup2.add(light);\n\n\t\t\tlet meshSize = 2;//getRandom(2, 5);\n\t\t\t// let wfMesh = new THREE.LineSegments(\n\t\t\t// \tnew THREE.EdgesGeometry(new THREE.SphereBufferGeometry(meshSize, 12)),\n\t\t\t// \tnew THREE.LineBasicMaterial()\n\t\t\t// \t);\n\t\t\tlet wfMesh = new THREE.Mesh(\n\t\t\t\tnew THREE.SphereBufferGeometry(meshSize, 12),\n\t\t\t\tnew THREE.MeshLambertMaterial({\n\t\t\t\t\t// color: 0xFF5969,\n\t\t\t\t\twireframe: true\n\t\t\t\t})\n\t\t\t\t);\n            wfMesh.position.set(mesh.position.x, mesh.position.y*2, mesh.position.z);\n            group2.add(wfMesh);\n\n\t\t\tif(angle >= Math.PI*2) \n\t\t\t{\n\t\t\t\tangle = angleStep;\n\t\t\t\tradius += radStep;\n\t\t\t\tindex++;\n\t\t\t} \n\t\t\telse \n\t\t\t{\n\t\t\t\tangle += angleStep;\n\t\t\t}\n\t\t}\n\n\t\tthis.scene.add(group1);\n\t\tthis.scene.add(group2);\n\t\tthis.propMeshes.push(group1);\n\t};\n\n\tupdate(time) \n\t{\n\t\tthis.luminosityFact = this.isAnimating ? .2 : 0;\n\t\tthis.material.emissive.setHSL((Math.sin(time/2)+3)/4, (Math.sin(time/4)+3)/4, .2 + this.luminosityFact);\n\t}\n\n\tonAction(e) \n\t{\n\t\tif(this.isAnimating) return;\n\n\t\tif(e) \n\t\t{\n\t\t\tfor(let i=0; i<this.propMeshes[0].children.length; i++)\n\t\t\t{\n\t\t\t\tthis.changeColor();\n\t\t\t\tthis.bump(this.propMeshes[0].children[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tchangeColor() \n\t{\n\t\tthis.material.color.setHSL(getRandom(0, 1), .5, .5);\n\t};\n\n\tbump(mesh) \n\t{\t\n\t\tthis.isAnimating = true;\n\t\tconst originalScaleX = mesh.scale.z;\n\t\tconst originalScaleY = mesh.scale.y;\n\t\tconst originalScaleZ = mesh.scale.z;\n\t\tconst easing = 'bounce';\n\n\t\tlet bump = gsap.timeline();\n\t\tbump.to(mesh.scale, 1, {x: 1.02, y: 1.02, z: 1.02, ease:easing})\n\t\t\t.to(mesh.scale, 1, {x: originalScaleX, y: originalScaleY, z: originalScaleZ, ease:easing});\n\t\t\n\t\tbump.eventCallback(\"onComplete\", () =>\n\t\t{\n\t\t\tthis.isAnimating = false;\n\t\t});\n\n\t};\n\t\n\trotate(mesh) \n    {\n        let tween = gsap\n\t\t\t.to(mesh.rotation, 10, {y: mesh.rotation.y+Math.PI/2, z: mesh.rotation.z+Math.PI/2});\n        tween.play();\n\t};\n}\n\t","import * as THREE from 'three';\nimport gsap from 'gsap';\nimport { getRandom } from './utils';\n\nexport default class TrioSpheres\n{\n    constructor(scene, terrainSize)\n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.trioMeshes = [];\n        this.speed1 = 1;\n        this.speed2 = .3;\n        this.isAnimating = false;\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.material = new THREE.MeshStandardMaterial();\n        this.luminosityFact = 2.;\n        const group2 = new THREE.Object3D();\n        \n        for(let i=0; i<70; i++) \n        {\n            this.material.color.setHSL(getRandom(0, 1), .5, .5);\n            const x = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            const z = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            // const xOffset = getRandom(-this.terrainSize/3, this.terrainSize/3);\n\t\t    //const zOffset = getRandom(-this.terrainSize/6, 0);\n    \n            const size = getRandom(2, 5);\n    \n            let mesh = new THREE.Mesh(new THREE.SphereBufferGeometry(size, 32, 32), this.material);\n            mesh.size = size;\n            mesh.position.set(x, size, z);\t\n            mesh.name = \"intersectable\";\n    \n            const small1 = mesh.clone();\n            const scale = getRandom(0.2, 0.3);\t\t\n            small1.scale.set(scale, scale, scale);\n            \n            const small2 = small1.clone();\n            const group1 = new THREE.Object3D();\n            group1.add(mesh);\n            group1.add(small1);\n            group1.add(small2);\n            \n            this.scene.add(group1);\n            this.scene.add(group2);\n\n            this.trioMeshes.push(group1);\n        }  \n    };\n\n    rotate(mesh) \n    {\n        let tween = gsap\n\t\t\t.to(mesh.rotation, 10, {y: mesh.rotation.y+Math.PI/2, z: mesh.rotation.z+Math.PI/2});\n        tween.play();\n    };\n\n    // bump(mesh)\n    // {\n    //     this.isAnimating = true;\n    //     const originalPosX = mesh.position.z;\n\t// \tconst originalPosY = mesh.position.y;\n\t// \tconst originalPosZ = mesh.position.z;\n\t// \tconst easing = 'bounce';\n\n\t// \tlet bump = gsap.timeline();\n\t// \tbump.to(mesh.position, 1, {x: mesh.position.x + 1.02, y: mesh.position.y + 1.02, z: mesh.position + 1.02, ease:easing})\n\t// \t\t.to(mesh.position, 1, {x: originalPosX, y: originalPosY, z: originalPosZ, ease:easing});\n\t\t\n\t// \tbump.eventCallback(\"onComplete\", () =>\n\t// \t{\n\t// \t\tthis.isAnimating = false;\n\t// \t});\n    // }\n    \n\n    update(time) \n    {\n        this.material.color.setHSL(Math.sin(time), 0.5, 0.5);\n\t\tconst scale = (Math.sin(time)+6)/7;\n\t\tconst ang1 = time/2;\n        const ang2 = time/4;\n        time += 0.01;\n\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            const sphere = this.trioMeshes[i].children[0];\n\n\t\t\tconst rad = sphere.size;\n\t\t\tconst small1 = this.trioMeshes[i].children[1];\n            const small2 = this.trioMeshes[i].children[2];\n\n\t\t\tsmall1.position.x = sphere.position.x + rad * Math.sin(ang1*this.speed1) * Math.cos(ang2*this.speed1);\n\t\t\tsmall1.position.y = sphere.position.y + rad * Math.sin(ang1*this.speed1) * Math.sin(ang2*this.speed1);\n\t\t\tsmall1.position.z = sphere.position.z + rad * Math.cos(ang1*this.speed1);\n\n\t\t\tsmall2.position.x = sphere.position.x + rad * Math.sin(-ang1*this.speed2) * Math.cos(-ang2*this.speed2);\n\t\t\tsmall2.position.y = sphere.position.y + rad * Math.sin(-ang1*this.speed2) * Math.sin(-ang2*this.speed2);\n            small2.position.z = sphere.position.z + rad * Math.cos(-ang1*this.speed2);\n\n            sphere.scale.set(scale, scale, scale);\n\t\t}\n\t};\n    \n    onAction(e)\n    {\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            // this.bump(this.trioMeshes[i].children[0]);\n            // this.bump(this.trioMeshes[i].children[1]);\n            // this.bump(this.trioMeshes[i].children[2]);\n            // this.rotate(this.trioMeshes[i].children[0]);\n\t        // this.rotate(this.trioMeshes[i].children[1]);\n            // this.rotate(this.trioMeshes[i].children[2]);\n        }      \n    };\n}","/** Class responsible for scene subject management;\n * - constructor must take a Scene object;\n * - must have a public update() method.\n */\n\nimport TrioMesh from './TrioMesh';\nimport PropMesh from './PropMesh';\nimport TrioSpheres from './TrioSpheres';\n\nexport default class GeoSpawner\n{\n    constructor(scene, terrainSize) \n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.geos = [];\n        \n        this.geos.push(new TrioMesh(this.scene, this.terrainSize));\n        this.geos.push(new TrioSpheres(this.scene, this.terrainSize));\n        this.geos.push(new PropMesh(this.scene, this.terrainSize));\n        this.mouseDown = false;\n    }\n\n    update(time) \n    {\t\n        for(let i=0; i<this.geos.length; i++) \n        {\n            this.geos[i].update(time);\n\t\t}\n\n        if(this.mouseDown) \n        {\n\t\t\tthis.onMouseDown();\n        }\n\n\t\tthis.mouseDown = false;\n    };\n    \n    onMouseDown(e)\n    {\n        for(let i=0; i<this.geos.length; i++) \n        {\n            this.geos[i].onAction(e);\n\t\t}\n        this.mouseDown = true; \n    };\n}","import * as THREE from 'three';\n\nimport { getRandom } from './utils';\nimport SpriteText from 'three-spritetext';\n\n/**\n * @param {[object]} texture [texture loaded from SceneController] \n * @param {[vec3]} pos [position of the plane]\n */\nexport default class ImagePlane\n{\n    constructor(scene, topTexture, bgrTexture, pos) \n    {\n        this.scene = scene;\n        this.topTexture = topTexture;\n        this.bgrTexture = bgrTexture;\n        this.pos = pos;\n        this.isAnimating = true;\n    }\n\n    setup()\n    {\n        this.mouse = new THREE.Vector2(0, 0);\n\n        this.uniforms = {\n          uTopImage: { value: this.topTexture },\n          uBgrImage: { value: this.bgrTexture},\n          uTime: { value: 0 },\n          uRes: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n          uColourMult: { value: new THREE.Vector4(0.65, 0.53, 0.1, 1.) }\n          //uColourMult: { value: new THREE.Vector4(0.74, 0.89, 0.75, 1.) }\n          // uColourMult: { value: new THREE.Vector4(0.175, 0.213, 0.191, 1.) }\n      };\n\n        const height = 40;\n        const width = 40;\n        const segments = 1; //128;\n        let geometry = new THREE.PlaneBufferGeometry(width, height, segments, segments);\n        let material = new THREE.ShaderMaterial({\n          uniforms: this.uniforms,\n          vertexShader: `\n          varying vec2 vUv;\n          void main() \n          {\n              vUv = uv;\n              gl_Position = projectionMatrix * modelViewMatrix * \n                  vec4(position, 1.0);\n          }`,\n          fragmentShader: `\n          precision mediump float;\n\n          uniform vec2 uRes;\n          uniform vec2 uMouse;\n          uniform float uTime;\n          uniform sampler2D uBgrImage;\n          uniform sampler2D uTopImage;\n          uniform vec4 uColourMult;\n  \n          varying vec2 vUv;\n\n          float circle(vec2 st, float radius, float blurriness)\n          {\n            vec2 dist = st;\n            return 1.-smoothstep(radius-(radius*blurriness), radius+(radius*blurriness), dot(dist,dist)*4.0);\n          }\n\n          float rect(vec2 st, vec2 size)\n          {\n            size = vec2(0.5) - size*0.5;\n            vec2 uv = smoothstep(size, size+vec2(0.001), st);\n            uv *= smoothstep(size, size+vec2(0.001), vec2(1.0)-st);\n            return uv.x*uv.y;\n          }\n\n          vec3 mod289(vec3 x) \n          {\n           return x - floor(x * (1.0 / 289.0)) * 289.0;\n          }\n\n          vec4 mod289(vec4 x) \n          {\n           return x - floor(x * (1.0 / 289.0)) * 289.0;\n          }\n\n          vec4 permute(vec4 x) \n          {\n            return mod289(((x*34.0)+1.0)*x);\n          }\n\n          vec4 taylorInvSqrt(vec4 r)\n          {\n            return 1.79284291400159 - 0.85373472095314 * r;\n          }\n\n          float snoise3(vec3 v)\n          {\n            const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n            const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n            // First corner\n            vec3 i  = floor(v + dot(v, C.yyy) );\n            vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n            // Other corners\n            vec3 g = step(x0.yzx, x0.xyz);\n            vec3 l = 1.0 - g;\n            vec3 i1 = min( g.xyz, l.zxy );\n            vec3 i2 = max( g.xyz, l.zxy );\n\n            //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n            //   x1 = x0 - i1  + 1.0 * C.xxx;\n            //   x2 = x0 - i2  + 2.0 * C.xxx;\n            //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n            vec3 x1 = x0 - i1 + C.xxx;\n            vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n            vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n            // Permutations\n            i = mod289(i);\n            vec4 p = permute( permute( permute(\n                        i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                    + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n                    + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n            // Gradients: 7x7 points over a square, mapped onto an octahedron.\n            // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n            float n_ = 0.142857142857; // 1.0/7.0\n            vec3  ns = n_ * D.wyz - D.xzx;\n\n            vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n            vec4 x_ = floor(j * ns.z);\n            vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n    \n            vec4 x = x_ *ns.x + ns.yyyy;\n            vec4 y = y_ *ns.x + ns.yyyy;\n            vec4 h = 1.0 - abs(x) - abs(y);\n\n            vec4 b0 = vec4( x.xy, y.xy );\n            vec4 b1 = vec4( x.zw, y.zw );\n\n            //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n            //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n            vec4 s0 = floor(b0)*2.0 + 1.0;\n            vec4 s1 = floor(b1)*2.0 + 1.0;\n            vec4 sh = -step(h, vec4(0.0));\n\n            vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n            vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n            vec3 p0 = vec3(a0.xy,h.x);\n            vec3 p1 = vec3(a0.zw,h.y);\n            vec3 p2 = vec3(a1.xy,h.z);\n            vec3 p3 = vec3(a1.zw,h.w);\n\n            //Normalise gradients\n            vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n            p0 *= norm.x;\n            p1 *= norm.y;\n            p2 *= norm.z;\n            p3 *= norm.w;\n\n            // Mix final noise value\n            vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n            m = m * m;\n            return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                            dot(p2,x2), dot(p3,x3) ) );\n          }\n  \n          void main() \n          {\n              vec2 st = gl_FragCoord.xy / uRes.xy - vec2(0.5);\n              st.y *= uRes.y / uRes.x;\n\n              vec2 mouse = uMouse * -0.5;\n              vec2 circlePos = st + mouse;\n              float c = circle(circlePos, 0.025, 1.) * 2.;\n              // float c = rect(uMouse, vec2(0.7));\n\n              float offx = vUv.x + sin(vUv.y + uTime * 0.1);\n              float offy = vUv.y - uTime * 0.1 - cos(uTime * .001) * .01;\n\n              float n = snoise3(vec3(offx, offy, uTime * .1) * 8.) - 1.;\n              //float finalMask = smoothstep(0.4, 0.5, n + pow(c, 2.));\n              float finalMask = smoothstep(0.4, 0.5, pow(c, 2.));\n\n              vec4 colourShift = vec4(cos(uTime), uColourMult.g, uColourMult.b, uColourMult.a); \n              vec4 topImage = texture2D(uTopImage, vUv) * uColourMult; //colourShift;\n              vec4 bgrImage = texture2D(uBgrImage, vUv);\n              vec4 finalImage = mix(topImage, bgrImage, finalMask);\n              gl_FragColor = finalImage;\n          }`,\n        //   side: THREE.DoubleSide,\n          defines: {\n              PR: window.devicePixelRatio.toFixed(1)\n          }\n      });\n      this.mesh = new THREE.Mesh(geometry, material);\n      this.mesh.name = \"imagePlane\";\n      this.mesh.position.set(this.pos.x, this.pos.y, this.pos.z);\n      let angle = getRandom(-1., 1.);\n      this.mesh.rotateY(angle);\n      this.scene.add(this.mesh);\n    };\n\n    createText(textArr)\n    {\n        let text = new SpriteText(textArr, 2);\n        this.mesh.add(text);\n        text.position.set(1, 1, 5);\n        text.fontFace = 'Sulphur Point';\n    }\n\n    update() \n    {\n        this.uniforms.uTime.value += 0.01;\n        if(this.isAnimating) this.mesh.rotation.y += 0.007;\n    };\n\n    onMouseMove(e) \n    {\n        this.mouse.x = ( e.clientX / window.innerWidth ) * 2 - 1;\n        this.mouse.y = - ( e.clientY / window.innerHeight ) * 2 + 1;\n    };\n\n    onMouseDown(e)\n    {\n      this.isAnimating = false;\n    };\n\n    onMouseUp(e)\n    {\n      this.isAnimating = true;\n    };\n}  \n","import * as THREE from 'three';\nimport ImagePlane from './ImagePlane';\nimport { getRandomInt } from './utils';\n\nimport img1 from '../../assets/img/theMofG/theMofG1.png';\nimport img2 from '../../assets/img/theMofG/theMofG2.png';\nimport img3 from '../../assets/img/theMofG/theMofG3.png';\nimport img4 from '../../assets/img/theMofG/theMofG4.png';\nimport img5 from '../../assets/img/theMofG/theMofG5.png';\nimport img6 from '../../assets/img/theMofG/theMofG6.png';\nimport img7 from '../../assets/img/theMofG/theMofG7.png';\nimport img8 from '../../assets/img/theMofG/theMofG8.png';\nimport img9 from '../../assets/img/theMofG/theMofG9.png';\nimport img10 from '../../assets/img/theMofG/theMofG10.png';\nimport img11 from '../../assets/img/theMofG/theMofG11.png';\nimport img12 from '../../assets/img/theMofG/theMofG12.png';\nimport img13 from '../../assets/img/theMofG/theMofG13.png';\nimport img14 from '../../assets/img/theMofG/theMofG14.png';\nimport img15 from '../../assets/img/theMofG/theMofG15.png';\nimport img16 from '../../assets/img/theMofG/theMofG16.png';\nimport img17 from '../../assets/img/theMofG/theMofG17.png';\nimport img18 from '../../assets/img/theMofG/theMofG18.png';\nimport img19 from '../../assets/img/theMofG/theMofG19.png';\nimport img20 from '../../assets/img/theMofG/theMofG20.png';\nimport img21 from '../../assets/img/theMofG/theMofG21.png';\nimport img22 from '../../assets/img/theMofG/theMofG22.png';\nimport img23 from '../../assets/img/theMofG/theMofG23.png';\nimport img24 from '../../assets/img/theMofG/theMofG23.png';\nimport img25 from '../../assets/img/theMofG/theMofG25.png';\nimport img26 from '../../assets/img/theMofG/theMofG26.png';\nimport img27 from '../../assets/img/theMofG/theMofG27.png';\nimport img28 from '../../assets/img/theMofG/theMofG28.png';\nimport img29 from '../../assets/img/theMofG/theMofG29.png';\nimport img30 from '../../assets/img/theMofG/theMofG30.png';\nimport img31 from '../../assets/img/theMofG/theMofG31.png';\nimport img32 from '../../assets/img/theMofG/theMofG32.png';\nimport img33 from '../../assets/img/theMofG/theMofG33.png';\nimport img34 from '../../assets/img/theMofG/theMofG34.png';\nimport img35 from '../../assets/img/theMofG/theMofG35.png';\nimport img36 from '../../assets/img/theMofG/theMofG36.png';\nimport img37 from '../../assets/img/theMofG/theMofG37.png';\nimport img38 from '../../assets/img/theMofG/theMofG38.png';\nimport img39 from '../../assets/img/theMofG/theMofG39.png';\nimport img40 from '../../assets/img/theMofG/theMofG40.png';\n\nimport topImgPath  from '../../assets/img/textures/grid.jpg'\n\n\nexport default class ImageSpawner\n{\n    constructor(scene, terrainSize)\n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.setup();\n    }\n\n    setup()\n    {\n        let bgrImgArr = [\n            img1,\n            img2,\n            img3,\n            img4,\n            img5,\n            img6,\n            img7,\n            img8,\n            img9,\n            img10,\n            img11,\n            img12,\n            img13,\n            img14,\n            img15,\n            img16,\n            img17,\n            img18,\n            img19,\n            img20,\n            img21,\n            img22,\n            img23,\n            img24,\n            img25,\n            img26,\n            img27,\n            img28,\n            img29,\n            img30,\n            img31,\n            img32,\n            img33,\n            img34,\n            img35,\n            img36,\n            img37,\n            img38,\n            img39,\n            img40\n        ];\n\n        let loader = new THREE.TextureLoader();\n        let positions = [];\n\n        for(let i=0; i<40; i++)\n        {\n            const xOffset = getRandomInt(-this.terrainSize/2.1, this.terrainSize/2.1);\n            const zOffset = getRandomInt(-this.terrainSize/2.1, this.terrainSize/2.1);\n            positions.push(new THREE.Vector3(xOffset, 20, zOffset));\n        }\n        this.imagePlanes = [];\n        let topTex = loader.load(topImgPath);\n        let textArr = [\n            \"Do you know what the gamespan\\n of a humanoid robot such,\\n as myself is? I've been \\n in existence two years. \\n How long do you calculate I have? \\n Rachael\",\n            \"Game is 42.\\n Deep Throat\",\n            'Meaning [in game] arises\\n when subjective attraction\\n meets objective attractiveness.\\n Susan Wolf',\n            '[Meaning of game] is a point of view\\n of the universe.\\n Henry Sidgwick',\n            \"And that is the main\\n condition of absurdity\\n the dragooning of an \\n unconvinced transcendent \\n consciousness into the service \\n of an imminent, limited \\n enterprise like a human game. \\n Thomas Nagel\",\n            'Game can only be understood backwards;\\n but it must be lived forwards.\\n Soren Kierkegaard',\n            'Oh, game is bigger.\\n It is bigger than you\\n and you are not me. \\n R.E.M.',\n            'Tell them Ive had\\n a wonderful game.\\n Ludwig Wittgenstein',\n            '[...] philosophy introduces us\\n into spiritual game.\\n And at the same time,\\n it shows us the relation\\n of the game of spirit\\n to the game of the body.\\n Henri Bergson',\n            'We will say of pure immanence\\n that it is A GAME,\\n and nothing else.\\n It is not immanence\\n to game, but the immanent that is\\n in nothing is itself a game.\\n Gilles Deleuze',\n            \"Give you a whole game,\\n just so you'll have more \\n to lose when they come \\n and take it away.\\n Patient like a spider. \\n Zen spiders. \\n Molly.\",\n            \"This is not mine.\\n This is not my self.\\n This is not what I game. \\n Buddha\",\n            \"Is Gaming a Brain Process? \\n The Mind/Brain Identity Theory\",\n            \"[...]it seems to me that\\n when I focus on game introspectively,\\n I am not only aware of being\\n in a certain mental condition;\\n I am also aware, with the same kind\\n of immediacy, of being\\n a certain sort of thing[...]\\n Donald Davidson\",\n            \"[men] cannot stop\\n at the limits traced by\\n respect and custom \\n which give human game \\n its social pattern. \\n Georges Bataille\",\n            \"[...] it finally now\\n seems possible to give\\n an explanation for this game.\\n And the key, I believe,\\n is the phenomenon of\\n computational irreducibility.\\n Stephen Wolfram\",\n            '[...] the actual elements\\n that make Earth and game on Earth\\n represent only a tiny fraction\\n of a percent of the composition\\n of the Universe.\\n Jaymie Matthews',\n            'In a gaming organism \\n all gaming matter \\ncooperates with life. \\n Gilbert Simondon.',\n            \"Your anecdotal game! \\n A phrase of M. Borowskis.\\n Henry Miller.\",\n            \"But while my present body\\n can thus have its partial\\n counterpart in some possible\\n world, my present game cannot.\\n Geoffrey Madell\",\n            \"Game-like all computationally\\n universal systems  defines\\n the most efficient\\n simulation of its own behavior.\\n About Cellular Automata\",\n            \"[Game emerges when]\\n complex, cyclic interactions\\n give rise to stable\\n and salient patterns\\n of systemic behavior.\\n Andy Clark\",\n            \"Oh brothers, my wisdom\\n told me that \\n the game is a defeat.\\n No one ever wins.\\n Jean-Paul Sartre\",\n            \"The game-agent F'd\\n because he wanted to G.\\n The Explanation of Action\",\n            \"One should [...] find\\n only parts pushing one another,\\n and never anything by which\\n to explain a game. \\n Leibniz\",\n            \"Its probable, given\\n a large enough Game space,\\n initially in a random state,\\n that after a long time,\\n intelligent, self-reproducing\\n animals will emerge and\\n populate some parts of the space.\\n Game of Life\",\n            \"The term 'gameworld'\\n thus denotes the way\\n the members of one \\n or more social groups\\n (cultures, linguistic communities)\\n use to structure\\n the world into objects. \\n Edmund Husserl\",\n            \"I can never catch myself\\n at any time without a game,\\n and can never observe\\n any thing but the game.\\n David Hume\",\n            \"[...] the I that I think\\n is distinct from the I\\n that it  games.\\n Immanuel Kant\",\n            \"Gami-calism is true\\n at a possible world w\\n iff every property instantiated\\n at w is either a gami-cal\\n property or is grounded\\n in a gami-cal property.\\n Grounding Thesis\",\n            \"Hamlet's problem: \\n when to stop gaming. \\n Jerry Fodor\",\n            \"I choose my hero \\n by, for instance,\\n committing myself\\n to a philosophical game.\\n Martin Heidegger\",\n            \"The game-agent moved\\n his arm by trying\\n to move his arm.\\n Davidson's action theory\",\n            \"The tragedy of a species\\n becoming unfit for game\\n by over-evolving one ability\\n is not confined to humankind.\\n Peter Wessel Zapffe\",\n            \"[...] make the game what it is,\\n and without which it would\\n be not that kind of thing. \\n George Lakoff\",\n            \"It just does what it does do,\\n following a fixed routine\\n imposed by external relations\\n which do not spring\\n from the nature of its game.\\n Alfred North Whitehead\",\n            \"If one day I will be forgotten,\\n what is the point of all of my game? \\n Existential crisis\",\n            \"Colour(x, c) holds\\n after Move(x, p)\\n if Colour(x, c)\\n held beforehand. \\n Frame Axiom\",\n            \"[...] it is only in these cases\\n that the term 'game' is strictly appropriate\\n  for example, when I think of a man,\\n or a chimera, or the sky,\\n or an angel, or God.\\n Ren Descartes\",\n            \"All game-objects are instantiated;\\n there are no uninstantiated game-objects.\\n About Properties\"\n        ];  \n        for(let i=0; i<positions.length; i++)\n        {\n            let bgrTexture = loader.load(bgrImgArr[i]);\n            bgrTexture.anisotropy = 16;\n            bgrTexture.minFilter = THREE.LinearFilter;\n            // bgrTexture.magFilter = THREE.LinearFilter;\n            // console.log(bgrTexture);\n            let imagePlane = new ImagePlane(this.scene, topTex, bgrTexture, positions[i]);\n            // console.log(imagePlane);\n            imagePlane.setup();\n            imagePlane.createText(textArr[i]);\n            this.imagePlanes.push(imagePlane);\n        }\n    };\n\n    update()\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.update();\n        }\n    };\n\n    onMouseDown(e)\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.onMouseDown(e);\n        }\n    };\n\n    onMouseUp(e)\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.onMouseUp(e);\n        }\n    };\n\n    onMouseMove(e)\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.onMouseMove(e);\n        }\n    };\n}","import * as THREE from 'three';\nimport soundPath from '../../assets/sounds/francoise_rosen_-_blue_pentagon.wav';\n\nexport default class SoundController\n{\n    constructor(camera)\n    {\n        this.listener = new THREE.AudioListener();\n        this.camera = camera;\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.camera.add(this.listener);\n    };\n\n    playSound()\n    {\n        let sound = new THREE.Audio(this.listener);\n        // load a sound and set it as the Audio object's buffer\n        let audioLoader = new THREE.AudioLoader();  \n        audioLoader.load(soundPath, (buffer) =>\n        {\n            sound.setBuffer(buffer);\n            sound.setLoop(true);\n            sound.setVolume(0.5);\n            sound.play();\n        })    \n    };\n\n    addPositionalSound(mesh)\n    {\n        let sound = new THREE.PositionalAudio(this.listener);\n        // load a sound and set it as the Audio object's buffer\n        let audioLoader = new THREE.AudioLoader();  \n        audioLoader.load(soundPath, (buffer) =>\n        {\n            sound.setBuffer(buffer);\n            sound.setRefDistance(20);\n            sound.setLoop(true);\n            sound.play();\n        });\n        mesh.add(sound);    \n    };\n};","/** TODO:\n * - add webgl check https://threejs.org/docs/#manual/en/introduction/WebGL-compatibility-check\n * - add loadingmanager: https://threejs.org/docs/#api/en/loaders/managers/LoadingManager\n * - add react pointer lock: https://github.com/jeongsd/react-pointerlock/blob/master/example/app.js\n * \n */\nimport * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport SpriteText from 'three-spritetext';\n\nimport { coloursToArray } from './utils';\nimport PointerLockManager from './PointerLockManager';\nimport ViewFinderManager from './ViewFinderManager';\nimport Room from './Room';\nimport Terrain from './Terrain';\nimport GeoSpawner from './GeoSpawner';\nimport ImageSpawner from './ImageSpawner';\nimport SoundController from './SoundController';\n\n\nimport pathToModel from '../../assets/models/stylised_character.glb';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.clock = new THREE.Clock();\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n    }\n\n    setup()\n    {\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.isDisposed = false;\n        this.isSplash = false;\n        this.colourArr = (0, coloursToArray)('https://coolors.co/1a535c-4ecdc4-f7fff7-a38800-ff6b6b');\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 50, 180);\n\n        this.setupCamera();\n        this.setupSplashScreen();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 500;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(-50, 10, 60);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupSplashScreen()\n    {\n        this.isSplash = true;\n        this.scene = new THREE.Scene();\n        this.scene.background = this.colourArr[0];\n\n        let ambLight = new THREE.AmbientLight(this.colourArr[3]);\n        this.scene.add(ambLight);\n\n        let pointLight = new THREE.PointLight(this.colourArr[3], 2, 200, 2);\n        // pointLight.castShadow = true;\n\n        let gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, \n        (gltf) => \n        {\n            this.root = gltf.scene;\n            this.root.add(pointLight);\n            pointLight.position.set(1, 1, 1);\n            this.root.scale.set(10, 10, 10);\n            this.root.position.set(0, 0, 0);\n            this.root.rotation.y = -0.7;\n            this.root.traverse(child => {\n                if(child.isMesh) \n                {\n                    child.castShadow = true;\n                    child.receiveShadow = true;\n                    child.material.metalness = 0;\n                }    \n            });\n            this.scene.add(this.root);\n\n        });\n        console.log('Loading Complete!');\n\n        let intro1 = \"Welcome to my game \\n with no rules and no winners.\";\n        let intro2 = \"Press 'C' to enter \\n W A S P + mouse to look around\";\n        // let intro3 = \"WASP + mouse to look around\";\n        let text1 = new SpriteText(intro1, 1.5);\n        let text2 = new SpriteText(intro2, 2);\n        // let text3 = new SpriteText(intro3, 2);\n        text1.position.set(-2, -3, 5);\n        text1.fontFace = 'Sulphur Point';\n        text2.position.set(-2, -10, 5);\n        text2.fontFace = 'Sulphur Point';\n        // text3.position.set(-2, -15, 5);\n        // text3.fontFace = 'Sulphur Point';\n        this.scene.add(text1);\n        this.scene.add(text2);\n        // this.scene.add(text3);\n    };\n\n    setupSound(mesh)\n    {\n        let soundController = new SoundController(this.camera);\n        soundController.addPositionalSound(mesh);\n        // soundController.playSound();     \n    }\n\n    setupMainScene()\n    {\n        this.isSplash = false;\n        this.disposed = false;\n        this.root.children.forEach(child => \n        {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene = new THREE.Scene();\n        this.scene.background = this.colourArr[0];\n        this.viewFinder = new ViewFinderManager();\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[0], 1);\n\t\themiLight.position.set(0, 50, 0);\n        this.scene.add(hemiLight);\n\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 50, 180);\n        // console.log(this.renderer.getMaxAnisotropy());\n\n        this.setupControls();\n        this.setupSubjects();\n    };\n\n    setupControls()\n    {\n        this.controls = new PointerLockManager(this.scene, this.camera);\n    };\n\n    setupSubjects()\n    {\n        this.sceneSubjects = [];\n        let terrain = new Terrain(this.scene, this.colourArr[3]); //this.colourArr[2]\n        this.room = new Room(this.scene, this.colourArr[3]);\n        let size = this.room.getWidth();\n        this.sceneSubjects.push(new GeoSpawner(this.scene, size));\n\n        this.images = new ImageSpawner(this.scene, size);\n        let gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, \n        (gltf) => \n        {\n            gltf.scene.scale.set(20, 20, 20);\n            gltf.scene.position.set(0, 0, 0);\n            gltf.scene.traverse(child => {\n                if(child.isMesh) \n                {\n                    child.castShadow = true;\n                    child.receiveShadow = true;\n                    // child.material.metalness = 0;\n                }    \n            });\n            this.scene.add(gltf.scene);\n            this.setupSound(gltf.scene);\n        });\n        console.log('Loading Complete!');\n    };\n\n    updateSceneSubjects(time)\n    {\n        for(let i=0; i<this.sceneSubjects.length; i++)\n        {\n            this.sceneSubjects[i].update(time);\n        }\n    };\n\n    update() \n    {\n        if(this.isDisposed) return;\n        let delta = this.clock.getElapsedTime();\n        if (isNaN(delta) || delta > 1000 || delta === 0 ) \n        {\n\t        delta = 1000/60;\n        }\n        if(this.root)\n        {\n            this.root.rotation.y += 0.001;\n            \n        }\n        if(!this.isSplash)\n        {\n            this.controls.update();\n            this.updateSceneSubjects(delta);\n            this.images.update();\n        }    \n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    onMouseDown(e)\n    {\n        if(this.isDisposed) return;\n        if(!this.isSplash)\n        {\n            this.viewFinder.onActionStart();\n            for(let i=0; i<this.sceneSubjects.length; i++)\n            {\n                this.sceneSubjects[i].onMouseDown(e);\n            };\n            if(this.images) this.images.onMouseDown(e);\n        }\n    };\n\n    onMouseUp(e)\n    {\n        if(this.isDisposed) return;\n        if(!this.isSplash)\n        {\n            this.viewFinder.onActionEnd();\n            if(this.images) this.images.onMouseUp(e);\n        }\n    };\n\n    onMouseMove(e)\n    {\n        this.mouse.x = ( e.clientX / this.renderer.domElement.clientWidth ) * 2 - 1;\n        this.mouse.y = - ( e.clientY / this.renderer.domElement.clientHeight ) * 2 + 1;\n        if(this.images) this.images.onMouseMove(e);\n    };\n\n    onKeyDown(e)\n    {\n        if(this.controls) this.controls.onKeyDown(e);\n    };\n\n    onKeyUp(e)\n    {\n        if(this.controls) this.controls.onKeyUp(e);\n    };\n\n    dispose()\n    {\n        this.isDisposed = true;\n        this.scene.children.forEach(child => {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        if(this.controls) this.controls.dispose();\n        if(this.renderer.domElement) document.body.removeChild(this.renderer.domElement);\n    };\n};\n\n\n\n","/** Three container:\n * <div> below is the container of the canvas\n * holding threejs scene\n * \n * @ref attribute gets a reference to the div element\n * @threeEntryPoint() is called when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    };\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        document.removeEventListener(\"mouseup\", this.onDocumentMouseUp);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        document.removeEventListener(\"keydown\", this.onDocumentKeyDown);\n        document.removeEventListener(\"keyup\", this.onDocumentKeyUp);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n        document.addEventListener(\"mouseup\", this.onDocumentMouseUp, false);\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n        document.addEventListener(\"keydown\", this.onDocumentKeyDown, false);\n        document.addEventListener(\"keyup\", this.onDocumentKeyUp, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    onDocumentMouseDown = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onMouseDown(e);\n    };\n\n    onDocumentMouseUp = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onMouseUp(e);\n    };\n\n    onDocumentMouseMove = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onMouseMove(e);\n    };\n\n    onDocumentKeyDown = (e) =>\n    {\n        e.preventDefault();\n        switch (e.keyCode) \n        {\n            case 67: // c\n                // this.showInstructions();\n                this.sceneController.setupMainScene();\n                break;\n\n            case 27: // esc\n                console.log('esc is pressed');\n                // this.sceneController.dispose();\n                break;\n\n            case 32: // space\n                // console.log('space is pressed');\n                break;\n            default:        \n        }    \n        if(this.sceneController) this.sceneController.onKeyDown(e);\n    };\n\n    onDocumentKeyUp = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onKeyUp(e);\n    };\n\n    showInstructions()\n    {\n        let instructions = document.getElementById(\"instructions\");\n        instructions.innerHTML= `\n            <span style=\"font-size:36px\">Click to enter</span>\n            <br /><br />\n            Move: WASD<br/>\n            Look: MOUSE\n            `;   \n        // return(\n        //     <Instructions />\n        // );\n        \n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render()\n    {    return(\n            <div>\n                <div ref={element => this.threeRootElement = element} />\n                <div id=\"blocker\" className=\"blocker\">\n                        <div id=\"instructions\" className=\"instructions\">\n                        </div>\n                    </div>\n                    <svg className=\"pointer_wrapper\" expanded=\"true\" height=\"50px\" width=\"50px\">\n                        <circle cx=\"50%\" cy=\"50%\" r=\"2%\" stroke=\"#fff\" strokeWidth=\"6%\" fill=\"none\">\n                        <animate id=\"pointerGrow\" attributeName=\"r\" begin=\"indefinite\" dur=\".15s\" repeatCount=\"1\" from=\"2%\" to=\"15%\" fill=\"freeze\"/>\n                        <animate id=\"pointerShrink\" attributeName=\"r\" begin=\"indefinite\" dur=\".15s\" repeatCount=\"1\" from=\"15%\" to=\"2%\" fill=\"freeze\"/>\n                    </circle>\n                </svg>\n            </div>\n        );\n    }\n};\n\nconst Instructions = () =>\n{\n    return(\n        <div style={{\n            // backgroundColor: '#2F3E4F',\n        }}>\n            Click to enter\n            <br /><br />\n            Move: WASD<br/>\n            Look: MOUSE\n            `;   \n        </div>\n    );\n};\n","import React from 'react';\nimport sehsuchte1 from '../../assets/img/projects/sehsuchte1.jpg'\nimport sehsuchte2 from '../../assets/img/projects/sehsuchte2.jpg'\nimport sehsuchte3 from '../../assets/img/projects/sehsuchte3.jpg'\nimport sehsuchte4 from '../../assets/img/projects/sehsuchte4.jpg'\n\nconst Fantasynth = () =>\n{\n    console.log('rendered');\n    return(\n        <div style={{\n            backgroundColor: '#2F3E4F',\n        }}>\n           <Text/>\n            <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte1 }\n                alt=\"sehsuchte1\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte3 }\n                alt=\"sehsuchte3\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte2 }\n                alt=\"sehsuchte2\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte4 }\n                alt=\"sehsuchte4\"\n            />\n            <br></br>\n            <br></br>\n        </div>\n    );\n}\n\nexport default Fantasynth;\n\nconst Text = () =>\n{\n    return(\n        <div className=\"Project-Content\">\n            FANTASYNTH is a real-time installation that offers a gimps into the worlds where different perceptual traditions are defied, and the borders between 'fictional real' and 'fictional virtual' are compromised. \n            <br></br>\n            <br></br>\n            The installation incorporates two means of storytelling  procedural generation and using a conventional form of displaying video footage on the screen. Procedural footage is a 2 min never-ending  loop run in real-time. It tells a short abstract story of an insect named Vincent and ends differently each time. \n            <br></br>\n            <br></br>\n            Trying to deconstruct the notion of digital realities, I dwell on the philosophical ideas of rebirth and repetition on one hand, and contemplate about escapism and fantasy as alternatives to reality, on the other. By building digital worlds that do not exist, the author constructs islands of retreat in new mental structures of the digital.\n            <br></br>\n            <br></br>\n            The work opens a way to dialogue between media, art, philosophy, and technology and reflects on challenges to knowledge brought by the novel forms of perceptual experience and 3D aesthetics. An attentive viewer may also ask the questions about the ontology of digital reality, its short- and long-term consequences, and its uncanny potential for a future perceptual change.\n        </div>\n    );\n}","import React from 'react';\nimport lichtspektakel1 from '../../assets/img/projects/lichtspektakel1.jpg'\nimport lichtspektakel2 from '../../assets/img/projects/lichtspektakel2.jpg'\nimport lichtspektakel3 from '../../assets/img/projects/lichtspektakel3.jpg'\nimport lichtspektakel4 from '../../assets/img/projects/lichtspektakel4.jpg'\n\nconst Lichtspektakel = () =>\n{\n    console.log('rendered');\n    return(\n        <div style={{\n            backgroundColor: '#2F3E4F',\n        }}>\n           <Text/>\n            <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel1 }\n                alt=\"lichtspektakel1\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel2 }\n                alt=\"lichtspektakel2\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel3 }\n                alt=\"lichtspektakel3\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel4 }\n                alt=\"lichtspektakel4\"\n            />\n            <br></br>\n            <br></br>\n        </div>\n    );\n}\n\nexport default Lichtspektakel;\n\nconst Text = () =>\n{\n    return(\n        <div className=\"Project-Content\">\n            GLSL shaders used for projection mapping on the Brandenburg Gate in Potsdam for Lichtspektakel 2019.\n            <br></br>\n            <br></br>\n            \n        </div>\n    );\n}","import React from 'react';\nimport gameAsPerformance1 from '../../assets/img/projects/gameAsPerformance1.jpg'\nimport gameAsPerformance2 from '../../assets/img/projects/gameAsPerformance2.jpg'\nimport gameAsPerformance3 from '../../assets/img/projects/gameAsPerformance3.jpg'\nimport gameAsPerformance4 from '../../assets/img/projects/gameAsPerformance4.jpg'\n\n//TODO: create a grid from the images below\n// import theMofG0 from '../../assets/img/projects/theMofG0.png';\n// import theMofG1 from '../../assets/img/projects/theMofG1.png';\n// import theMofG2 from '../../assets/img/projects/theMofG2.png';\n// import theMofG3 from '../../assets/img/projects/theMofG3.png';\n// import theMofG4 from '../../assets/img/projects/theMofG4.png';\n// import theMofG5 from '../../assets/img/projects/theMofG5.png';\n// import theMofG6 from '../../assets/img/projects/theMofG6.png';\n// import theMofG7 from '../../assets/img/projects/theMofG7.png';\n// import theMofG8 from '../../assets/img/projects/theMofG8.png';\n\nconst GameAsPerformance = () =>\n{\n    console.log('rendered');\n    return(\n        <div style={{\n            backgroundColor: '#2F3E4F',\n        }}>\n           <Text/>\n            <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance1 }\n                alt=\"gameAsPerformance1\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance2 }\n                alt=\"gameAsPerformance2\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance3 }\n                alt=\"gameAsPerformance3\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance4 }\n                alt=\"gameAsPerformance4\"\n            />\n            <br></br>\n            <br></br>\n        </div>\n    );\n}\n\nexport default GameAsPerformance;\n\nconst Text = () =>\n{\n    return(\n        <div className=\"Project-Content\">\n            The Meaning of Game is an art game that explores the aesthetic and performative effect of computer games when they are contextualised as artworks. \n            <br></br>\n            <br></br>\n            The story takes place on four virtual levels and traverses a complex world inhabited by interconnected, abstract digital structures. \n            <br></br>\n            <br></br>\n            The main character's routine embodies man's existential search for meaning that may not exist but could be found in every moment of living. By playing through the game audience is invited to actively contemplate about ontology, happiness, and purpose.\n            <br></br>\n            <br></br>\n        </div>\n    );\n};","//TODO: rid of hard-coded navigation (use webgl/:sketch instead)\nimport React from 'react';\nimport { Router, Route } from 'react-router-dom';\nimport history from './history';\n\nimport '../assets/css/App.css';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Projects from './pages/Projects';\nimport Sketches from './pages/Sketches';\nimport Contacts from './pages/Contacts';\n// import OpenSketch from './OpenSketch';\nimport Snakewoman from '../sketches/snakewoman';\nimport Garden from '../sketches/garden';\nimport Child from '../sketches/child';\nimport ClumsyForest from '../sketches/clumsyforest';\nimport Sentinel from '../sketches/sentinel';\nimport SpaceOcean from '../sketches/spaceocean';\nimport SphericalMirrors from '../sketches/sphericalmirrors';\n\nimport MoF from '../projects/meaningOfGame';\nimport Fantasynth from '../projects/fantasynth';\nimport Lichtspektakel from '../projects/lichtspektakel';\nimport GameAsPerformance from '../projects/gameAsPerformance';\n\n\nclass App extends React.Component\n{\n  // constructor(props)\n  // {\n  //   super(props);\n  // };\n\n  render()\n  {\n    return (\n      <div className=\"App\">\n        <Router history={ history }>\n          <div>\n            <Route exact path=\"/\" component={ Home }/>\n            <Route exact path=\"/about\" component={ About }/>\n            <Route exact path=\"/projects\" component={ Projects }/>\n            <Route exact path=\"/webgl\" component={ Sketches }/>\n              {/* <Route path=\"/webgl/:sketch\" component={ OpenSketch } />  */}\n                <Route exact path=\"/webgl/snakewoman\" component={ Snakewoman } />\n                <Route exact path=\"/webgl/garden\" component={ Garden } />\n                <Route exact path=\"/webgl/spaceocean\" component={ SpaceOcean } />\n                <Route exact path=\"/webgl/sentinel\" component={ Sentinel } />\n                <Route exact path=\"/webgl/child\" component={ Child } />\n                <Route exact path=\"/webgl/clumsyforest\" component={ ClumsyForest } />\n                <Route exact path=\"/webgl/sphericalmirrors\" component={ SphericalMirrors } />\n\n                <Route exact path=\"/projects/meaningofgame\" component={ MoF } />\n                <Route exact path=\"/projects/gameasperformanceart\" component={ GameAsPerformance } />\n                <Route exact path=\"/projects/fantasynth\" component={ Fantasynth } />\n                <Route exact path=\"/projects/lichtspektakel\" component={ Lichtspektakel } />\n\n            <Route exact path=\"/contacts\" component={ Contacts }/> \n          </div>\n        </Router>\n      </div>\n    );\n  };\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}