{"version":3,"sources":["assets/img/textures/grid.jpg","assets/img/textures/spark.png","assets/img/textures/decal.png","assets/models/stylised_character.glb","assets/img/skybox/bk.jpg","assets/img/skybox/dn.jpg","assets/img/skybox/ft.jpg","assets/img/skybox/lf.jpg","assets/img/skybox/rt.jpg","assets/img/skybox/up.jpg","assets/img/covers/armfoot.jpg","assets/models/ballerina.glb","assets/models/garden.glb","assets/img/textures/bump.jpg","assets/img/textures/gray-circle.png","assets/img/theMofG/theMofG23.png","assets/img/textures/theMofGame1.png","assets/sounds/francoise_rosen_-_blue_pentagon.wav","assets/models/icoVoronoi.glb","assets/img/covers/project1.jpg","assets/img/covers/project2.png","assets/img/covers/project3.jpg","assets/img/covers/project4.jpg","assets/img/covers/snakewoman.jpg","assets/img/covers/garden.jpg","assets/img/covers/child.jpg","assets/img/covers/spaceocean.jpg","assets/img/covers/sentinel.jpg","assets/img/covers/clumsyforest.jpg","assets/img/covers/sphericalmirrors.jpg","assets/img/covers/incantation.jpg","assets/img/covers/threebone.jpg","assets/img/covers/mira.jpg","assets/img/covers/broken.jpg","assets/img/covers/thought.jpg","assets/img/covers/christmas.jpg","assets/img/covers/tiny.jpg","assets/img/covers/liquid.jpg","assets/models/child.glb","assets/img/textures/colors.jpg","assets/models/forest.glb","assets/img/textures/caustic.png","assets/img/skybox/interstellar_ft.png","assets/img/skybox/interstellar_bk.png","assets/img/skybox/interstellar_up.png","assets/img/skybox/interstellar_dn.png","assets/img/skybox/interstellar_rt.png","assets/img/skybox/interstellar_lf.png","assets/models/threeBone.glb","assets/models/armfoot.glb","assets/img/textures/randomlySpacedPoints.jpg","assets/models/floating_island.glb","assets/models/baby.glb","assets/img/textures/glow.png","assets/models/christmas.glb","assets/models/oceanfloor.glb","assets/models/tiny-man.glb","assets/img/theMofG/theMofG1.png","assets/img/theMofG/theMofG2.png","assets/img/theMofG/theMofG3.png","assets/img/theMofG/theMofG4.png","assets/img/theMofG/theMofG5.png","assets/img/theMofG/theMofG6.png","assets/img/theMofG/theMofG7.png","assets/img/theMofG/theMofG8.png","assets/img/theMofG/theMofG9.png","assets/img/theMofG/theMofG10.png","assets/img/theMofG/theMofG11.png","assets/img/theMofG/theMofG12.png","assets/img/theMofG/theMofG13.png","assets/img/theMofG/theMofG14.png","assets/img/theMofG/theMofG15.png","assets/img/theMofG/theMofG16.png","assets/img/theMofG/theMofG17.png","assets/img/theMofG/theMofG18.png","assets/img/theMofG/theMofG19.png","assets/img/theMofG/theMofG20.png","assets/img/theMofG/theMofG21.png","assets/img/theMofG/theMofG22.png","assets/img/theMofG/theMofG25.png","assets/img/theMofG/theMofG26.png","assets/img/theMofG/theMofG27.png","assets/img/theMofG/theMofG28.png","assets/img/theMofG/theMofG29.png","assets/img/theMofG/theMofG30.png","assets/img/theMofG/theMofG31.png","assets/img/theMofG/theMofG32.png","assets/img/theMofG/theMofG33.png","assets/img/theMofG/theMofG34.png","assets/img/theMofG/theMofG35.png","assets/img/theMofG/theMofG36.png","assets/img/theMofG/theMofG37.png","assets/img/theMofG/theMofG38.png","assets/img/theMofG/theMofG39.png","assets/img/theMofG/theMofG40.png","assets/img/projects/sehsuchte1.jpg","assets/img/projects/sehsuchte2.jpg","assets/img/projects/sehsuchte3.jpg","assets/img/projects/sehsuchte4.jpg","assets/img/projects/lichtspektakel1.jpg","assets/img/projects/lichtspektakel2.jpg","assets/img/projects/lichtspektakel3.jpg","assets/img/projects/lichtspektakel4.jpg","assets/img/projects/gameAsPerformance1.jpg","assets/img/projects/gameAsPerformance2.jpg","assets/img/projects/gameAsPerformance3.jpg","assets/img/projects/gameAsPerformance4.jpg","components/history.js","components/Sidebar.js","home/SceneController.js","home/utils.js","components/pages/Home.js","components/pages/About.js","components/ProjectDescription.js","components/pages/ProjectItem.js","components/ProjectGrid.js","components/ProjectList.js","components/CompactSidebar.js","components/pages/Projects.js","components/pages/SketchItem.js","components/SketchGrid.js","components/SketchList.js","components/pages/Sketches.js","components/pages/Contacts.js","utils/index.js","sketches/snakewoman/SceneController.js","sketches/snakewoman/index.js","sketches/garden/SceneController.js","sketches/garden/index.js","sketches/child/SceneController.js","sketches/child/index.js","sketches/clumsyforest/Sound.js","sketches/clumsyforest/SceneController.js","sketches/clumsyforest/index.js","sketches/sentinel/CustomShader.js","sketches/sentinel/SceneController.js","sketches/sentinel/index.js","sketches/spaceocean/SceneController.js","sketches/spaceocean/index.js","sketches/sphericalmirrors/SceneController.js","sketches/sphericalmirrors/index.js","sketches/incantation/Terrain.js","sketches/incantation/SceneController.js","sketches/incantation/index.js","sketches/threebone/SceneController.js","sketches/threebone/index.js","sketches/armfoot/SceneController.js","sketches/armfoot/index.js","sketches/mira/Skybox.js","sketches/mira/Particles.js","sketches/mira/SceneController.js","sketches/mira/index.js","sketches/broken/SceneController.js","sketches/broken/index.js","sketches/thought/SceneController.js","sketches/thought/index.js","sketches/christmas/Particles.js","sketches/christmas/data.js","sketches/christmas/SceneController.js","sketches/christmas/index.js","sketches/liquidbody/CustomShaderMaterial.js","sketches/liquidbody/SceneController.js","sketches/liquidbody/index.js","sketches/underwater/data.js","sketches/underwater/SceneController.js","sketches/underwater/index.js","sketches/tiny/CustomShaderMaterial.js","sketches/tiny/SceneController.js","sketches/tiny/index.js","projects/meaningOfGame/utils.js","projects/meaningOfGame/PointerLockManager.js","projects/meaningOfGame/ViewFinderManager.js","projects/meaningOfGame/Room.js","projects/meaningOfGame/Terrain.js","projects/meaningOfGame/TrioMesh.js","projects/meaningOfGame/PropMesh.js","projects/meaningOfGame/TrioSpheres.js","projects/meaningOfGame/GeoSpawner.js","projects/meaningOfGame/ImagePlane.js","projects/meaningOfGame/ImageSpawner.js","projects/meaningOfGame/SoundController.js","projects/meaningOfGame/SceneController.js","projects/meaningOfGame/index.js","projects/fantasynth/index.js","projects/lichtspektakel/index.js","projects/gameAsPerformance/index.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","createBrowserHistory","SideBar","className","to","href","title","React","Component","SceneController","animate","disposed","requestAnimationFrame","controls","update","render","onWindowResize","camera","aspect","window","innerWidth","innerHeight","updateProjectionMatrix","renderer","setSize","onDocumentMouseMove","e","targetmouseX","clientX","targetmouseY","clientY","r","Math","sqrt","settings","progress","onDocumentTouchMove","touch","targetTouches","this","scene","THREE","antialias","clock","colourArr","split","pop","map","hex","setPixelRatio","devicePixelRatio","document","body","appendChild","domElement","background","surfaceColor","insideColor","inverted","delta","getDelta","setupCamera","setupLight","setupControls","setupListeners","setupcubeTexture","setupModels","addObjects","ASPECT_RATIO","position","set","lookAt","hemiLight","add","OrbitControls","autoRotateSpeed","autoRotate","zoomSpeed","panSpeed","enableZoom","enablePan","enableDamping","dampingFactor","maxDistance","minDistance","addEventListener","bind","voronoi","GLTFLoader","load","pathToModel","gltf","scale","traverse","child","name","children","length","forEach","f","m","push","clone","geoms","geoms1","j","filter","v","isMesh","vtempo","processSurface","surface","volume","s","BufferGeometryUtils","mergeBufferGeometries","mesh","material","s1","mesh1","material1","undefined","console","error","vtemp","vtemp1","c","geometry","applyMatrix4","makeTranslation","x","y","z","len","attributes","array","len1","offset","Array","fill","setAttribute","Float32Array","offset1","axis","random","normalize","axes","axes1","i","centroidVector","ar","getCentroid","centroid","centroid1","urls","img1","img2","img3","img4","img5","img6","textureCube","extensions","derivatives","side","uniforms","time","type","value","inside","tCube","pixels","uvRate1","vertexShader","fragmentShader","isNaN","abs","removeEventListener","dispose","removeChild","Home","sceneController","setup","Sidebar","ref","element","threeRootElement","About","ProjectDescription","props","style","fontSize","color","textAlign","fontWeight","text","ProjectItem","history","project","url","id","onClick","openSketch","src","cover","alt","description","ProjectGrid","projects","key","ProjectList","theMofGame","gameAsPA","fantasynth","lichtspektakel","CompactSideBar","Projects","state","projectList","SketchItem","sketch","SketchGrid","sketches","SketchList","christmas","path","liquidbody","tiny","mira","threebone","incantation","armfoot","thought","snakewoman","garden","clumsyforest","sentinel","spaceocean","broken","sphericalmirrors","Sketches","sketchList","Contacts","coloursToArray","str","Color","domElem","startTime","Date","now","loadModels","setupGeometry","dirLight","sphere","light1","light2","light3","light4","light5","light6","light7","u_resolution","u_time","u_color0","u_color1","setupShaderMaterial","root","node","shininess","bbGeometry","sc","bbRoot","parent","object","rotSpeed","cos","sin","timeFactor","rx","ry","rotation","orbitCamera","updateSceneSubjects","outline","addEventListeners","onControlsUpdate","passiveSupported","options","passive","err","mouse","fog","setupGlobalUniforms","texture","texture_0","minFilter","magFilter","wrapS","wrapT","u_texture_0","setupShaderOneMaterial","sphereGeometry","setupShaderTwoMaterial","geoArray","l","onMouseMove","Text","Sound","StartAudioContext","Tone","log","toMaster","chorus","delay","connect","polySynth","vibratoAmount","duoSynth","synth","triggerAttackRelease","randomElement","obj","isArray","floor","Object","keys","resume","playNote","then","raycaster","isDisposed","isAnimate","loader","setupSound","groundColor","setHSL","spotLight","angle","PI","penumbra","decay","distance","castShadow","shadow","mapSize","width","height","near","far","fov","multiplyScalar","lerp","maxPolarAngle","minPolarAngle","model1","group","specular","receiveShadow","model2","model3","rotateY","xhr","loaded","total","setupGround","scatterRandomGeometry","groundMap","texture2","anisotropy","groundPlane","bumpMap","bumpScale","metalness","roughness","quaternion","setFromAxisAngle","meshElems","geo","transparent","opacity","stepAngle","turns","elem","dist","sound","start","createSinths","setFromCamera","intersects","intersectObjects","oscillate","playOnTrigger","originalScaleX","originalScaleY","originalScaleZ","oscil","gsap","timeline","ease","eventCallback","isAnimating","play","raycast","stop","onDocumentMouseDown","preventDefault","TranslucentShader","merge","join","sortPoints","vector","matrix","multiplyMatrices","projectionMatrix","matrixWorldInverse","multiply","matrixWorld","index","getIndex","positions","getAttribute","Uint16Array","setIndex","sortArray","fromArray","sort","a","b","indices","needsUpdate","setupPoints","light","texture3","u_texture1","imgTexture","texture1","thicknessTexture","shader","lights","translMaterial","setupTranslucentShader","meshArray","sphereGeo","icoGeometry","cylGeometry","setPosition","vertices","makeRotationFromEuler","vertex","length1","colors","sizes","toArray","size","animatePoints","pointLight","pointLight2","pointLight3","ambient","u_move","gltfLoader","surfaceArray","plane","computeVertexNormals","computeFaceNormals","materials","flatShading","wireframe","SceneUtils","createMultiMaterialObject","addSnowParticles","maxInstancedCount","triangles","setXYZ","offsets","instances","ul","count","setXYZW","orientations","w","times","setX","partMaterial","setupParticleMaterial","snowparticles","frustumCulled","up","verticesNeedUpdate","normalsNeedUpdate","createSkyboxFromTexture","setupParticles","particleMap","partTexture","uResolution","uTime","uTexture0","skyboxMatArr","skyboxTexFront","skyboxTexBack","skyboxTexUp","skyboxTexDown","skyboxTexRight","skyboxTexLeft","skyboxGeo","skyboxMesh","mirrorSphereCamera","envMap","renderTarget","blending","depthTest","vertexColors","buffGeo","g","setUsage","particles","meshes","geo1","geo2","mirrorMat","setupMirrorMaterial","mesh2","xOffset","getRandom","yOffset","zOffset","scaleFactor","updateParticles","updateMirrorMaterial","min","max","Terrain","texturePath","tex","repeat","setupTerrain","meshesArr","isCamOrbit","grid","onDocumentKeyDown","keyCode","onKeyDown","onDocumentKeyUp","onKeyUp","setupPlane","shading","rotateZ","Skybox","topColor","bottomColor","skyGeo","skyMat","sky","Particles","particleNum","createParticles","setupMaterial","createSky","spriteTexture","pathToTex1","spriteMaterial","sprite","pathToTex2","setupMaterialOne","pathToModel1","pathToModel2","setupMaterialTwo","scatterRandWireframeGeo","setupSubjects","rotateSpeed","updateMatrixWorld","updateWorldMatrix","uViewMatrixCamera","uProjectionMatrixCamera","uProjPosition","uColor","uLightPos","uAmbientCol","uDiffuseColor","uSpecColor","elements","createMaterial","numElem","randMeshes","originalPosX","originalPosY","originalPosZ","tween","speed","rotate","onMouseDown","pathToTexture","viewMatrixCamera","projectionMatrixCamera","projPosition","uAmbientLightColor","uSpecularColor","uDiffLightColor","uStripeSize","setupShaderMaterialTwo","material2","data","content","alpha","cssRenderer","CSS2DRenderer","isFalling","blueSnowBall","yellowSnowBall","snow","setupCSSSubjects","getYellowModel","model","circleTexture","createElement","innerHTML","details","labelSpriteMaterial","depthWrite","sizeAttenuation","labelSprite","userData","copy","objectCSS","CSS2DObject","pos","TWEEN","Tween","easing","Easing","Cubic","Out","target","initPos","onComplete","Bounce","jump","goToScene","scatter","CustomShaderMaterial","Vector2","uColor1","uTexture","fragDepth","drawBuffers","shaderTextureLOD","ShaderMaterial","AdditiveBlending","setupSceneSubjects","edgeGeo","loadTextures","makeMaterial","edgeLines","makeLineMaterial","meshPoints","makePointsMaterial","summary","imgArr","domRef","axesHelper","gltfScene","loadingManager","isRaycast","labels","labelMarkers","pointLight1","phi","acos","theta","setFromSphericalCoords","goToLabel","onDescriptionClick","label","camPos","clientWidth","clientHeight","modelPath","MeshLambertMaterial","makeSphere","getRandomInt","round","PointerLockManager","PointerLockControls","moveForward","moveBackward","moveLeft","moveRight","velocity","direction","blocker","getElementById","instructions","lock","display","getObject","isLocked","Number","getDirection","ViewFinderManager","pointerGrow","pointerShrink","isPointerBig","beginElement","Room","room","BoxLineGeometry","translate","TrioMesh","terrainSize","trioMeshes","speed1","speed2","luminosityFact","group2","small1","small2","group1","wfMesh","ang1","ang2","octahedron","rad","wireFr","PropMesh","propMeshes","angleStep","radius","emissive","changeColor","bump","TrioSpheres","GeoSpawner","geos","mouseDown","onAction","ImagePlane","topTexture","bgrTexture","uTopImage","uBgrImage","uRes","uColourMult","defines","PR","toFixed","textArr","SpriteText","fontFace","ImageSpawner","bgrImgArr","img7","img8","img9","img10","img11","img12","img13","img14","img15","img16","img17","img18","img19","img20","img21","img22","img23","img24","img25","img26","img27","img28","img29","img30","img31","img32","img33","img34","img35","img36","img37","img38","img39","img40","imagePlanes","topTex","topImgPath","imagePlane","createText","onMouseUp","SoundController","listener","soundPath","buffer","setBuffer","setLoop","setVolume","setRefDistance","isSplash","setupSplashScreen","ambLight","text1","text2","soundController","addPositionalSound","viewFinder","sceneSubjects","getWidth","images","getElapsedTime","onActionStart","onActionEnd","onDocumentMouseUp","setupMainScene","expanded","cx","cy","stroke","strokeWidth","attributeName","begin","dur","repeatCount","from","Fantasynth","sehsuchte1","sehsuchte3","sehsuchte2","sehsuchte4","Lichtspektakel","lichtspektakel1","lichtspektakel2","lichtspektakel3","lichtspektakel4","GameAsPerformance","gameAsPerformance1","gameAsPerformance2","gameAsPerformance3","gameAsPerformance4","App","exact","component","Snakewoman","Garden","SpaceOcean","Sentinel","Child","ClumsyForest","SphericalMirrors","Incantation","ThreeBone","ArmFoot","Mira","Broken","Thought","Christmas","LiquidBody","Underwater","Tiny","MoF","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"oHAAAA,EAAOC,QAAU,IAA0B,kC,cCA3CD,EAAOC,QAAU,02E,iBCAjBD,EAAOC,QAAU,IAA0B,mC,kBCA3CD,EAAOC,QAAU,IAA0B,gD,mBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,iBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,6D,0ECA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,cCA3CD,EAAOC,QAAU,2kF,iBCAjBD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,cCA3CD,EAAOC,QAAU,8hN,gBCAjBD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,kD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,kBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAA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","file":"static/js/main.c89ec58f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/grid.2459b909.jpg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/decal.e85f6172.png\";","module.exports = __webpack_public_path__ + \"static/media/stylised_character.d5cec524.glb\";","module.exports = __webpack_public_path__ + \"static/media/bk.60d744c6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dn.1f532730.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ft.df4ae9cd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lf.abc58c50.jpg\";","module.exports = __webpack_public_path__ + \"static/media/rt.1d4ea3ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/up.24c8eb7b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/armfoot.62a18033.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ballerina.e1b2c70d.glb\";","module.exports = __webpack_public_path__ + \"static/media/garden.876b2a2b.glb\";","module.exports = __webpack_public_path__ + \"static/media/bump.21e835dd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gray-circle.4524a1b3.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG23.72897073.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofGame1.0058e091.png\";","module.exports = __webpack_public_path__ + \"static/media/francoise_rosen_-_blue_pentagon.2dda6d45.wav\";","module.exports = __webpack_public_path__ + \"static/media/icoVoronoi.0e3c2113.glb\";","module.exports = __webpack_public_path__ + \"static/media/project1.6fbd110e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/project2.98b81c5e.png\";","module.exports = __webpack_public_path__ + \"static/media/project3.3c05d183.jpg\";","module.exports = __webpack_public_path__ + \"static/media/project4.46f728b8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/snakewoman.ac39cb7d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/garden.aa3f4d9b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/child.4a17bb6d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spaceocean.29004343.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sentinel.63503be3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/clumsyforest.e9b9d26e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sphericalmirrors.b0b308ff.jpg\";","module.exports = __webpack_public_path__ + \"static/media/incantation.65d8ff15.jpg\";","module.exports = __webpack_public_path__ + \"static/media/threebone.97c0ad2c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mira.89d1369e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/broken.36f87fb1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/thought.117596d6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/christmas.ee4e8c03.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tiny.5c6fcf79.jpg\";","module.exports = __webpack_public_path__ + \"static/media/liquid.eae13a62.jpg\";","module.exports = __webpack_public_path__ + \"static/media/child.6c9cb6a8.glb\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/forest.373d0c1e.glb\";","module.exports = __webpack_public_path__ + \"static/media/caustic.d4e4e558.png\";","module.exports = __webpack_public_path__ + \"static/media/interstellar_ft.fe5196e6.png\";","module.exports = __webpack_public_path__ + \"static/media/interstellar_bk.89b035a5.png\";","module.exports = __webpack_public_path__ + \"static/media/interstellar_up.8c9df977.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV/TSkUrCnYQcchQnSyIFnHUKhShQqgVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi5Oik6CIl/q8ptIjx4Lgf7+497t4BQr3MNCswAWi6baYScTGTXRWDrwigFwOIICYzy5iTpCQ8x9c9fHy9i/Is73N/jj41ZzHAJxLPMsO0iTeIpzdtg/M+cZgVZZX4nHjcpAsSP3JdcfmNc6HJAs8Mm+nUPHGYWCx0sNLBrGhqxDHiiKrplC9kXFY5b3HWylXWuid/YSinryxzneYIEljEEiSIUFBFCWXYiNKqk2IhRftxD/9w0y+RSyFXCYwcC6hAg9z0g//B726t/NSkmxSKA10vjvMxCgR3gUbNcb6PHadxAvifgSu97a/UgZlP0mttLXIE9G8DF9dtTdkDLneAoSdDNuWm5Kcp5PPA+xl9UxYYvAV61tzeWvs4fQDS1FXyBjg4BMYKlL3u8e7uzt7+PdPq7weTJHK0BR1OrgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+QECxAnFci+JwsAABGSSURBVHja7dcxEQAwDAOxpJi6lkj44+gFiCUInvx959UvAAAgwfH+AQAgKQAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAAAWACAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAACwAQAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAAASACQAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAACAATAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAAAQAAAAgAAAAAAEAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAIAAAAQAAAAAACAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAIAAAAAABAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAEAAAAIAAAAAABAAAACAAAAAAAQAAAAgAAABAAAAAAAIAAAAQAAAAgAAAAAAEAAAACAAAAEAAAAAAAgAAABAAAACAAAAAAAQAAAAgAAAAAAEAAAAIAAAAQAAAAAACAAAABAAAAJBgAULvCscHKPcmAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/interstellar_rt.6e84abb1.png\";","module.exports = __webpack_public_path__ + \"static/media/interstellar_lf.9fb38d76.png\";","module.exports = __webpack_public_path__ + \"static/media/threeBone.6c5c8e61.glb\";","module.exports = __webpack_public_path__ + \"static/media/armfoot.c29f6549.glb\";","module.exports = __webpack_public_path__ + \"static/media/randomlySpacedPoints.c63ee786.jpg\";","module.exports = __webpack_public_path__ + \"static/media/floating_island.814c90f6.glb\";","module.exports = __webpack_public_path__ + \"static/media/baby.5c3cf8e8.glb\";","module.exports = __webpack_public_path__ + \"static/media/glow.3b6b0c75.png\";","module.exports = __webpack_public_path__ + \"static/media/christmas.9a1c75a2.glb\";","module.exports = __webpack_public_path__ + \"static/media/oceanfloor.1bed685c.glb\";","module.exports = __webpack_public_path__ + \"static/media/tiny-man.cc24a75e.glb\";","module.exports = __webpack_public_path__ + \"static/media/theMofG1.5c28e90f.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG2.c6998722.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG3.9d7e1990.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG4.9509d48e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG5.2068d75e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG6.0bcb09dc.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG7.75a1f30e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG8.e6c46fc5.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG9.ade029b1.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG10.92aceadd.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG11.eb1a6ece.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG12.9b7bf082.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG13.65686cf4.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG14.0f353220.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG15.4af800e7.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG16.ae57d799.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG17.bfaf024a.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG18.9f7c09d9.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG19.901c2bc9.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG20.1e3fada6.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG21.ba5b23a0.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG22.251856a1.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG25.7f4510ae.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG26.29787e32.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG27.53b93bc7.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG28.2b57a8c3.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG29.25ef98bb.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG30.658678ca.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG31.420155d1.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG32.1a1650f0.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG33.18b977d7.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG34.9a24bf67.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG35.d24713c5.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG36.38eb6d01.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG37.319a0b7e.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG38.d38d622b.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG39.282e0e8d.png\";","module.exports = __webpack_public_path__ + \"static/media/theMofG40.322e6531.png\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte1.d43a56bc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte2.a59e3dff.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte3.934ec066.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sehsuchte4.5625d17a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel1.9b031508.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel2.7f551c96.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel3.feee634f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lichtspektakel4.362ed846.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance1.2b978101.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance2.a3d2cae6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance3.b6a2e581.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gameAsPerformance4.9a6fbc77.jpg\";","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory();","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass SideBar extends React.Component\n{\n    render()\n    {\n        return(\n                <div className=\"Sidebar\">\n                <Link to=\"/\" className=\"item\">\n                    Home\n                </Link>\n                <Link to=\"/about\" className=\"item\">\n                    Faulty Agatha\n                </Link>\n                <Link to=\"/webgl\" className=\"item\">\n                    WebGL Playground\n                 </Link>   \n                <Link to=\"/projects\" className=\"item\">\n                    Projects\n                </Link>\n                <Link to=\"/contacts\" className=\"item\">\n                    Poke Me\n                </Link>\n                <p></p>\n                <p></p>\n                <a\n                href=\"https://github.com/faultyagatha\" \n                title=\"Follow on Github\">\n                <i className=\"github alternate icon\"></i>\n                </a>\n                <a\n                href=\"https://www.instagram.com/faultyagatha\" \n                title=\"Follow on Instagram\">\n                <i className=\"instagram icon\"></i>\n                </a> \n                <a\n                href=\"https://vimeo.com/faultyagatha\" \n                title=\"Follow on Vimeo\">\n                <i className=\"vimeo v icon\"></i>\n                </a>      \n             </div> \n        );\n    };\n};\n\nexport default SideBar;","/** based on https://tympanus.net/Development/ExplodingObjects/index-icosahedron.html */\n\n//TODO: fix images and models\n\nimport * as THREE from \"three\"\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\nimport { coloursToArray, getRandomAxis, getCentroid } from './utils';\n\nimport pathToModel from '../assets/models/icoVoronoi.glb';\n\nimport img1 from '../assets/img/skybox/bk.jpg';\nimport img2 from '../assets/img/skybox/dn.jpg';\nimport img3 from '../assets/img/skybox/ft.jpg';\nimport img4 from '../assets/img/skybox/lf.jpg';\nimport img5 from '../assets/img/skybox/rt.jpg';\nimport img6 from '../assets/img/skybox/up.jpg';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } ); //alpha: true\n        this.clock = new THREE.Clock();\n    }\n\n    setup()\n    {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/2f3e4f-af7595-1ac8ed-8c2155-5c1a1b');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n\n        this.scene.background = this.colourArr[0]; \n\n        this.surfaceColor = this.colourArr[1]; \n        this.insideColor = this.colourArr[2]; \n        this.inverted = false;\n\n        this.targetmouseX = 0;\n        this.targetmouseY = 0;\n\n        this.delta = this.clock.getDelta();\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupListeners();\n        this.setupcubeTexture();\n        this.setupModels();\n        this.settings();\n        this.addObjects();\n        this.render();\n        this.animate();\n    }\n\n    settings() \n    {\n        this.settings = {\n          progress: 0\n        };\n    }\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(0, 0, 8);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight()\n    {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[3], 3);\n\t\themiLight.position.set(0, 5, 0);\n        this.scene.add(hemiLight);\n    }\n\n    setupControls()\n    {\n        this.controls = new OrbitControls( this.camera, this.renderer.domElement );\n        this.controls.autoRotateSpeed = .2;\n        this.controls.autoRotate = true;\n\t\tthis.controls.zoomSpeed = 1.2;\n\t\tthis.controls.panSpeed = 0.8;\n\t\tthis.controls.enableZoom = true;\n\t\tthis.controls.enablePan = false;\n\t\tthis.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 80;\n        this.controls.minDistance = 5;\n\t\tthis.controls.addEventListener('change', this.render.bind(this));\n    }\n\n    setupModels()\n    {\n        this.voronoi = [];\n        const loader = new GLTFLoader();  \n        loader.load(pathToModel,\n        (gltf) => {\n            gltf.scene.scale.set(20, 20, 20);\n            gltf.scene.traverse(child => {\n                if(child.name === \"Voronoi_Fracture\")\n                {\n                    if(child.children[0].children.length > 2)\n                    {\n                        child.children.forEach(f => {\n                            f.children.forEach(m => {\n                              this.voronoi.push(m.clone());\n                            });\n                          });\n                    } else \n                    {\n                        child.children.forEach(m => {\n                            this.voronoi.push(m.clone());\n                        });\n                    }\n                }  \n            });\n        // console.log(gltf.scene);\n        this.geoms = [];\n        this.geoms1 = [];\n        let j = 0;\n        this.voronoi = this.voronoi.filter(v => {\n          if(v.isMesh) return false;\n          else \n          {\n            j++;\n            let vtempo = this.processSurface(v, j);\n            if(this.inverted) \n            {\n              this.geoms1.push(vtempo.surface);\n              this.geoms.push(vtempo.volume);\n            } else \n            {\n              this.geoms.push(vtempo.surface);\n              this.geoms1.push(vtempo.volume);\n            }\n            return true;\n          }\n        });\n        let s = BufferGeometryUtils.mergeBufferGeometries(\n        this.geoms,\n        false\n        );\n\n        this.mesh = new THREE.Mesh(s, this.material);\n        this.scene.add(this.mesh);\n\n        let s1 = BufferGeometryUtils.mergeBufferGeometries(\n            this.geoms1,\n            false\n        );\n        this.mesh1 = new THREE.Mesh(s1, this.material1);\n        this.scene.add(this.mesh1);\n        },\n        undefined,\n        function(e) \n        {\n        console.error(e);\n        }\n    );\n    }\n\n    processSurface(v, j) \n    {\n        let c = v.position;\n        let vtemp, vtemp1;\n        vtemp = v.children[0].geometry.clone();\n        vtemp = vtemp.applyMatrix4(\n            new THREE.Matrix4().makeTranslation(c.x, c.y, c.z)\n        );\n        vtemp1 = v.children[1].geometry;\n        vtemp1 = vtemp1\n        .clone()\n        .applyMatrix4(new THREE.Matrix4().makeTranslation(c.x, c.y, c.z));\n\n        let len = v.children[0].geometry.attributes.position.array.length / 3;\n        let len1 = v.children[1].geometry.attributes.position.array.length / 3;\n        //  id\n        let offset = new Array(len).fill(j / 100);\n        vtemp.setAttribute(\n            \"offset\",\n            new THREE.BufferAttribute(new Float32Array(offset), 1)\n        );\n\n        let offset1 = new Array(len1).fill(j / 100);\n        vtemp1.setAttribute(\n            \"offset\",\n            new THREE.BufferAttribute(new Float32Array(offset1), 1)\n        );\n\n        // axis\n        let axis = getRandomAxis();\n        let axes = new Array(len * 3).fill(0);\n        let axes1 = new Array(len1 * 3).fill(0);\n        for (let i = 0; i < len * 3; i = i + 3) {\n        axes[i] = axis.x;\n        axes[i + 1] = axis.y;\n        axes[i + 2] = axis.z;\n        }\n        vtemp.setAttribute(\n            \"axis\",\n            new THREE.BufferAttribute(new Float32Array(axes), 3)\n        );\n        for(let i = 0; i < len1 * 3; i = i + 3) \n        {\n            axes1[i] = axis.x;\n            axes1[i + 1] = axis.y;\n            axes1[i + 2] = axis.z;\n        }\n        vtemp1.setAttribute(\n            \"axis\",\n            new THREE.BufferAttribute(new Float32Array(axes1), 3)\n        );\n\n        let centroidVector = getCentroid(vtemp);\n        let centroid = new Array(len * 3).fill(0);\n        let centroid1 = new Array(len1 * 3).fill(0);\n        for(let i = 0; i < len * 3; i = i + 3) \n        {\n            centroid[i] = centroidVector.x;\n            centroid[i + 1] = centroidVector.y;\n            centroid[i + 2] = centroidVector.z;\n        }\n        for(let i = 0; i < len1 * 3; i = i + 3) \n        {\n            centroid1[i] = centroidVector.x;\n            centroid1[i + 1] = centroidVector.y;\n            centroid1[i + 2] = centroidVector.z;\n        }\n        vtemp.setAttribute(\n            \"centroid\",\n            new THREE.BufferAttribute(new Float32Array(centroid), 3)\n        );\n        vtemp1.setAttribute(\n            \"centroid\",\n            new THREE.BufferAttribute(new Float32Array(centroid1), 3)\n        );\n\n        return { surface: vtemp, volume: vtemp1 };\n    }\n\n    setupcubeTexture() \n    {\n        let urls = [\n            img1,\n            img2,\n            img3,\n            img4,\n            img5,\n            img6\n        ];\n        this.textureCube = new THREE.CubeTextureLoader().load(urls);\n      }\n    \n      addObjects() \n      {\n        this.material = new THREE.ShaderMaterial({\n          extensions: {\n            derivatives: \"#extension GL_OES_standard_derivatives : enable\"\n          },\n          side: THREE.DoubleSide,\n          uniforms: {\n            time: { type: \"f\", value: 0 },\n            progress: { type: \"f\", value: 0 },\n            inside: { type: \"f\", value: 0 },\n            surfaceColor: { type: \"v3\", value: this.surfaceColor },\n            insideColor: { type: \"v3\", value: this.insideColor },\n            tCube: { value: this.textureCube },\n            pixels: {\n              type: \"v2\",\n              value: new THREE.Vector2(window.innerWidth, window.innerHeight)\n            },\n            uvRate1: {\n              value: new THREE.Vector2(1, 1)\n            }\n          },\n          vertexShader: `\n            uniform float time;\n            uniform float progress;\n            uniform float inside;\n\n            attribute vec3 centroid;\n            attribute vec3 axis;\n            attribute float offset;\n\n            varying vec3 eye;\n            varying vec3 vNormal;\n            varying vec3 vReflect;\n\n            mat4 rotationMatrix(vec3 axis, float angle) \n            {\n                axis = normalize(axis);\n                float s = sin(angle);\n                float c = cos(angle);\n                float oc = 1.0 - c;\n                \n                return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                            oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                            oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                            0.0,                                0.0,                                0.0,                                1.0);\n            }\n\n            vec3 rotate(vec3 v, vec3 axis, float angle) \n            {\n                mat4 m = rotationMatrix(axis, angle);\n                return (m * vec4(v, 1.0)).xyz;\n            }\n\n            vec3 bezier4(vec3 a, vec3 b, vec3 c, vec3 d, float t) \n            {\n                return mix(mix(mix(a, b, t), mix(b, c, t), t), mix(mix(b, c, t), mix(c, d, t), t), t);\n            }\n\n            float easeInOutQuint(float t)\n            {\n                return t < 0.5 ? 16.0 * t * t * t * t * t : 1.0 + 16.0 * (--t) * t * t * t * t;\n            }\n\n            float easeOutQuint(float t)\n            {\n                return 1. + (--t) * t * t * t * t;\n            }\n            float easeOut(float t)\n            {\n                return  t * t * t;\n            }\n\n            void main() \n            {\n            vec3 newposition = position;\n\n            float vTemp =  1. - ((centroid.x + centroid.y)*0.5 + 1.)/2.;\n\n            float tProgress = max(0.0, (progress - vTemp*0.4) /0.6);\n            vec3 newnormal = rotate(normal,axis,tProgress*(3. + offset*10.));\n            vNormal = newnormal;\n\n            newposition += newposition + centroid*(tProgress)*(3. + offset*7.);\n\n            eye = normalize( vec3( modelViewMatrix * vec4( newposition, 1.0 ) ) );\n            vec4 worldPosition = modelMatrix * vec4( newposition, 1.0 );\n            vec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * newnormal );\n            vec3 I = worldPosition.xyz - cameraPosition;\n            vReflect = reflect( I, worldNormal );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( newposition, 1.0 );\n            }`\n          ,\n          fragmentShader: `\n            uniform float time;\n            uniform float progress;\n            uniform float inside;\n            uniform vec3 surfaceColor;\n            uniform vec3 insideColor;\n            uniform samplerCube tCube;\n\n            varying vec2 vUv;\n            varying vec2 vUv1;\n            varying vec3 eye;\n            varying vec3 vNormal;\n            varying vec3 vReflect;\n\n            void main()\t\n            {\n                vec3 r = reflect( eye, vNormal );\n                float m = 2. * sqrt( pow( r.x, 2. ) + pow( r.y, 2. ) + pow( r.z + 1., 2. ) );\n                vec2 vN = r.xy / m + .5;\n                vec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n\n                vec3 light = normalize(vec3(12.,10.,10.));\n                vec3 light1 = normalize(vec3(-12.,-10.,-10.));\n                float l = clamp(dot(light, vNormal),0.5,1.);\n                l += clamp(dot(light1, vNormal),0.5,1.)/2.;\n                // l /= 2.;\n                \n                if(inside>0.5){\n                    gl_FragColor = vec4(l,l,l,1.)*vec4(surfaceColor,1.);\n                } else{\n                    gl_FragColor = reflectedColor*vec4(insideColor,1.);\n                }\n            }`\n        });\n    \n        this.material1 = this.material.clone();\n        this.material1.uniforms.inside.value = 1;\n      }\n\n    render() \n    {\n        if (isNaN(this.delta) || this.delta > 1000 || this.delta === 0 ) \n        {\n\t        this.delta = 1000/60;\n        }\n        this.material.uniforms.progress.value = Math.abs(this.settings.progress);\n        this.material1.uniforms.progress.value = Math.abs(this.settings.progress);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    animate = () =>\n    {\n        if(this.disposed) return;\n        requestAnimationFrame(this.animate);\n        this.controls.update();\n        this.render();\n    }\n\n    setupListeners()\n    {\n        window.addEventListener( 'resize', this.onWindowResize, false );\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n        document.addEventListener(\"touchmove\", this.onDocumentTouchMove, false);\n    }\n\n    onWindowResize = () =>\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n        this.render();\n    }\n\n    onDocumentMouseMove = (e) =>\n    {\n        this.targetmouseX = 2*(e.clientX - window.innerWidth/2)/window.innerWidth;\n        this.targetmouseY = 2*(e.clientY - window.innerHeight/2)/window.innerHeight;\n\n        let r = Math.sqrt(this.targetmouseX * this.targetmouseX + this.targetmouseY * this.targetmouseY);\n        r = this.targetmouseX;\n        this.settings.progress= r*r;\n    }\n\n    onDocumentTouchMove = (e) =>\n    {\n        const touch = e.targetTouches[0];\n        this.onDocumentMouseMove({ clientX: touch.clientX, clientY: touch.clientY });\n    }\n\n    dispose() \n    {\n        this.disposed = true;\n        window.removeEventListener(\"resize\", this.onWindowResize);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        document.removeEventListener(\"touchmove\", this.onDocumentTouchMove);\n        this.scene.dispose();\n        this.renderer.dispose();\n        document.body.removeChild(this.renderer.domElement);\n    }\n}","import * as THREE from \"three\"\n\nexport function coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n\nexport function getRandomAxis() \n{\n    return new THREE.Vector3(\n      Math.random() - 0.5,\n      Math.random() - 0.5,\n      Math.random() - 0.5\n    ).normalize();\n};\n\nexport function getCentroid(geometry) \n{\n    let ar = geometry.attributes.position.array;\n    let len = ar.length;\n    let x = 0,\n      y = 0,\n      z = 0;\n    for (let i = 0; i < len; i = i + 3) \n    {\n      x += ar[i];\n      y += ar[i + 1];\n      z += ar[i + 2];\n    }\n    return { x: (3 * x) / len, y: (3 * y) / len, z: (3 * z) / len };\n};","/** Three container:\n * <div> below is the container of the canvas\n * created in the threeEntryPoint (index.js);\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * @threeEntryPoint() is called when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport Sidebar from '../Sidebar';\nimport SceneController from \"../../home/SceneController\";\n\nexport default class Home extends React.Component {\n    constructor() {\n        super();\n        this.sceneController = new SceneController();\n    }\n\n    componentDidMount() {\n        this.sceneController.setup();\n    };\n\n    componentWillUnmount() {\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    render() {\n        return (\n            <>\n                <Sidebar />\n                <div ref={element => this.threeRootElement = element} />\n            </>\n        );\n    }\n}\n\n\n\n\n\n","import React from 'react';\nimport Sidebar from '../Sidebar';\n\nconst About = () => {\n    return (\n        <div>\n            <Sidebar />\n            <div className=\"App-Page\">\n                <h3>I am a Berlin-based creative technologist interested in how everyday encounter with tech- changes the way we think of ourselves as humans. I love real-time 3D and do weird stuff on the web.\n                </h3>\n            </div>\n        </div>\n    );\n}\n\nexport default About;","import React from 'react';\n\nconst ProjectDescription = (props) =>\n{\n    return(\n        <div style={{\n                fontSize: 20.9,\n                color: '#2F3E4F',\n                textAlign: \"center\",\n                fontWeight: \"bold\"\n            }}\n        > { props.text }\n        </div>\n    )\n};\n\nexport default ProjectDescription;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport history from '../history';\nimport ProjectDescription from '../ProjectDescription';\n\nclass ProjectItem extends React.Component \n{\n    openSketch()\n    {\n        history.push(this.props.project.url);\n        return (\n            <div>\n            <Link to={`/projects/${this.props.project.id}`}/>\n            </div>\n        );  \n    };\n\n    render() \n    {\n        return(\n        <div>\n            <img className=\"Project-Item\"\n                onClick={() => this.openSketch()}\n                src={this.props.project.cover}\n                alt={this.props.project.title}\n            />\n            <br/>\n            <ProjectDescription text={this.props.project.description}/>\n            <br/>\n        </div>\n        )\n    }\n}\n\nexport default ProjectItem;","import React from 'react';\nimport '../assets/css/Projects.css'; \nimport ProjectItem from './pages/ProjectItem';\n\nconst ProjectGrid = (props) =>\n{\n    const projects = props.projects.map((project) => \n    {\n        return (\n            <ProjectItem\n                className=\"Project-Item\"\n                key={ project.id }\n                project={ project }\n            />\n        );\n    });\n\n    return (\n        <div className=\"Project-Grid\">\n            { projects }\n        </div>\n    );\n}\n\nexport default ProjectGrid;","//TODO: solve url and clean path \nimport theMofGame from '../assets/img/covers/project1.jpg';\nimport gameAsPA from '../assets/img/covers/project2.png';\nimport fantasynth from '../assets/img/covers/project3.jpg';\nimport lichtspektakel from '../assets/img/covers/project4.jpg';\n// import avPerformances from '../assets/img/covers/project4.jpg';\n\nconst ProjectList = [\n    {\n      id: 1,\n      cover: theMofGame,\n      url: '/projects/meaningofgame/',\n      title: 'The Meaning of Game',\n      description: \"THE MEANING OF GAME: FP art game in browser\"\n    },\n    {\n      id: 2,\n      cover: gameAsPA,\n      url: '/projects/gameasperformanceart/',\n      title: 'Game as Performance Art',\n      description: \"GAME AS PERFORMANCE ART: Standalone\"\n    },\n    {\n      id: 3,\n      cover: fantasynth,\n      url: '/projects/fantasynth/',\n      title: 'Fantasynth',\n      description: \"FANTASYNTH: Real-time installation\"\n    },\n    {\n      id: 4,\n      cover: lichtspektakel,\n      url: '/projects/lichtspektakel/',\n      title: 'Lichtspektakel',\n      description: \"LIGHT SPECTACLE: Projection mapping\"\n    }\n    // {\n    //   id: 5,\n    //   cover: avPerformances,\n    //   url: '/projects/performances/',\n    //   title: 'AV Performances',\n    //   description: \"LIGHT SPECTACLE: Projection mapping\"\n    // }\n]; \n\nexport default ProjectList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst CompactSideBar = () =>\n{\n    return(\n            <div className=\"Sidebar\">\n                <Link to=\"/\" className=\"item\">\n                    Home\n                </Link>\n            </div>          \n    );\n};\n\nexport default CompactSideBar;","import React from 'react';\nimport '../../assets/css/Projects.css'; \nimport ProjectGrid from '../ProjectGrid';\nimport projectList from '../ProjectList';\nimport CompactSideBar from '../CompactSidebar';\n\nexport default class Projects extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = { projects: projectList };\n    };\n\n    render()\n    {\n        return(\n            <div>\n                <CompactSideBar/>\n                <div className=\"Project\">\n                <ProjectGrid projects={ this.state.projects }/>\n                </div>\n            </div>\n        );\n    };\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport history from '../history';\n// import Snakewoman from '../../sketches/snakewoman';\n// import Garden from '../../sketches/garden';\n// import Child from '../../sketches/child';\n// import ClumsyForest from '../../sketches/clumsyforest';\n// import Sentinel from '../../sketches/sentinel';\n// import SpaceOcean from '../../sketches/spaceocean';\n// import SphericalMirrors from '../../sketches/sphericalmirrors';\n// import Incantation from '../../sketches/incantation';\n// import ThreeBone from '../../sketches/threebone';\n// import ArmFoot from '../../sketches/armfoot';\n// import Mira from '../../sketches/mira';\n// import Broken from '../../sketches/broken';\n// import Thought from '../../sketches/thought';\n// import Christmas from '../../sketches/christmas';\n// import LiquidBody from '../../sketches/liquidbody';\n// import Underwater from '../../sketches/underwater';\n// import Tiny from '../../sketches/tiny';\n\n\nexport default class SketchItem extends React.Component {\n\n    openSketch() {\n        history.push(this.props.sketch.url);\n        return (\n            <>\n                <Link to={`/webgl/${this.props.sketch.id}`}>\n                </Link>\n            </>\n        );\n    };\n\n    // renderSketch() {\n    //     switch (this.props.match.params.id) {\n    //         case 'snakewoman':\n    //             return <Snakewoman />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         case 'child':\n    //             return <Child />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         case 'garden':\n    //             return <Garden />;\n    //         default: return <div>Oops</div>;\n    //     }\n    // }\n\n    render() {\n        return (\n            <>\n                <img className=\"Sketch-Item\"\n                    src={this.props.sketch.cover}\n                    alt={this.props.sketch.title}\n                    onClick={() => this.openSketch()}\n                />\n            </>\n            // <>\n            //     {this.renderSketch()}\n            // </>\n        )\n    }\n}","import React from 'react';\n// import '../assets/css/Sketches.css'; \nimport SketchItem from './pages/SketchItem';\n\nconst SketchGrid = (props) => {\n    const sketches = props.sketches.map((sketch) => {\n        return (\n            <SketchItem\n                className=\"Sketch-Item\"\n                key={sketch.id}\n                sketch={sketch}\n            />\n        );\n    });\n\n    return (\n        <div className=\"Sketch-Grid\">\n            { sketches}\n        </div>\n    );\n}\n\nexport default SketchGrid;\n","import snakewoman from '../assets/img/covers/snakewoman.jpg';\nimport garden from '../assets/img/covers/garden.jpg';\nimport child from '../assets/img/covers/child.jpg';\nimport spaceocean from '../assets/img/covers/spaceocean.jpg';\nimport sentinel from '../assets/img/covers/sentinel.jpg';\n\nimport clumsyforest from '../assets/img/covers/clumsyforest.jpg';\nimport sphericalmirrors from '../assets/img/covers/sphericalmirrors.jpg';\nimport incantation from '../assets/img/covers/incantation.jpg';\nimport threebone from '../assets/img/covers/threebone.jpg';\nimport armfoot from '../assets/img/covers/armfoot.jpg';\nimport mira from '../assets/img/covers/mira.jpg';\nimport broken from '../assets/img/covers/broken.jpg';\nimport thought from '../assets/img/covers/thought.jpg';\nimport christmas from '../assets/img/covers/christmas.jpg';\nimport tiny from '../assets/img/covers/tiny.jpg';\nimport liquidbody from '../assets/img/covers/liquid.jpg';\n\nconst SketchList = [\n  {\n    id: 1,\n    cover: christmas,\n    path: '../assets/img/covers/christmas.jpg',\n    url: 'webgl/ritaschristmas',\n    // component: SphericalMirrors,\n    title: \"Rita's Christmas\"\n  },\n  {\n    id: 2,\n    cover: liquidbody,\n    path: '../assets/img/covers/liquid.jpg',\n    url: 'webgl/liquidbody',\n    // component: SphericalMirrors,\n    title: \"Liquid Body\"\n  },\n  {\n    id: 3,\n    cover: tiny,\n    path: '../assets/img/covers/tiny.jpg',\n    url: 'webgl/tiny',\n    // component: SphericalMirrors,\n    title: \"Tiny\"\n  },\n  {\n    id: 4,\n    cover: mira,\n    path: '../assets/img/covers/spaceocean.jpg',\n    url: 'webgl/mira',\n    // component: Mira,\n    title: 'Mira'\n  },\n  {\n    id: 5,\n    cover: threebone,\n    path: '../assets/img/covers/incantation.jpg',\n    url: 'webgl/threebone',\n    // component: SphericalMirrors,\n    title: 'ThreeBone'\n  },\n  {\n    id: 6,\n    cover: incantation,\n    path: '../assets/img/covers/incantation.jpg',\n    url: 'webgl/incantation',\n    // component: SphericalMirrors,\n    title: 'Incantation'\n  },\n  {\n    id: 7,\n    cover: armfoot,\n    path: '../assets/img/covers/armfoot.jpg',\n    url: 'webgl/armfoot',\n    // component: SphericalMirrors,\n    title: 'Arm Foot'\n  },\n  {\n    id: 8,\n    cover: thought,\n    path: '../assets/img/covers/spaceocean.jpg',\n    url: 'webgl/thought',\n    // component: Thought,\n    title: 'Thought'\n  },\n  {\n    id: 9,\n    cover: child,\n    path: '../assets/img/covers/child.jpg',\n    url: '/webgl/child',\n    // component: Child,\n    title: 'Child'\n  },\n  {\n    id: 10,\n    cover: snakewoman,\n    path: '../assets/img/covers/snakewoman.jpg',\n    url: 'webgl/snakewoman',\n    // component: Snakewoman,\n    title: 'Snakewoman'\n  },\n  {\n    id: 11,\n    cover: garden,\n    path: '../assets/img/covers/garden.jpg',\n    url: 'webgl/garden',\n    // component: Garden,\n    title: 'Garden'\n  },\n\n  {\n    id: 12,\n    cover: clumsyforest,\n    path: '../assets/img/covers/clumsyforest.jpg',\n    url: '/webgl/clumsyforest',\n    // component: ClumsyForest,\n    title: 'Clumsy Forest'\n  },\n  {\n    id: 13,\n    cover: sentinel,\n    path: '../assets/img/covers/sentinel.jpg',\n    url: '/webgl/sentinel',\n    // component: Sentinel,\n    title: 'Sentinel'\n  },\n\n  {\n    id: 14,\n    cover: spaceocean,\n    path: '../assets/img/covers/spaceocean.jpg',\n    url: 'webgl/spaceocean',\n    // component: SpaceOcean,\n    title: 'Space Ocean'\n  },\n\n  {\n    id: 15,\n    cover: broken,\n    path: '../assets/img/covers/spaceocean.jpg',\n    url: 'webgl/broken',\n    // component: Broken,\n    title: 'Broken'\n  },\n  {\n    id: 16,\n    cover: sphericalmirrors,\n    path: '../assets/img/covers/sphericalmirrors.jpg',\n    url: 'webgl/sphericalmirrors',\n    // component: SphericalMirrors,\n    title: 'Spherical Mirrors'\n  },\n  // {\n  //   id: 16,\n  //   cover: sphericalmirrors,\n  //   path: '../assets/img/covers/sphericalmirrors.jpg',\n  //   url: 'webgl/underwater',\n  //   // component: SphericalMirrors,\n  //   title: \"Underwater\"\n  // },\n];\n\nexport default SketchList;\n","import React from 'react';\n\nimport '../../assets/css/Sketches.css';\nimport SketchGrid from '../SketchGrid';\nimport sketchList from '../SketchList';\nimport CompactSideBar from '../CompactSidebar';\n\nexport default class Sketches extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { sketches: sketchList };\n  };\n\n  render() {\n    return (\n      <>\n        <CompactSideBar />\n        <div className=\"Sketch\">\n          <SketchGrid sketches={this.state.sketches} />\n        </div>\n      </>\n    );\n  };\n}","import React from 'react';\nimport Sidebar from '../Sidebar';\n\nconst Contacts = () =>\n{\n    return(\n        <div>\n            <Sidebar/>\n                <div className=\"App-Page\">\n                <h2>faulty.agatha(at)gmail.com </h2>\n            </div>\n        </div>    \n    );\n}\n\nexport default Contacts;","import { Color } from 'three';\n\nexport const coloursToArray = (str) => {\n  return str.split('/').pop().split('-').map(function (hex) {\n    return new Color('#' + hex);\n  });\n};","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport pathToModel from '../../assets/models/ballerina.glb';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.startTime = Date.now();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n\n        this.scene.background = this.colourArr[0];\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 200;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-50, 10, 60);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[0], 1);\n        hemiLight.position.set(0, 0.5, -1);\n        this.scene.add(hemiLight);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[4], 5);\n        this.scene.add(dirLight);\n\n        //lights to animate\n        let sphere = new THREE.SphereBufferGeometry(0.15, 8, 8);\n        this.light1 = new THREE.PointLight(0xff0040, 2, 50);\n        this.light1.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light1);\n\n        this.light2 = new THREE.PointLight(0x0040ff, 2, 50);\n        this.light2.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0x23D9D1 })));\n        this.scene.add(this.light2);\n\n        this.light3 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light3.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light3);\n\n        this.light4 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light4.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light4);\n\n        this.light5 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light5.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light5);\n\n        this.light6 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light6.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0x23D9D1 })));\n        this.scene.add(this.light6);\n\n        this.light7 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light7.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light7);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 150;\n        this.controls.minDistance = 9;\n        // this.controls.addEventListener('change', this.render.bind(this));\n    }\n\n    setupShaderMaterial() {\n        this.uniforms = {\n            u_resolution: { type: \"v2\", value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time: { type: \"f\", value: 0 },\n            u_color0: { type: \"v3\", value: new THREE.Color(0xff0000) },\n            u_color1: { type: \"v3\", value: new THREE.Color(0x6fa8dc) },\n        };\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    gl_FragColor=vec4(col, 1.0);\n                    //gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels() {\n        let material = this.setupShaderMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.traverse(node => {\n                if (node.isMesh) {\n                    node.material = material;\n                    node.position.z = -3;\n                    node.scale.x = 0.5;\n                    node.scale.y = 0.5;\n                    node.scale.z = 0.5;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    }\n\n    setupGeometry() {\n        let geometry = new THREE.IcosahedronGeometry(2.5, 0);\n        let material = new THREE.MeshPhongMaterial({\n            color: 0x020b13,\n            shininess: 100\n        });\n        let mesh = new THREE.Mesh(geometry, material);\n        this.scene.add(mesh);\n\n        let num = 200;\n        let sc = 3;\n\n        let bbGeometry = new THREE.IcosahedronBufferGeometry(sc * 0.5, 0);\n        this.bbRoot = new THREE.Mesh(bbGeometry, material);\n        this.bbRoot.position.x = sc * 10;\n        this.bbRoot.position.y = -sc * 2;\n        this.scene.add(this.bbRoot);\n\n        let parent = this.bbRoot;\n        for (let i = 0; i < num; i++) {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n\n        for (let i = 0; i < num; i++) {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = -sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n\n        for (let i = 0; i < num; i++) {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = -sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n\n        for (let i = 0; i < num; i++) {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n\n        parent = this.bbRoot;\n\n        for (let i = 0; i < num; i++) {\n            this.object = new THREE.Mesh(bbGeometry, material);\n            this.object.position.x = -sc;\n            parent.add(this.object);\n            parent = this.object;\n        }\n        parent = this.bbRoot;\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(this.scene.position);\n    }\n\n    updateSceneSubjects(time) {\n        //animate lights\n        this.light1.position.x = Math.sin(0.001 * time) * 4;\n        this.light1.position.y = Math.cos(0.001 * time) * 4;\n        this.light1.position.z = Math.cos(0.001 * time) * 4;\n\n        this.light2.position.x = Math.cos(0.001 * time) * 5;\n        this.light2.position.y = Math.sin(0.001 * time) * 5;\n        this.light2.position.z = Math.sin(0.001 * time) * -5;\n\n        this.light3.position.x = Math.sin(0.001 * time) * -4;\n        this.light3.position.y = Math.cos(0.001 * time) * 4;\n        this.light3.position.z = Math.sin(0.001 * time) * 4;\n\n        this.light4.position.x = Math.sin(0.001 * time) * -5;\n        this.light4.position.y = Math.cos(0.001 * time) * -5;\n        this.light4.position.z = Math.sin(0.001 * time) * 5;\n\n        this.light5.position.x = Math.sin(0.001 * time) * 5;\n        this.light5.position.y = Math.cos(0.001 * time) * -5;\n        this.light5.position.z = Math.sin(0.001 * time) * 5;\n\n        this.light6.position.x = Math.sin(0.001 * time) * 3;\n        this.light6.position.y = Math.cos(0.001 * time) * 3;\n        this.light6.position.z = Math.cos(0.001 * time) * -3;\n\n        this.light7.position.x = Math.sin(0.001 * time) * -4;\n        this.light7.position.y = Math.cos(0.001 * time) * 4;\n        this.light7.position.z = Math.sin(0.001 * time) * -4;\n\n        let timeFactor = Date.now() * 0.001;\n        let rx = Math.sin(timeFactor * 0.7) * 0.2;\n        let ry = Math.sin(timeFactor * 0.3) * 0.1;\n\n        this.bbRoot.traverse((object) => {\n            object.rotation.x = rx;\n            object.rotation.y = ry;\n        });\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.camera) this.orbitCamera(0.001);\n        if (this.controls) this.controls.update();\n        if (this.uniforms) this.uniforms['u_time'].value = 0.001 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() - this.startTime);\n\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","/**\n * TODO: \n * - add onloadscreen\n * - replace light with spheres (maybe) + sprite material\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport pathToModel from '../../assets/models/garden.glb';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.startTime = Date.now();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n        // this.scene.fog = new THREE.Fog(this.colourArr[2], 1, 50);  \n\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-3, -22, 17);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[0], 1);\n        hemiLight.position.set(0, 0.5, -1);\n        this.scene.add(hemiLight);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[4], 5);\n        this.scene.add(dirLight);\n\n        //lights to animate\n        let sphere = new THREE.SphereBufferGeometry(0.15, 8, 8);\n        this.light1 = new THREE.PointLight(0xff0040, 2, 50);\n        this.light1.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light1);\n\n        this.light2 = new THREE.PointLight(0x0040ff, 2, 50);\n        this.light2.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0x23D9D1 })));\n        this.scene.add(this.light2);\n\n        this.light3 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light3.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light3);\n\n        this.light4 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light4.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light4);\n\n        this.light5 = new THREE.PointLight(0xA3D2FD, 2, 50);\n        this.light5.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light5);\n\n        this.light6 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light6.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0x23D9D1 })));\n        this.scene.add(this.light6);\n\n        this.light7 = new THREE.PointLight(0x80ff80, 2, 50);\n        this.light7.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xA3D2FD })));\n        this.scene.add(this.light7);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = false;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 70;\n        this.controls.minDistance = 5;\n    }\n\n    setupShaderMaterial() {\n        this.uniforms = {\n            u_resolution: { type: \"v2\", value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time: { type: \"f\", value: 0 }\n            // u_color0:     { type: \"v3\", value: new THREE.Color( 0xff0000 ) },\n            // u_color1:     { type: \"v3\", value: new THREE.Color( 0x6fa8dc ) },\n        };\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    //gl_FragColor=vec4(col, 1.0);\n                    gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels() {\n        let material = this.setupShaderMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.position.set(-50, -100, 50);\n            this.root.scale.set(0.5, 0.5, 0.5);\n            this.root.traverse(node => {\n                if (node.isMesh) {\n                    node.material = material;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    }\n\n    setupGeometry() {\n        let geometry = new THREE.IcosahedronGeometry(3, 0);\n        let material = new THREE.MeshPhongMaterial({\n            color: 0x020b13,\n            shininess: 100\n        });\n        let mesh = new THREE.Mesh(geometry, material);\n        this.scene.add(mesh);\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    updateSceneSubjects(time) {\n        this.light1.position.x = Math.sin(0.001 * time) * 4;\n        this.light1.position.y = Math.cos(0.001 * time) * 4;\n        this.light1.position.z = Math.cos(0.001 * time) * 4;\n\n        this.light2.position.x = Math.cos(0.001 * time) * 5;\n        this.light2.position.y = Math.sin(0.001 * time) * 5;\n        this.light2.position.z = Math.sin(0.001 * time) * -5;\n\n        this.light3.position.x = Math.sin(0.001 * time) * -4;\n        this.light3.position.y = Math.cos(0.001 * time) * 4;\n        this.light3.position.z = Math.sin(0.001 * time) * 4;\n\n        this.light4.position.x = Math.sin(0.001 * time) * -5;\n        this.light4.position.y = Math.cos(0.001 * time) * -5;\n        this.light4.position.z = Math.sin(0.001 * time) * 5;\n\n        this.light5.position.x = Math.sin(0.001 * time) * 5;\n        this.light5.position.y = Math.cos(0.001 * time) * -5;\n        this.light5.position.z = Math.sin(0.001 * time) * 5;\n\n        this.light6.position.x = Math.sin(0.001 * time) * 3;\n        this.light6.position.y = Math.cos(0.001 * time) * 3;\n        this.light6.position.z = Math.cos(0.001 * time) * -3;\n\n        this.light7.position.x = Math.sin(0.001 * time) * -4;\n        this.light7.position.y = Math.cos(0.001 * time) * 4;\n        this.light7.position.z = Math.sin(0.001 * time) * -4;\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.camera) this.orbitCamera(0.001);\n        if (this.uniforms) this.uniforms['u_time'].value = 0.001 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() - this.startTime);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.dispose();\n        this.renderer.dispose();\n    };\n}","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.sceneController.setup();\n        this.addEventListeners();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        let passiveSupported = false;\n        try {\n            const options = {\n                get passive() {\n                    passiveSupported = true;\n                    return false;\n                }\n            };\n\n            window.addEventListener('resize', this.onWindowResize, options);\n            if (this.sceneController) this.sceneController.controls.addEventListener('change', this.onControlsUpdate, passiveSupported\n                ? { passive: true } : false);\n        }\n        catch (err) {\n            passiveSupported = false;\n        }\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onControlsUpdate = () => {\n        if (this.sceneController.controls) {\n            this.sceneController.update();\n        }\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport pathToModel from '../../assets/models/child.glb';\nimport texture_0 from '../../assets/img/textures/colors.jpg';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.startTime = Date.now();\n        this.mouse = new THREE.Vector2(0, 0);\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/003052-007a1f-ff5969-ff99a3-ffdb9e');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[3];\n        this.scene.fog = new THREE.Fog(this.colourArr[1], 0.1, 100);\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupGlobalUniforms();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 60;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.z = 3;\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[0], 1);\n        hemiLight.position.set(0, 0.5, -1);\n        this.scene.add(hemiLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 80;\n        this.controls.minDistance = 2;\n        // this.controls.addEventListener('change', this.update.bind(this));\n    }\n\n    setupGlobalUniforms() {\n        let loader = new THREE.TextureLoader();\n        let texture = loader.load(texture_0);\n        texture.minFilter = texture.magFilter = THREE.NearestFilter;\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n        this.uniforms = {\n            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time: { value: 0 },\n            u_color0: { value: new THREE.Color(this.colourArr[0]) },\n            u_texture_0: { value: texture }\n        };\n    }\n\n    setupShaderOneMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n                uniform sampler2D u_texture_0;\n                uniform vec3 u_color0;\n\n                varying vec2 vUv;\n\n                #define TIMESCALE 0.25 \n                #define TILES 10\n                #define COLOR 0.2, 1.6, 2.8\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n                    pos.x *= u_resolution.x/u_resolution.y;\n\n                    // vec4 noise = texture2D(u_texture_0, fract(pos * float(TILES)) / float(TILES));\n                    // float p = 1.0 - mod(noise.r + noise.g + noise.b + u_time * float(TIMESCALE), 1.0);\n                    // p = min(max(p * 3.0 - 1.8, 0.1), 2.0);\n    \n                    // vec2 r = mod(pos * float(TILES) + fract(u_time * 0.5), 1.0);\n                    // r = vec2(pow(r.x - 0.5, 2.0), pow(r.y - 0.5, 2.0));\n                    // p /= 1.0 - pow(min(1.0, 12.0 * dot(r, r)), 0.2);\n    \n                    // gl_FragColor = vec4(u_color0, 1.0) * p;\n\n                    vec4 noise = texture2D(u_texture_0, floor(pos * float(TILES)) / float(TILES));\n                    float p = 1.0 - mod(noise.r + noise.g + noise.b + u_time * float(TIMESCALE), 1.0);\n                    p = min(max(p * 3.0 - 1.8, 0.1), 2.0);\n \n                    vec2 r = mod(pos * float(TILES), 1.0);\n                    r = vec2(pow(r.x - 0.5, 2.0), pow(r.y - 0.5, 2.0));\n                    p *= 1.0 - pow(min(1.0, 12.0 * dot(r, r)), 2.0);\n \n                    gl_FragColor = vec4(COLOR, 1.0) * p;\n                }\n            `\n        });\n        return material;\n    }\n\n    setupShaderTwoMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                precision mediump float;\n                uniform float u_time;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vUv = uv;\n                    float modPos = abs(3.*sin(u_time*0.1));\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position*modPos, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                vec2 random2(vec2 p) \n                {\n                    return fract(sin(vec2(dot(p,vec2(127.1,311.7)),\n                            dot(p,vec2(269.5,183.3))))*43758.5453);\n                } \n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n                    pos.x *= u_resolution.x/u_resolution.y;\n\n                    vec2 i_pos= floor(pos); //tile coordinates stored as integer\n                    vec2 f_pos = fract(pos); //pixel coordinates stored as float\n\n                    float min_dist = 1.0;\n                    for(int y=-1; y<=1; y++) \n                    {\n                        for(int x=-1; x<=1; x++) \n                        {\n                            vec2 neighbour = vec2(float(x), float(y));\n                            //compute the random position of the points on each one of the \n                            //neighbours by adding the neighbour offset\n                            vec2 point = random2(i_pos + neighbour);\n                            //animate the points\n                            point = 0.5 + 0.5*sin(u_time + 6.2831*point);\n                            vec2 d = neighbour + point - f_pos; //difference between each pixel and random f.point \n                            float dist = length(d); //distance to the point\n                            min_dist = min(min_dist, dist); //get the closest distance\n                        }\n                    }\n                    //colour manipulation with helper functions\n                    float r = length(pos) * 2.0;\n                    float a = atan(pos.y, pos.x);\n\n                    float f = cos(a*3.0);\n                    // f = abs(cos(a*3.0));\n                    // f = abs(cos(a*2.5))*0.5+0.3;\n                    // f = abs(cos(a*12.0)*sin(a*3.0))*0.8+0.1;\n                    // f = smoothstep(-0.5, 1.0, cos(a*10.0))*0.2+0.5;\n                    f = abs(cos(a) * sin(a*3.0));\n\n\n                    vec3 colour = vec3(min_dist);\n                    //draw cell center\n                    //colour.r = 0.3;\n                    colour.r += step(sin(f), min_dist);\n                    //colour.g += step(f*0.1, min_dist) * 0.3;\n                    colour.g = 0.1;\n                    colour.b += step(cos(f*0.2), min_dist) * 0.4;\n\n                    gl_FragColor = vec4(vec3(colour.r, colour.g, colour.b), 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels() {\n        let material = this.setupShaderOneMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.position.set(0, -5, -2);\n            this.root.scale.set(0.01, 0.01, 0.01);\n            this.root.traverse(node => {\n                if (node.isMesh) {\n                    node.material = material;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    }\n\n    setupGeometry() {\n        let sphereGeometry = new THREE.SphereGeometry(0.05, 30, 30);\n        let material = this.setupShaderTwoMaterial();\n        this.geoArray = [];\n        for (let i = 0; i < 300; i++) {\n            let mesh = new THREE.Mesh(sphereGeometry, material);\n            mesh.position.x = Math.random() * 10 - 5;\n            mesh.position.y = Math.random() * 10 - 5;\n            mesh.position.z = Math.random() * 10 - 5;\n            mesh.scale.x = mesh.scale.y = mesh.scale.z = Math.random() * 2 + 1;\n            this.geoArray.push(mesh);\n            this.scene.add(mesh);\n        }\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    updateSceneSubjects(time) {\n        for (let i = 0, l = this.geoArray.length; i < l; i++) {\n            let sphere = this.geoArray[i];\n            sphere.position.x = 5 * Math.cos(time + i);\n            sphere.position.y = 5 * Math.sin(time + i * 1.1);\n        }\n    }\n\n    update() {\n        if (this.disposed) return;\n        //if(this.camera) this.orbitCamera(0.001);\n        if (this.controls) this.controls.update();\n        if (this.uniforms) this.uniforms['u_time'].value = 0.001 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() * 0.0001);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onMouseMove(e) {\n        this.mouse.x = (e.clientX - window.innerWidth / 2) / 100;\n        this.mouse.y = (e.clientY - window.innerHeight / 2) / 100;\n        this.camera.position.x += (this.mouse.x - this.camera.position.x) * .05;\n        this.camera.position.y += (-this.mouse.y - this.camera.position.y) * .05;\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseMove = (e) => {\n        if (this.sceneController) this.sceneController.onMouseMove(e);\n    }\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n}\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            MOVE your MOUSE\n        </div>\n    );\n}","import * as Tone from 'tone';\n// import { AudioContext } from 'standardized-audio-context';\nimport StartAudioContext from 'startaudiocontext';\n\n//try https://github.com/Tonejs/Tone.js/issues/224\nexport default class Sound\n{\n    // constructor()\n    // {\n    //     // const audioContext = new AudioContext();\n    //     // Tone.setContext(audioContext);\n    // }\n\n    start(domElem)\n    {\n        StartAudioContext(Tone.context, domElem);\n        console.log('start audiocontext');\n    }\n\n    setup()\n    {\n        let gain = new Tone.Volume(0).toMaster();\n        gain.set('volume', -15);\n    }\n\n    createSinths()\n    {\n        let chorus = new Tone.Chorus(2.5, 100, 0.5).toMaster();\n        let delay = new Tone.PingPongDelay(\"4n\", 0.5).connect(chorus); //.toMaster();\n\n        this.polySynth = new Tone.PolySynth().connect(delay);\n        this.polySynth.toMaster();\n        this.polySynth.vibratoAmount = 0.1;\n\n        this.duoSynth = new Tone.DuoSynth().connect(delay);\n        this.duoSynth.toMaster();\n    };\n\n    playNote(synth)\n    {\n        let notes = ['A1', 'A2', 'A3', 'A4', 'C1', 'C2', 'C3', 'C4', 'B1', 'B2', 'B3', 'B4', 'D1', 'D2', 'D3', 'D4'];\n        synth.triggerAttackRelease((0, randomElement(notes)), \"16n\");\n    };\n\n    playOnTrigger()\n    {\n        //https://github.com/Tonejs/Tone.js/issues/341\n        if (Tone.context.state !== 'running') \n        {\n            Tone.context.resume();\n        }\n        this.playNote(this.duoSynth);\n        this.playNote(this.polySynth);\n    };\n\n    update() \n    {\n        if(Tone.context.state && Tone.context.state === \"suspended\") \n        {\n          Tone.context.resume().then(function () \n          {\n                console.log(\"AudioContext resumed!\");\n                // fire your callback here\n          });\n        }\n    };\n\n    stop()\n    {\n        this.polySynth.dispose();\n        this.duoSynth.dispose();\n        // Tone.context.close();\n        console.log('stop audiocontext');\n    }\n};  \n\n/**\n   * returns a random element from an array or object\n   * @param  {Array|Object} obj\n   * @return {object}\n   */\n\nfunction randomElement(obj) \n{\n    if (Array.isArray(obj)) \n    {\n        return obj[Math.floor(Math.random() * obj.length)];\n    } \n    else if (obj instanceof Object) \n    {\n        return obj[randomElement(Object.keys[obj])];\n    }\n    return obj;\n};\n\n","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport gsap from 'gsap';\n\nimport Sound from './Sound';\nimport pathToModel from '../../assets/models/forest.glb';\nimport texture2 from '../../assets/img//textures/grid.jpg';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.clock = new THREE.Clock();\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/010b13-f5f7f7-262422-5fc5e1-f46e42');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.isDisposed = false;\n        this.isAnimate = true;\n\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 150, 350);\n        this.loader = new THREE.TextureLoader();\n\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n        this.setupSound(this.renderer.domElement);\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 1000;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-113, 57, 148);\n    }\n\n    setupLight() {\n        const hemiLight = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[2], 1);\n        hemiLight.groundColor.setHSL(0.78, 0.2, 1.);\n        hemiLight.color.setHSL(0.67, 0.19, 0.75);\n        hemiLight.position.set(0, 50, 0);\n        this.scene.add(hemiLight);\n\n        const spotLight = new THREE.SpotLight();\n        spotLight.angle = Math.PI / 4;\n        spotLight.penumbra = 0.25;\n        spotLight.decay = 2;\n        spotLight.distance = 200;\n\n        spotLight.castShadow = true;\n        spotLight.shadow.mapSize.width = 1024;\n        spotLight.shadow.mapSize.height = 1024;\n        spotLight.shadow.camera.near = 10;\n        spotLight.shadow.camera.far = 100;\n        spotLight.shadow.camera.fov = 30;\n\n        spotLight.color.set(0xBBFFEE).multiplyScalar(0.66);\n        spotLight.position.lerp(this.camera.position, 0.75);\n        this.scene.add(spotLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 400;\n        this.controls.minDistance = 100;\n        this.controls.maxPolarAngle = 1.2737424473141494;\n        this.controls.minPolarAngle = 1.2737424473141494;\n    }\n\n    setupShaderMaterial() {\n        this.uniforms = {\n            u_resolution: { type: \"v2\", value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time: { type: \"f\", value: 0 },\n            u_color0: { type: \"v3\", value: new THREE.Color(0xff0000) },\n            u_color1: { type: \"v3\", value: new THREE.Color(0x6fa8dc) },\n        };\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    //gl_FragColor=vec4(col, 1.0);\n                    gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels() {\n        let group = new THREE.Object3D();\n        this.scene.add(group);\n        group.position.set(0, -4, -30);\n\n        let model1;\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            model1 = gltf.scene;\n            let scFactor = 3;\n            model1.scale.set(scFactor, scFactor, scFactor);\n            model1.position.set(-20, 0, -30);\n            group.add(model1);\n            model1.traverse((node) => {\n                if (node.isMesh && node.name !== 'Cube008') {\n                    node.material = new THREE.MeshPhongMaterial({\n                        color: this.colourArr[3],\n                        specular: this.colourArr[1],\n                        shininess: 20\n                    });\n                    node.castShadow = true;\n                    node.receiveShadow = true;\n                }\n                if (node.isMesh && node.name === 'Cube008') {\n                    node.material = new THREE.MeshPhongMaterial({\n                        color: this.colourArr[0],\n                        specular: this.colourArr[1],\n                        shininess: 10\n                    });\n                    node.scale.set(8, 8, 8);\n                    node.position.set(0, 15, 0);\n                    node.castShadow = true;\n                    node.receiveShadow = true;\n                }\n            });\n            let model2 = model1.clone();\n            model2.position.set(-100, 0, -20);\n            group.add(model2);\n\n            let model3 = model1.clone();\n            model3.position.set(70, 0, -40);\n            model3.rotateY(-Math.PI * 0.1);\n            group.add(model3);\n        },\n            (xhr) => {\n                console.log((xhr.loaded / xhr.total * 100) + '% loaded')\n            },\n            (error) => {\n                console.log(error);\n            });\n    }\n\n    setupGeometry() {\n        this.setupGround();\n        this.scatterRandomGeometry();\n    }\n\n    setupGround() {\n        this.groundMap = this.loader.load(texture2);\n        this.groundMap.anisotropy = 16;\n\n        const groundPlane = new THREE.Mesh(new THREE.PlaneGeometry(1000, 1000), new THREE.MeshStandardMaterial({\n            color: this.colourArr[4],\n            map: this.groundMap,\n            bumpMap: this.groundMap,\n            bumpScale: 0.05,\n            metalness: 0,\n            roughness: 1\n        }));\n\n        groundPlane.receiveShadow = true;\n        groundPlane.position.y = 0;\n        groundPlane.quaternion.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2);\n        this.scene.add(groundPlane);\n    }\n\n    scatterRandomGeometry() {\n        this.meshElems = new THREE.Object3D();\n        this.meshElems.position.set(-150, 40, 0);\n        this.scene.add(this.meshElems);\n\n        let elemsNum = 20;\n        let geo = new THREE.IcosahedronBufferGeometry(0.5, 0);\n        let mesh = new THREE.Mesh(geo, new THREE.MeshStandardMaterial({\n            color: this.colourArr[1],\n            map: this.groundMap,\n            transparent: true,\n            opacity: 0.5\n        }));\n        mesh.receiveShadow = true;\n        this.meshElems.add(mesh);\n\n        //spiral \n        let stepAngle = Math.PI * 2 / elemsNum;\n        let xStep = 0.8;\n        let turns = 20;\n        for (let i = 0; i < turns * elemsNum; i++) {\n            let elem = mesh.clone();\n            let angle = stepAngle * i;\n            let dist = 10 + Math.random() * 10; //the distance to the center of the axis\n            let s = 1 + Math.random() * 2;\n\n            elem.position.y = Math.sin(angle) * dist;\n            elem.position.x = xStep * i; //Math.cos(angle)*dist;\n            elem.position.z = Math.cos(angle) * dist; //Math.random()*5;\n\n            elem.rotation.z = angle + Math.PI / 2;\n            elem.scale.set(Math.sin(Math.random() + i * 10) + 10, s, s);\n            this.meshElems.add(elem);\n        }\n    }\n\n    setupSound() {\n        let sound = new Sound();\n        sound.start(this.renderer.domElement);\n        sound.setup();\n        sound.createSinths();\n        this.sound = sound;\n    }\n\n    raycast() {\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        let intersects = this.raycaster.intersectObjects(this.scene.children, true);\n        if (intersects.length > 0 && typeof this.scene != \"undefined\" && intersects[0].object.isMesh) {\n            if (intersects[0].object.name === 'Cube008') {\n                this.oscillate(intersects[0].object);\n                this.sound.playOnTrigger();\n            }\n        }\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    oscillate(mesh) {\n        this.isAnimate = true;\n        const originalScaleX = mesh.scale.z;\n        const originalScaleY = mesh.scale.y;\n        const originalScaleZ = mesh.scale.z;\n        const easing = 'elastic';\n\n        let oscil = gsap.timeline();\n        oscil.to(mesh.scale, 1, { x: 1.02, y: 2.05, z: 1.02, ease: easing })\n            .to(mesh.scale, 1, { x: originalScaleX, y: originalScaleY, z: originalScaleZ, ease: easing });\n\n        oscil.eventCallback(\"onComplete\", () => {\n            this.isAnimating = false;\n        });\n\n        oscil.play();\n    }\n\n    updateSceneSubjects(time) {\n        for (let i = 0; i < this.meshElems.children.length; i++) {\n            let elem = this.meshElems.children[i];\n            elem.rotation.z += Math.random() * .005; //*(i+1);\n            elem.rotation.y += Math.random() * .02; //*(i+1);\n        }\n    }\n\n    update() {\n        if (this.isDisposed) return;\n        let delta = this.clock.getDelta();\n        if (isNaN(delta) || delta > 1000 || delta === 0) {\n            delta = 1000 / 60;\n        }\n        if (this.controls) this.controls.update();\n        this.updateSceneSubjects(delta);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onClick(e) {\n        if (this.isDisposed) return;\n        this.mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n        this.mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\n        this.raycast();\n        this.update();\n    }\n\n    dispose() {\n        this.isDisposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        this.sound.stop();\n    }\n}\n\n\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseDown = (e) => {\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onClick(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element} >\n                <Text />\n            </div>\n        );\n    }\n}\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            CLICK the roots to make sounds\n        </div>\n    );\n}","import * as THREE from 'three';\n\n/**\n * @author daoshengmu / http://dsmu.me/\n *\n * ------------------------------------------------------------------------------------------\n * Subsurface Scattering shader\n * Base on GDC 2011  Approximating Translucency for a Fast, Cheap and Convincing Subsurface Scattering Look\n * https://colinbarrebrisebois.com/2011/03/07/gdc-2011-approximating-translucency-for-a-fast-cheap-and-convincing-subsurface-scattering-look/\n *------------------------------------------------------------------------------------------\n */\n\nconst TranslucentShader = {\n\n\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\tTHREE.UniformsLib[ \"common\" ],\n\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t{\n\t\t\t\"color\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"diffuse\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"specular\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"emissive\": { value: new THREE.Color( 0x000000 ) },\n\t\t\t\"opacity\": { value: 1 },\n\t\t\t\"shininess\": { value: 1 },\n\n\t\t\t\"thicknessMap\": { value: null },\n\t\t\t\"thicknessColor\": { value: new THREE.Color( 0xffffff ) },\n\t\t\t\"thicknessDistortion\": { value: 0.1 },\n\t\t\t\"thicknessAmbient\": { value: 0.0 },\n\t\t\t\"thicknessAttenuation\": { value: 0.1 },\n\t\t\t\"thicknessPower\": { value: 2.0 },\n\t\t\t\"thicknessScale\": { value: 10.0 }\n\t\t}\n\n\t] ),\n\n\tvertexShader: [\n\n\t\t\"varying vec3 vNormal;\",\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"varying vec3 vViewPosition;\",\n\n\t\tTHREE.ShaderChunk[ \"common\" ],\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n\n\t\t\"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"\tvViewPosition = -mvPosition.xyz;\",\n\n\t\t\"\tvNormal = normalize( normalMatrix * normal );\",\n\n\t\t\"\tvUv = uv;\",\n\n\t\t\"\tgl_Position = projectionMatrix * mvPosition;\",\n\n\t\t\"}\",\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\t\t\"#define USE_UV\",\n\t\t\"#define USE_MAP\",\n\t\t\"#define PHONG\",\n\t\t\"#define TRANSLUCENT\",\n\t\t\"#include <common>\",\n\t\t\"#include <bsdfs>\",\n\t\t\"#include <uv_pars_fragment>\",\n\t\t\"#include <map_pars_fragment>\",\n\t\t\"#include <lights_phong_pars_fragment>\",\n\n\t\t\"varying vec3 vColor;\",\n\n\t\t\"uniform vec3 diffuse;\",\n\t\t\"uniform vec3 specular;\",\n\t\t\"uniform vec3 emissive;\",\n\t\t\"uniform float opacity;\",\n\t\t\"uniform float shininess;\",\n\n\t\t// Translucency\n\t\t\"uniform sampler2D thicknessMap;\",\n\t\t\"uniform float thicknessPower;\",\n\t\t\"uniform float thicknessScale;\",\n\t\t\"uniform float thicknessDistortion;\",\n\t\t\"uniform float thicknessAmbient;\",\n\t\t\"uniform float thicknessAttenuation;\",\n\t\t\"uniform vec3 thicknessColor;\",\n\n\t\tTHREE.ShaderChunk[ \"lights_pars_begin\" ],\n\n\t\t\"void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in GeometricContext geometry, inout ReflectedLight reflectedLight) {\",\n\t\t\"\tvec3 thickness = thicknessColor * texture2D(thicknessMap, uv).r;\",\n\t\t\"\tvec3 scatteringHalf = normalize(directLight.direction + (geometry.normal * thicknessDistortion));\",\n\t\t\"\tfloat scatteringDot = pow(saturate(dot(geometry.viewDir, -scatteringHalf)), thicknessPower) * thicknessScale;\",\n\t\t\"\tvec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;\",\n\t\t\"\treflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;\",\n\t\t\"}\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec3 normal = normalize( vNormal );\",\n\n\t\t\"\tvec3 viewerDirection = normalize( vViewPosition );\",\n\n\t\t\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\n\n\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\n\t\t\"\tvec3 totalEmissiveRadiance = emissive;\",\n\n\t\tTHREE.ShaderChunk[ \"lights_phong_fragment\" ],\n\n\t\t// Doing lights fragment begin.\n\t\t\"\tGeometricContext geometry;\",\n\t\t\"\tgeometry.position = - vViewPosition;\",\n\t\t\"\tgeometry.normal = normal;\",\n\t\t\"\tgeometry.viewDir = normalize( vViewPosition );\",\n\n\t\t\"\tIncidentLight directLight;\",\n\n\t\t\"\t#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\",\n\n\t\t\"\t\tPointLight pointLight;\",\n\n\t\t\"\t\t#pragma unroll_loop_start\",\n\t\t\"\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\",\n\t\t\"\t\t \tpointLight = pointLights[ i ];\",\n\t\t\"\t\t \tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\",\n\n\t\t\"\t\t\t#ifdef USE_SHADOWMAP\",\n\t\t\"\t\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\",\n\t\t\"\t\t\t#endif\",\n\n\t\t\"\t\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\n\t\t\"\t\t\t#if defined( TRANSLUCENT ) && defined( USE_UV )\",\n\t\t\"\t\t\tRE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\",\n\t\t\"\t\t\t#endif\",\n\t\t\"\t\t}\",\n\t\t\"\t\t#pragma unroll_loop_end\",\n\n\t\t\"\t\t#endif\",\n\n\t\t\"\t#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\",\n\n\t\t\"\t\tDirectionalLight directionalLight;\",\n\n\t\t\"\t\t#pragma unroll_loop_start\",\n\t\t\"\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\",\n\t\t\"\t\t\tdirectionalLight = directionalLights[ i ];\",\n\t\t\"\t\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\",\n\n\t\t\"\t\t\t#ifdef USE_SHADOWMAP\",\n\t\t\"\t\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\",\n\t\t\"\t\t\t#endif\",\n\n\t\t\"\t\t\tRE_Direct( directLight, geometry, material, reflectedLight );\",\n\n\t\t\"\t\t\t#if defined( TRANSLUCENT ) && defined( USE_UV )\",\n\t\t\"\t\t\tRE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\",\n\t\t\"\t\t\t#endif\",\n\t\t\"\t\t}\",\n\t\t\"\t\t#pragma unroll_loop_end\",\n\n\t\t\"\t#endif\",\n\n\t\t\"\t#if defined( RE_IndirectDiffuse )\",\n\n\t\t\"\t\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\",\n\n\t\t\"\t\t#if ( NUM_HEMI_LIGHTS > 0 )\",\n\n\t\t\"\t\t\t#pragma unroll_loop_start\",\n\t\t\"\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\",\n\n\t\t\"\t\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\",\n\n\t\t\"\t\t\t}\",\n\t\t\"\t\t\t#pragma unroll_loop_end\",\n\n\t\t\"\t\t#endif\",\n\n\t\t\"\t#endif\",\n\n\t\t\"\t#if defined( RE_IndirectSpecular )\",\n\n\t\t\"\t\tvec3 radiance = vec3( 0.0 );\",\n\t\t\"\t\tvec3 clearcoatRadiance = vec3( 0.0 );\",\n\n\t\t\"\t#endif\",\n\t\tTHREE.ShaderChunk[ \"lights_fragment_end\" ],\n\n\t\t\"\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\",\n\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\t// TODO, this should be pre-multiplied to allow for bright highlights on very transparent objects\n\n\t\tTHREE.ShaderChunk[ \"encodings_fragment\" ],\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n};\n\nexport default TranslucentShader;","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport TranslucentShader from './CustomShader';\nimport pathToModel from '../../assets/models/garden.glb';\nimport texture1 from '../../assets/img/textures/caustic.png';\nimport texture2 from '../../assets/img/textures/bump.jpg';\nimport texture3 from '../../assets/img/textures/decal.png';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n        this.startTime = Date.now();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/031b26-cc2936-ebbab9-388697-b5ffe1');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[3], 50, 180);\n        this.loader = new THREE.TextureLoader();\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupGlobalUniforms();\n        this.setupPoints();\n        this.setupGeometry();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 10;\n        let FAR_PLANE = 5000;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(0, 0, 1500);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let light = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[4], 1);\n        light.position.set(0, 0.5, -1);\n        this.scene.add(light);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[2], 3);\n        this.scene.add(dirLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotateSpeed = .2;\n        this.controls.autoRotate = true;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 5000;\n        this.controls.minDistance = 1000;\n        //this.controls.addEventListener('change', this.update.bind(this));\n    };\n\n    setupGlobalUniforms() {\n        let texture = this.loader.load(texture3);\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n        this.uniforms = {\n            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time: { value: 0 },\n            u_color0: { value: new THREE.Color(this.colourArr[2]) },\n            u_color1: { value: new THREE.Color(this.colourArr[4]) },\n            u_texture1: { value: texture }\n        };\n    }\n\n    setupShaderOneMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    gl_FragColor=vec4(col, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupShaderTwoMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                float voronoi(vec2 pos) \n                {\n                    vec2 p = floor(pos);\n                    vec2 f = fract(pos);\n\n                    float dist = 8.0; //dist = distance to closest feature point\n                    for(int j=-1; j<=1; j++) \n                    {\n                        for(int i=-1; i<=1; i++) \n                        {\n                            vec2 lat = vec2(i, j); //lst = lattice point\n                            vec2  r = vec2(lat) - f + rand(p + lat);\n                            float d = dot(r, r); //d = current distance \n                            dist = min(dist, d);\n                        }\n                    }\n                    return sqrt(dist);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * 2.0 - 1.; //(gl_FragCoord.xy/u_resolution);\n                    pos.x *= u_resolution.x / u_resolution.y;\n\n                    float cell_size = sin(pos.y + u_time); //changing cells\n                    float offset = voronoi(pos * cell_size - vec2(u_time * 0.5));\n                    //main line: generates floating circles\n                    float r = voronoi(pos + sin(pos.y + u_time));\n                    float g = voronoi(pos) * cell_size + u_time;\n                    \n                    gl_FragColor = vec4(r*2.0, 1.-offset, 1.0 - r, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupTranslucentShader() {\n        let imgTexture = this.loader.load(texture1);\n        let thicknessTexture = this.loader.load(texture2);\n        imgTexture.wrapS = imgTexture.wrapT = THREE.RepeatWrapping;\n\n        let shader = TranslucentShader;\n        let uniforms = THREE.UniformsUtils.clone(shader.uniforms);\n        uniforms['map'].value = imgTexture;\n        uniforms['diffuse'].value = new THREE.Vector3(1.0, 0.2, 0.2);\n        uniforms['shininess'].value = 500;\n\n        uniforms['thicknessMap'].value = thicknessTexture;\n        uniforms['thicknessColor'].value = new THREE.Vector3(0.1, 0.3, 0.0);\n        uniforms['thicknessDistortion'].value = 0.1;\n        uniforms['thicknessAmbient'].value = 0.4;\n        uniforms['thicknessAttenuation'].value = 0.8;\n        uniforms['thicknessPower'].value = 2.0;\n        uniforms['thicknessScale'].value = 16.0;\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n            lights: true\n        });\n        material.extensions.derivatives = true;\n        return material;\n    }\n\n    loadModels() {\n        let material = this.setupShaderOneMaterial();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.position.set(10, -100, 50);\n            this.root.traverse(node => {\n                if (node.isMesh) {\n                    node.material = material;\n                    node.scale.x = 0.5;\n                    node.scale.y = 0.5;\n                    node.scale.z = 0.5;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    }\n\n    setupGeometry() {\n        let material = this.setupShaderOneMaterial();\n        let translMaterial = this.setupTranslucentShader();\n        let meshArray = [];\n        let sphereGeo = new THREE.SphereBufferGeometry(100, 32, 32);\n        let group = new THREE.Mesh(sphereGeo, translMaterial);\n        this.scene.add(group);\n\n        let icoGeometry = new THREE.IcosahedronGeometry(90, 1);\n        let cylGeometry = new THREE.CylinderGeometry(1, 20, 1000, 3, 40);\n        cylGeometry.applyMatrix4(new THREE.Matrix4().setPosition(new THREE.Vector3(0, 400, 0)));\n\n        for (let i = 0; i < cylGeometry.vertices.length - 3; i += 3) {\n            //create organic-like spirals\n            let x = Math.sin(i * 0.09) * 40;\n            let z = Math.cos(i * 0.07) * 40;\n\n            //change the values below to shape vertices \n            cylGeometry.vertices[i].x += x;\n            cylGeometry.vertices[i].z += z;\n            cylGeometry.vertices[i + 1].x += x;\n            cylGeometry.vertices[i + 1].z += z;\n            cylGeometry.vertices[i + 2].x += x;\n            cylGeometry.vertices[i + 2].z += z;\n        }\n\n        cylGeometry.applyMatrix4(new THREE.Matrix4()\n            .makeRotationFromEuler(new THREE.Euler(-Math.PI * 0.5, 0, 0)));\n\n        for (let i = 0; i < icoGeometry.vertices.length; i++) {\n            let m = new THREE.Mesh(cylGeometry, material);\n            m.position.set(icoGeometry.vertices[i].x, icoGeometry.vertices[i].y, icoGeometry.vertices[i].z);\n            m.lookAt(this.scene.position);\n            m.rotation.z = Math.random() * Math.PI * 2;\n            meshArray.push(m);\n            group.add(m);\n        }\n    }\n\n    setupPoints() {\n        const radius = 150;\n        const segments = 68;\n        const rings = 38;\n\n        let vertices = new THREE.SphereGeometry(radius, segments, rings).vertices;\n        let length1 = vertices.length;\n        let positions = new Float32Array(vertices.length * 3);\n        let colors = new Float32Array(vertices.length * 3);\n        let sizes = new Float32Array(vertices.length);\n\n        let vertex;\n        let color = new THREE.Color();\n\n        for (let i = 0; i < vertices.length; i++) {\n            vertex = vertices[i];\n            vertex.toArray(positions, i * 3);\n            if (i < length1) {\n                color.setHSL(0.01 + 0.1 * (i / length1), 0.99, (vertex.y + radius) / (4 * radius));\n            }\n            else {\n                color.setHSL(0.6, 0.75, 0.25 + vertex.y / (2 * radius));\n            }\n\n            color.toArray(colors, i * 3);\n            sizes[i] = i < length1 ? 10 : 40;\n        }\n\n        let geometry = new THREE.BufferGeometry();\n        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n        geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));\n        geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vColor;\n                \n                attribute float size;\n                attribute vec3 color;\n                \n                void main()\n                {\n                    vColor = color;\n                \n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    gl_PointSize = size * ( 300.0 / -mvPosition.z );\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n          `,\n            fragmentShader: `\n            varying vec3 vColor;\n\n            uniform float u_time;\n            uniform vec2 u_resolution;\n            uniform vec3 u_color0;\n            uniform sampler2D u_texture1;\n\n            void main()\n            {\n                vec4 color = vec4(u_color0 * vColor, 1.0) * texture2D(u_texture1, gl_PointCoord);\n                gl_FragColor = color;\n            }\n          `,\n            transparent: true\n        });\n\n        let sphere = new THREE.Points(geometry, material);\n        this.scene.add(sphere);\n\n        this.sphere = sphere;\n        this.length1 = length1;\n    }\n\n    sortPoints = function () {\n        let vector = new THREE.Vector3();\n        // Model View Projection matrix\n        let matrix = new THREE.Matrix4();\n        matrix.multiplyMatrices(this.camera.projectionMatrix, this.camera.matrixWorldInverse);\n        matrix.multiply(this.sphere.matrixWorld);\n\n        let geometry = this.sphere.geometry;\n        //console.log(geometry);\n        let index = geometry.getIndex();\n        let positions = geometry.getAttribute('position').array;\n        let length = positions.length / 3;\n        if (index === null) {\n            let array = new Uint16Array(length);\n            for (let i = 0; i < length; i++) {\n                array[i] = i;\n            }\n            index = new THREE.BufferAttribute(array, 1);\n            geometry.setIndex(index);\n        }\n\n        let sortArray = [];\n        for (let i = 0; i < length; i++) {\n            vector.fromArray(positions, i * 3);\n            vector.applyMatrix4(matrix);\n            sortArray.push([vector.z, i]);\n        }\n\n        function numericalSort(a, b) {\n            return b[0] - a[0];\n        }\n\n        sortArray.sort(numericalSort);\n\n        let indices = index.array;\n        for (let i = 0; i < length; i++) {\n            indices[i] = sortArray[i][1];\n        }\n        geometry.index.needsUpdate = true;\n    }\n\n    animatePoints(time) {\n        this.sphere.rotation.y = 0.02 * time;\n        this.sphere.rotation.z = 0.02 * time;\n        let geometry = this.sphere.geometry;\n        let attributes = geometry.attributes;\n        for (let i = 0; i < attributes.size.array.length; i++) {\n            if (i < this.length1) {\n                attributes.size.array[i] = 16 + 12 * Math.sin(0.1 * i + time);\n            }\n        }\n        attributes.size.needsUpdate = true;\n    }\n\n    raycast() {\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        let intersects = this.raycaster.intersectObjects(this.scene.children, true);\n        if (intersects.length > 0) {\n            intersects[0].object.material = this.setupShaderTwoMaterial();\n        }\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    updateSceneSubjects(time) {\n        this.animatePoints(time);\n        this.sortPoints();\n    }\n\n    update() {\n        if (this.disposed) return;\n        // if(this.camera) this.orbitCamera(0.001);\n        if (this.controls) this.controls.update();\n        if (this.uniforms) this.uniforms['u_time'].value = 0.0005 * (Date.now() - this.startTime);\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onClick(e) {\n        this.mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n        this.mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\n        this.raycast();\n        this.update();\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseDown = (e) => {\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onClick(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    }\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n}\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            Sentinel\n            <br />\n            CLICK the tentacles\n        </div>\n    );\n}","import * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { SceneUtils } from 'three/examples/jsm/utils/SceneUtils.js';\n\nimport pathToModel from '../../assets/models/ballerina.glb';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.clock = new THREE.Clock();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupGlobalUniforms();\n        this.setupGeometry();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 500;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-50, 10, 60);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight.position.y = -50;\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.y = -10;\n        pointLight2.position.x = -100;\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.y = -10;\n        pointLight3.position.x = 100;\n        this.scene.add(pointLight3);\n\n        let ambient = new THREE.AmbientLight(this.colourArr[1]);\n        this.scene.add(ambient);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[3], 1);\n        dirLight.position.set(-1, 0.85, 0, 5).normalize();\n        this.scene.add(dirLight);\n    }\n\n    setupGlobalUniforms() {\n        this.uniforms = {\n            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            u_time: { value: 0 },\n            u_move: { value: 1.0 }\n        };\n    }\n\n    setupShaderMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                varying vec3 vNormal;\n                varying vec2 vUv; \n            \n                void main()\n                {\n                    vNormal = normal;\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform float u_time;\n                uniform vec2 u_resolution;\n\n                varying vec2 vUv;\n                varying vec3 vNormal;\n\n                const float fluid_speed = 200.0;\n                const float color_intensity = 0.5;\n\n                float rand(vec2 co)\n                {\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                }\n\n                void main()\n                {\n                    vec2 pos = vUv * (gl_FragCoord.xy/u_resolution);\n\n                    for(int i=1; i<45; i++)\n                    {\n                        vec2 newPos = pos + u_time * 0.02;\n                        newPos.x+=0.6/float(i)*sin(float(i)*pos.y+u_time/fluid_speed+0.3*float(i)) + 0.5;\n                        newPos.y+=0.6/float(i)*sin(float(i)*pos.x+u_time/fluid_speed+0.3*float(i+10)) - 0.5;\n                        pos = newPos;\n                    }\n\n                    vec3 n = vNormal;\n                    vec3 col = vec3(color_intensity * sin(0.5 * pos.x) + n.x, \n                                    color_intensity * sin(pos.x + pos.y),\n                                    color_intensity * sin(1.0 * pos.y) + n.z);\n                    gl_FragColor=vec4(col, 1.0);\n                    //gl_FragColor=vec4(col * vNormal, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels() {\n        let material = this.setupShaderMaterial();\n        const gltfLoader = new GLTFLoader();\n        let sc = 0.5;\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.traverse(node => {\n                if (node.isMesh) {\n                    node.material = material;\n                    node.position.z = -20;\n                    node.position.y = -30;\n                    node.rotation.x = -Math.PI * 0.5;\n                    node.rotation.y = Math.PI * 0.5;\n                    node.scale.x = sc;\n                    node.scale.y = sc;\n                    node.scale.z = sc;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    }\n\n    setupParticleMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                uniform float u_time;\n                uniform float u_move;\n          \n                attribute vec3 offset;\n                attribute vec4 color;\n                attribute vec4 orientation;\n                attribute float time;\n          \n                varying float vRotation;\n                varying vec4 vColor;\n\n                vec3 rotateVectorByQuaternion(vec3 v, vec4 q) \n                {\n                    vec3 dest = vec3( 0.0 );\n                    float x = v.x, y  = v.y, z  = v.z;\n                    float qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n                    // calculate quaternion * vector\n                    float ix =  qw * x + qy * z - qz * y,\n                        iy =  qw * y + qz * x - qx * z,\n                        iz =  qw * z + qx * y - qy * x,\n                        iw = -qx * x - qy * y - qz * z;\n\n                    // calculate result * inverse quaternion\n                    dest.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n                    dest.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n                    dest.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n                    return dest;\n                }\n\n                vec4 axisAngleToQuaternion( vec3 axis, float angle ) \n                {\n                    vec4 dest = vec4( 0.0 );\n                    float halfAngle = angle / 2.0,\n                        s = sin( halfAngle );\n\n                    dest.x = axis.x * s;\n                    dest.y = axis.y * s;\n                    dest.z = axis.z * s;\n                    dest.w = cos( halfAngle );\n\n                    return dest;\n                }\n            \n                void main()\n                {\n                    float localTime = time + u_time;\n                    float modTime = mod(localTime, 1.0);\n\n                    vec3 off = offset;\n                    vec3 vPosition = position * 0.5;\n                    vRotation = u_time * 10.0 + localTime * 20.0 + orientation.w * 100.0;\n                    vec4 qRotation = axisAngleToQuaternion(orientation.xyz, vRotation);\n                    vPosition = rotateVectorByQuaternion(vPosition, qRotation);\n        \n                    off.y += modTime * -2000.0;\n                    off.y -= sin(localTime * 6.0 + (off.x)) * 40.0;\n                    off.z += cos(time * 60.0 + (off.z)) * 100.0;\n                    off.x += sin(time * 120.0 + (off.y*0.01)) * 100.0;\n\n                    if (u_move == 1.0) \n                    {\n                        off.z += modTime*2000.0;\n                    }\n\n                    vColor = color;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(off+vPosition, 1.0);\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying float vRotation;\n                varying vec4 vColor;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor.xyz*abs(sin(vRotation)), 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupGeometry() {\n        this.surfaceArray = [];\n        let plane = new THREE.PlaneGeometry(1000, 1000, 40, 40);\n        for (let i = 0; i < plane.vertices.length; i++) {\n            //how much displacement on z\n            let value = Math.random() * 40 - 10;\n            plane.vertices[i].z = value;\n            this.surfaceArray.push(value);\n        }\n        plane.computeVertexNormals();\n        plane.computeFaceNormals();\n\n        let materials = [\n            new THREE.MeshPhongMaterial({ color: this.colourArr[2], specular: this.colourArr[3], flatShading: true }),\n            new THREE.MeshBasicMaterial({ color: this.colourArr[3], wireframe: true, transparent: true })\n        ];\n\n        this.surface = SceneUtils.createMultiMaterialObject(plane, materials);\n        this.surface.rotation.x = -Math.PI / 2;\n        this.surface.rotation.z = Math.PI;\n        this.surface.position.y = -50;\n        this.scene.add(this.surface);\n\n        this.addSnowParticles();\n        this.plane = plane;\n    }\n\n    addSnowParticles() {\n        let triangles = 1;\n        let instances = 3000;\n        let geometry = new THREE.InstancedBufferGeometry();\n        geometry.maxInstancedCount = instances;\n\n        let vertices = new THREE.BufferAttribute(new Float32Array(triangles * 3 * 3), 3);\n        let size = 6;\n\n        vertices.setXYZ(0, size, -size, 0);\n        vertices.setXYZ(1, -size, size, 0);\n        vertices.setXYZ(2, 0, 0, size);\n        geometry.setAttribute('position', vertices);\n\n        let offsets = new THREE.InstancedBufferAttribute(new Float32Array(instances * 3), 3, false, 1);\n        for (let i = 0, ul = offsets.count; i < ul; i++) {\n            //offsets.setXYZ( i, Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5 );\n            offsets.setXYZ(i, Math.random() * 1000 - 500, 0, Math.random() * 1000 - 500);\n        }\n        geometry.setAttribute('offset', offsets);\n\n        let colors = new THREE.InstancedBufferAttribute(new Float32Array(instances * 4), 4, false, 1);\n        for (let i = 0, ul = colors.count; i < ul; i++) {\n            //colors.setXYZW( i, Math.random(), Math.random(), Math.random(), Math.random() );\n            colors.setXYZW(i, 1, 1, 1, 1);\n        }\n        geometry.setAttribute('color', colors);\n\n        let vector = new THREE.Vector4();\n        let orientations = new THREE.InstancedBufferAttribute(new Float32Array(instances * 4), 4, false, 1);\n        for (let i = 0, ul = orientations.count; i < ul; i++) {\n            vector.set(Math.random() * 2 - 1, Math.random() * 2 - 1, Math.random() * 2 - 1, Math.random() * 2 - 1);\n            vector.normalize();\n            orientations.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n        }\n        geometry.setAttribute('orientation', orientations);\n\n        let times = new THREE.InstancedBufferAttribute(new Float32Array(instances * 1), 1, false, 1);\n\n        for (let i = 0, ul = times.count; i < ul; i++) {\n            times.setX(i, Math.random());\n        }\n        geometry.setAttribute('time', times);\n\n        let partMaterial = this.setupParticleMaterial();\n        let snowparticles = new THREE.Mesh(geometry, partMaterial);\n        snowparticles.position.y = 950;\n        snowparticles.position.z = 500;\n        snowparticles.rotation.y = Math.PI;\n        snowparticles.frustumCulled = false;\n        this.scene.add(snowparticles);\n    }\n\n    orbitCamera(rotSpeed) {\n        this.camera.position.x += Math.sin(rotSpeed * 0.0003);\n        this.camera.position.z += Math.cos(rotSpeed * 0.0003);\n        this.camera.position.y += Math.cos(rotSpeed * 0.0003);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n        this.camera.up.z += Math.sin(rotSpeed * 0.0001);\n        this.camera.up.x += Math.cos(rotSpeed * 0.0001);\n    }\n\n    updateSceneSubjects(time) {\n        for (let i = 0; i < this.plane.vertices.length; i++) {\n            this.plane.vertices[i].z = Math.sin((time / 200) + (this.plane.vertices[i].x) / 50 - i) * (this.surfaceArray[i] + Math.cos(time));\n        }\n\n        this.plane.verticesNeedUpdate = true;\n        this.plane.computeFaceNormals();\n        this.plane.normalsNeedUpdate = true;\n\n        this.surface.position.z -= time * 2;\n        if (this.surface.position.z < -1300) this.surface.position.z += 1800;\n    }\n\n    update() {\n        if (this.disposed) return;\n        let delta = this.clock.getDelta();\n\n        if (isNaN(delta) || delta > 1000 || delta === 0) {\n            delta = 1000 / 60;\n        }\n        //if(this.camera) this.orbitCamera(0.001);\n        if (this.uniforms) this.uniforms['u_time'].value += 0.01 * delta;\n        this.updateSceneSubjects(delta);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element} />\n        );\n    }\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport img1 from '../../assets/img/skybox/ft.jpg';\nimport img2 from '../../assets/img/skybox/bk.jpg';\nimport img3 from '../../assets/img/skybox/up.jpg';\nimport img4 from '../../assets/img/skybox/dn.jpg';\nimport img5 from '../../assets/img/skybox/rt.jpg';\nimport img6 from '../../assets/img/skybox/lf.jpg';\n\nimport partTexture from '../../assets/img/textures/spark.png';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    };\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.createSkyboxFromTexture();\n        this.setupGlobalUniforms();\n        this.setupGeometry();\n        this.setupParticles();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 60;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(0.01, 0, 0.3);\n    }\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight.position.y = -0.1;\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.y = -1;\n        pointLight2.position.x = -0.5;\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.y = -1;\n        pointLight3.position.x = 0.5;\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[4], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = .025;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 0.5;\n        this.controls.minDistance = 0.01;\n    }\n\n    setupGlobalUniforms() {\n        let texLoader = new THREE.TextureLoader();\n        let particleMap = texLoader.load(partTexture);\n        this.uniforms = {\n            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            uTime: { value: 0 },\n            uTexture0: { value: particleMap }\n        };\n    }\n\n    createSkyboxFromTexture() {\n        let skyboxMatArr = [];\n        let loader = new THREE.TextureLoader();\n        let skyboxTexFront = loader.load(img1);\n        let skyboxTexBack = loader.load(img2);\n        let skyboxTexUp = loader.load(img3);\n        let skyboxTexDown = loader.load(img4);\n        let skyboxTexRight = loader.load(img5);\n        let skyboxTexLeft = loader.load(img6);\n\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexFront }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexBack }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexUp }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexDown }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexRight }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexLeft }));\n\n        let skyboxGeo = new THREE.BoxBufferGeometry(1, 1, 1);\n        skyboxGeo.scale(2, 2, -2);\n\n        let skyboxMesh = new THREE.Mesh(skyboxGeo, skyboxMatArr);\n        this.scene.add(skyboxMesh);\n    }\n\n    setupMirrorMaterial() {\n        this.mirrorSphereCamera = new THREE.CubeCamera(0.01, 100, 512);\n        // mirrorCubeCamera.renderTarget.minFilter = THREE.LinearMipMapLinearFilter;\n        this.scene.add(this.mirrorSphereCamera);\n        let mirrorSphereMaterial = new THREE.MeshBasicMaterial({ envMap: this.mirrorSphereCamera.renderTarget.texture });\n        return mirrorSphereMaterial;\n    }\n\n    updateMirrorMaterial() {\n        this.mirrorSphereCamera.update(this.renderer, this.scene);\n    }\n\n    setupParticleMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                uniform float uTime;\n                attribute float size;\n                varying vec3 vColor;\n            \n                void main()\n                {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\t            gl_PointSize = size * (0.3 / -mvPosition.z); //0.3 = camera position.z\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying vec3 vColor;\n                uniform sampler2D uTexture0;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor, 1.0);\n\t\t            gl_FragColor = gl_FragColor * texture2D(uTexture0, gl_PointCoord);\n                }\n            `,\n            blending: THREE.AdditiveBlending,\n            depthTest: false,\n            transparent: true,\n            vertexColors: true\n        });\n        return material;\n    }\n\n    setupParticles() {\n        //let radius = 10;\n        let particleNum = 300;\n        let buffGeo = new THREE.BufferGeometry();\n        let positions = [];\n        let colors = [];\n        let sizes = [];\n\n        let color = new THREE.Color();\n        for (let i = 0; i < particleNum; i++) {\n            positions.push((Math.random() * 2 - 1)); //* radius); \n            positions.push((Math.random() * 2 - 1));// * radius);\n            positions.push((Math.random() * 2 - 1)); //* radius);\n\n            // color.setHSL(i/particleNum, 1.0, 0.5);\n            color.set(this.colourArr[1]);\n            colors.push(color.r, color.g, color.b);\n\n            sizes.push(40);\n        }\n\n        buffGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\n        buffGeo.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n        buffGeo.setAttribute('size', new THREE.Float32BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));\n\n        let material = this.setupParticleMaterial();\n        let particles = new THREE.Points(buffGeo, material);\n        this.scene.add(particles);\n\n        this.particles = particles;\n        this.buffGeo = buffGeo;\n    }\n\n    updateParticles(time) {\n        this.particles.rotation.z = 0.01 * time;\n        this.particles.position.y -= 0.0001;\n        if (this.particles.position.y < -1.7) this.particles.position.y += 4;\n        let sizes = this.buffGeo.attributes.size.array;\n        for (let i = 0; i < this.particles; i++) {\n            sizes[i] = 10 * (1 + Math.sin(0.1 * i + time));\n        }\n        this.buffGeo.attributes.size.needsUpdate = true;\n    }\n\n    setupGeometry() {\n        let meshes = [];\n        let geo1 = new THREE.IcosahedronBufferGeometry(0.1, 0);\n        let geo2 = new THREE.SphereBufferGeometry(0.1, 32, 32);\n        let mirrorMat = this.setupMirrorMaterial();\n        let mesh1 = new THREE.Mesh(geo1, mirrorMat);\n        let mesh2 = new THREE.Mesh(geo2, mirrorMat);\n\n        for (let i = 0; i < 20; i++) {\n            const xOffset = getRandom(-0.5, 0.5);\n            const yOffset = getRandom(-0.3, 0.5);\n            const zOffset = getRandom(-0.5, 0.5);\n\n            const mesh = Math.random() > 0.5 ? mesh1.clone() : mesh2.clone();\n            mesh.rotation.y = getRandom(0, Math.PI * 2);\n            mesh.position.set(xOffset, yOffset, zOffset);\n            mesh.scaleFactor = getRandom(0.1, 0.9);\n            mesh.scale.multiplyScalar(mesh.scaleFactor);\n            meshes.push(mesh);\n            this.scene.add(mesh);\n        };\n    }\n\n    orbitCamera(rotSpeed) {\n        // let x = this.camera.position.x;\n        // let z = this.camera.position.z;\n\n        // this.camera.position.x += x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        // this.camera.position.z += z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        // this.camera.lookAt(new THREE.Vector3(0,0,0));\n\n        this.camera.position.x += Math.sin(rotSpeed * 0.0003);\n        this.camera.position.z += Math.cos(rotSpeed * 0.0003);\n        this.camera.position.y += Math.cos(rotSpeed * 0.0003);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n        this.camera.up.z += Math.sin(rotSpeed * 0.0001);\n        this.camera.up.x += Math.cos(rotSpeed * 0.0001);\n    }\n\n    updateSceneSubjects(time) {\n        this.updateParticles(time);\n        this.updateMirrorMaterial();\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                // child.material.dispose(); //TODO: fix mistake with this line\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n\nfunction getRandom(min, max) {\n    return Math.random() * (max - min) + min;\n}\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n}\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            SCROLL and DRAG to look around\n        </div>\n    );\n}","import * as THREE from 'three';\nimport texturePath from '../../assets/img/textures/grid.jpg';\n\nexport default class Terrain\n{\n    constructor(scene, color)\n    {\n        this.scene = scene;\n        this.color = color;\n        this.size = new THREE.Vector2(10, 10);\n        // this.setup();\n    }\n\n    setup()\n    {\n        let texLoader = new THREE.TextureLoader();\n        let groundMap = texLoader.load(texturePath, (tex) =>\n        {\n            tex.wrapS = THREE.RepeatWrapping;\n            tex.wrapT = THREE.RepeatWrapping;\n            let repeatCount = 10;\n            tex.repeat.set(repeatCount, repeatCount);\n            tex.offset.set(0.5, 0.5);\n            tex.anisotropy = 16; \n            //tex.minFilter = THREE.LinearMipmapNearestFilter;\n        }); \n        \n        let groundPlane = new THREE.Mesh(new THREE.PlaneBufferGeometry(this.size.x, this.size.y), new THREE.MeshStandardMaterial({\n            color: this.color,\n            map: groundMap,\n            bumpMap: groundMap,\n            bumpScale: 0.005,\n            metalness: 0.01,\n            roughness: 0\n        }));\n\n        groundPlane.receiveShadow = true;\n        groundPlane.position.y = -2;\n        groundPlane.quaternion.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2);\n        this.scene.add(groundPlane);\n    };\n\n    getSize()\n    {\n        return this.size.x;\n    };\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport img1 from '../../assets/img/skybox/interstellar_ft.png';\nimport img2 from '../../assets/img/skybox/interstellar_bk.png';\nimport img3 from '../../assets/img/skybox/interstellar_up.png';\nimport img4 from '../../assets/img/skybox/interstellar_dn.png';\nimport img5 from '../../assets/img/skybox/interstellar_rt.png';\nimport img6 from '../../assets/img/skybox/interstellar_lf.png';\n\nimport partTexture from '../../assets/img/textures/spark.png';\nimport Terrain from './Terrain';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/0a191f-dad2d8-0f8b8d-ec9a29-a8201a');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[2], 1, 9);\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupTerrain();\n        this.createSkyboxFromTexture();\n        this.setupGlobalUniforms();\n        this.setupGeometry();\n        this.setupParticles();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 60;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.01;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(0.01, 0, 1);\n    }\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight.position.set(2.5, 0.2, 2.5);\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.set(-2.5, 0, -2.5);\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.set(0.5, -0.2, 0);\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[4], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.5;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 4;\n        this.controls.minDistance = 0.01;\n    }\n\n    setupTerrain() {\n        let terrain = new Terrain(this.scene, this.colourArr[1]);\n        terrain.setup();\n    }\n\n    setupGlobalUniforms() {\n        let texLoader = new THREE.TextureLoader();\n        let particleMap = texLoader.load(partTexture);\n        this.uniforms = {\n            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            uTime: { value: 0 },\n            uTexture0: { value: particleMap }\n        };\n    }\n\n    createSkyboxFromTexture() {\n        let skyboxMatArr = [];\n        let loader = new THREE.TextureLoader();\n        let skyboxTexFront = loader.load(img1);\n        let skyboxTexBack = loader.load(img2);\n        let skyboxTexUp = loader.load(img3);\n        let skyboxTexDown = loader.load(img4);\n        let skyboxTexRight = loader.load(img5);\n        let skyboxTexLeft = loader.load(img6);\n\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexFront }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexBack }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexUp }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexDown }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexRight }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ map: skyboxTexLeft }));\n\n        let skyboxGeo = new THREE.BoxBufferGeometry(1, 1, 1);\n        skyboxGeo.scale(10, 10, -10);\n\n        let skyboxMesh = new THREE.Mesh(skyboxGeo, skyboxMatArr);\n        this.scene.add(skyboxMesh);\n    }\n\n    setupMirrorMaterial() {\n        // let cubeRenderTarget = new THREE.WebGLCubeRenderTarget( 256, { format: THREE.RGBFormat, generateMipmaps: true } );\n        // this.mirrorSphereCamera = new THREE.CubeCamera(0.01, 100, cubeRenderTarget);\n        this.mirrorSphereCamera = new THREE.CubeCamera(0.01, 100, 512);\n        // mirrorCubeCamera.renderTarget.minFilter = THREE.LinearMipMapLinearFilter;\n        this.scene.add(this.mirrorSphereCamera);\n        let mirrorSphereMaterial = new THREE.MeshBasicMaterial({ envMap: this.mirrorSphereCamera.renderTarget });\n        return mirrorSphereMaterial;\n    }\n\n    updateMirrorMaterial() {\n        this.mirrorSphereCamera.update(this.renderer, this.scene);\n    }\n\n    setupParticleMaterial() {\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                uniform float uTime;\n                attribute float size;\n                varying vec3 vColor;\n            \n                void main()\n                {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\t            gl_PointSize = size * (0.3 / -mvPosition.z); //0.3 = camera position.z\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying vec3 vColor;\n                uniform sampler2D uTexture0;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor, 1.0);\n\t\t            gl_FragColor = gl_FragColor * texture2D(uTexture0, gl_PointCoord);\n                }\n            `,\n            blending: THREE.AdditiveBlending,\n            depthTest: false,\n            transparent: true,\n            vertexColors: true\n        });\n        return material;\n    }\n\n    setupParticles() {\n        //let radius = 10;\n        let particleNum = 300;\n        let buffGeo = new THREE.BufferGeometry();\n        let positions = [];\n        let colors = [];\n        let sizes = [];\n\n        let color = new THREE.Color();\n        for (let i = 0; i < particleNum; i++) {\n            positions.push((Math.random() * 2 - 1)); //* radius); \n            positions.push((Math.random() * 2 - 1));// * radius);\n            positions.push((Math.random() * 2 - 1)); //* radius);\n\n            // color.setHSL(i/particleNum, 1.0, 0.5);\n            color.set(this.colourArr[1]);\n            colors.push(color.r, color.g, color.b);\n\n            sizes.push(40);\n        }\n\n        buffGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\n        buffGeo.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n        buffGeo.setAttribute('size', new THREE.Float32BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));\n\n        let material = this.setupParticleMaterial();\n        let particles = new THREE.Points(buffGeo, material);\n        this.scene.add(particles);\n\n        this.particles = particles;\n        this.buffGeo = buffGeo;\n    }\n\n    updateParticles(time) {\n        this.particles.rotation.z = 0.01 * time;\n        this.particles.position.y -= 0.0001;\n        if (this.particles.position.y < -1.7) this.particles.position.y += 4;\n        let sizes = this.buffGeo.attributes.size.array;\n        for (let i = 0; i < this.particles; i++) {\n            sizes[i] = 10 * (1 + Math.sin(0.1 * i + time));\n        }\n        this.buffGeo.attributes.size.needsUpdate = true;\n    }\n\n    setupGeometry() {\n        this.meshesArr = [];\n        let geo1 = new THREE.IcosahedronBufferGeometry(0.1, 0);\n        let geo2 = new THREE.SphereBufferGeometry(0.1, 32, 32);\n        let mirrorMat = this.setupMirrorMaterial();\n        let mesh1 = new THREE.Mesh(geo1, mirrorMat);\n        let mesh2 = new THREE.Mesh(geo2, mirrorMat);\n\n        for (let i = 0; i < 100; i++) {\n            const xOffset = getRandom(-3, 3);\n            const yOffset = getRandom(-0.3, 0.9);\n            const zOffset = getRandom(-3, 3);\n\n            const mesh = Math.random() > 0.5 ? mesh1.clone() : mesh2.clone();\n            mesh.rotation.y = getRandom(0, Math.PI * 2);\n            mesh.position.set(xOffset, yOffset, zOffset);\n            mesh.scaleFactor = getRandom(0.1, 1.9);\n            mesh.scale.multiplyScalar(mesh.scaleFactor);\n            this.meshesArr.push(mesh);\n            this.scene.add(mesh);\n        };\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x += x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z += z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    updateSceneSubjects(time) {\n        this.updateParticles(time);\n        this.updateMirrorMaterial();\n\n        for (let i = 0; i < this.meshesArr.length; i++) {\n            this.meshesArr[i].rotation.y += 0.005;\n        }\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                // child.material.dispose(); //TODO: fix mistake with this line\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    };\n}\n\nfunction getRandom(min, max) {\n    return Math.random() * (max - min) + min;\n}\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n}\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            SCROLL and DRAG to look around\n        </div>\n    );\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport partTexture from '../../assets/img/textures/spark.png';\nimport pathToModel from '../../assets/models/threeBone.glb';\nimport texturePath from '../../assets/img/textures/grid.jpg';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/fcecc9-fcb0b3-f93943-7eb2dd-445e93'); //('https://coolors.co/d5573b-885053-777da7-94c9a9-c6ecae');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[4];\n        this.scene.fog = new THREE.Fog(this.colourArr[4], 50, 200);\n\n        this.isCamOrbit = false;\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n\n        this.createSkyboxFromTexture();\n        this.loadModels();\n        this.setupGlobalUniforms();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 60;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 1000;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-0.1, 10, 80);\n    }\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight.position.set(2.5, 10, 2.5);\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.set(-2.5, 0, -2.5);\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.set(0.5, -0.2, 0);\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[4], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        if (!this.isCamOrbit) this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.25;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 100;\n        this.controls.minDistance = 1;\n    }\n\n    setupGlobalUniforms() {\n        let texLoader = new THREE.TextureLoader();\n        let particleMap = texLoader.load(partTexture);\n        this.uniforms = {\n            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            uTime: { value: 0 },\n            uTexture0: { value: particleMap }\n        };\n    }\n\n    createSkyboxFromTexture() {\n        let skyboxMatArr = [];\n        let loader = new THREE.TextureLoader();\n        let grid = loader.load(texturePath);\n\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[0], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[2], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[3], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[4], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[2], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[1], map: grid }));\n\n        let skyboxGeo = new THREE.BoxBufferGeometry(1, 1, 1);\n        skyboxGeo.scale(100, 100, -100);\n\n        let skyboxMesh = new THREE.Mesh(skyboxGeo, skyboxMatArr);\n        this.scene.add(skyboxMesh);\n    }\n\n    setupMirrorMaterial() {\n        this.mirrorSphereCamera = new THREE.CubeCamera(0.01, 100, 512);\n        // mirrorCubeCamera.renderTarget.minFilter = THREE.LinearMipMapLinearFilter;\n        this.scene.add(this.mirrorSphereCamera);\n        let mirrorSphereMaterial = new THREE.MeshBasicMaterial({ envMap: this.mirrorSphereCamera.renderTarget.texture });\n        return mirrorSphereMaterial;\n    }\n\n    updateMirrorMaterial() {\n        this.mirrorSphereCamera.update(this.renderer, this.scene);\n    };\n\n    loadModels() {\n        let gltfLoader = new GLTFLoader();\n        let material = this.setupMirrorMaterial();\n        gltfLoader.load(pathToModel,\n            (gltf) => {\n                gltf.scene.scale.set(1, 1, 1);\n                gltf.scene.position.set(0, 40, 50);\n                gltf.scene.traverse(child => {\n                    if (child.isMesh) {\n                        // child.castShadow = true;\n                        // child.receiveShadow = true;\n                        // child.material.metalness = 0;\n                        child.material = material;\n                    }\n                });\n                this.scene.add(gltf.scene);\n            });\n        console.log('Loading Complete!');\n    }\n\n    orbitCamera(time) {\n        //glitch for Stan's video\n        // let x = this.camera.position.x;\n        // let z = this.camera.position.z;\n        // this.camera.position.x = x * Math.cos(time);\n        // this.camera.position.z = z * Math.sin(time);\n        // this.camera.lookAt(new THREE.Vector3(0,0,0));\n\n        let factor = 30;\n        this.camera.position.x = 20 + factor * Math.cos(time);\n        this.camera.position.z = 10 + factor * Math.sin(time);\n        this.camera.position.y = 40 + factor * Math.sin(time);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    updateSceneSubjects(time) {\n        this.updateMirrorMaterial();\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        if (this.isCamOrbit) this.orbitCamera(Date.now() * 0.001);\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onKeyDown(e) {\n        this.isCamOrbit = true;\n    }\n\n    onKeyUp(e) {\n        this.isCamOrbit = false;\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                // child.material.dispose(); //TODO: fix mistake with this line\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n} ","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"keydown\", this.onDocumentKeyDown);\n        document.removeEventListener(\"keyup\", this.onDocumentKeyUp);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"keydown\", this.onDocumentKeyDown, false);\n        document.addEventListener(\"keyup\", this.onDocumentKeyUp, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentKeyDown = (e) => {\n        e.preventDefault();\n        switch (e.keyCode) {\n            case 32: // space\n                if (this.sceneController) this.sceneController.onKeyDown(e);\n                break;\n            default:\n        }\n    };\n\n    onDocumentKeyUp = (e) => {\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onKeyUp(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            Model is by <a id=\"designer\" href=\"https://sketchfab.com/Evanpachon\">Evan Pachon</a>\n            <br />\n            Hold SPACE to toggle the dance.\n        </div>\n    );\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { SceneUtils } from 'three/examples/jsm/utils/SceneUtils.js';\n\nimport pathToModel from '../../assets/models/armfoot.glb';\nimport texturePath from '../../assets/img/textures/randomlySpacedPoints.jpg';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/f8ffe5-06d6a0-1b9aaa-ef476f-ffc43d');//('https://coolors.co/d5573b-885053-777da7-94c9a9-c6ecae');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[2];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 50, 200);\n\n        this.isCamOrbit = false;\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n\n        this.createSkyboxFromTexture();\n        this.setupPlane();\n        this.loadModels();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 90;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 1000;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-0.1, 10, 80);\n    }\n\n    setupLight() {\n        let pointLight3 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight3.position.set(0.5, -0.2, 0);\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[4], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n    };\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        if (!this.isCamOrbit) this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.25;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 120;\n        this.controls.minDistance = 1;\n    }\n\n    setupPlane() {\n        this.surfaceArray = [];\n        let plane = new THREE.PlaneGeometry(100, 100, 40, 40);\n        for (let i = 0; i < plane.vertices.length; i++) {\n            //displacement on z\n            let value = Math.random() * 40 - 10;\n            plane.vertices[i].z = value;\n            this.surfaceArray.push(value);\n        }\n        plane.computeVertexNormals();\n        plane.computeFaceNormals();\n\n        let materials = [\n            new THREE.MeshPhongMaterial({ color: this.colourArr[2], specular: this.colourArr[0], shading: THREE.FlatShading }),\n            new THREE.MeshBasicMaterial({ color: this.colourArr[0], wireframe: true, transparent: true })\n        ];\n\n        this.surface = SceneUtils.createMultiMaterialObject(plane, materials);\n        this.surface.rotation.x = -Math.PI / 2;\n        this.surface.rotation.z = Math.PI;\n        this.surface.position.y = -50;\n        this.scene.add(this.surface);\n    }\n\n    createSkyboxFromTexture() {\n        let skyboxMatArr = [];\n        let loader = new THREE.TextureLoader();\n        let grid = loader.load(texturePath);\n        grid.wrapS = THREE.RepeatWrapping;\n        grid.wrapT = THREE.RepeatWrapping;\n        grid.repeat.set(2, 2);\n        grid.anisotropy = 16;\n\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[2], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[2], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[3], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[0], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[2], map: grid }));\n        skyboxMatArr.push(new THREE.MeshBasicMaterial({ color: this.colourArr[1], map: grid }));\n\n        let skyboxGeo = new THREE.BoxBufferGeometry(1, 1, 1);\n        skyboxGeo.scale(100, 100, -100);\n\n        let skyboxMesh = new THREE.Mesh(skyboxGeo, skyboxMatArr);\n        this.scene.add(skyboxMesh);\n    }\n\n    setupMirrorMaterial() {\n        this.mirrorSphereCamera = new THREE.CubeCamera(0.01, 100, 512);\n        this.scene.add(this.mirrorSphereCamera);\n        let mirrorSphereMaterial = new THREE.MeshBasicMaterial({ envMap: this.mirrorSphereCamera.renderTarget.texture });\n        return mirrorSphereMaterial;\n    }\n\n    updateMirrorMaterial() {\n        this.mirrorSphereCamera.update(this.renderer, this.scene);\n    }\n\n    loadModels() {\n        let gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel,\n            (gltf) => {\n                gltf.scene.scale.set(0.3, 0.3, 0.3);\n                gltf.scene.position.set(0, -9, 30);\n                gltf.scene.rotateZ(Math.PI * 0.1);\n                this.scene.add(gltf.scene);\n            });\n        console.log('Loading Complete!');\n    }\n\n    orbitCamera(time) {\n        //glitch for Stan's video\n        // let x = this.camera.position.x;\n        // let z = this.camera.position.z;\n        // this.camera.position.x = x * Math.cos(time);\n        // this.camera.position.z = z * Math.sin(time);\n        // this.camera.lookAt(new THREE.Vector3(0,0,0));\n\n        let factor = 30;\n        this.camera.position.x = 20 + factor * Math.cos(time);\n        this.camera.position.z = 10 + factor * Math.sin(time);\n        this.camera.position.y = 40 + factor * Math.sin(time);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        if (this.isCamOrbit) this.orbitCamera(Date.now() * 0.001);\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onKeyDown(e) {\n        this.isCamOrbit = true;\n    }\n\n    onKeyUp(e) {\n        this.isCamOrbit = false;\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"keydown\", this.onDocumentKeyDown);\n        document.removeEventListener(\"keyup\", this.onDocumentKeyUp);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"keydown\", this.onDocumentKeyDown, false);\n        document.addEventListener(\"keyup\", this.onDocumentKeyUp, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentKeyDown = (e) => {\n        e.preventDefault();\n        switch (e.keyCode) {\n            case 32: // space\n                if (this.sceneController) this.sceneController.onKeyDown(e);\n                break;\n            default:\n        }\n    };\n\n    onDocumentKeyUp = (e) => {\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onKeyUp(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            Model is by <a id=\"designer\" href=\"https://sketchfab.com/Evanpachon\">Evan Pachon</a>\n            <br />\n            Hold SPACE to look around.\n        </div>\n    );\n}","import * as THREE from 'three';\n\nexport default class Skybox\n{\n    constructor(scene, topColor, bottomColor)\n    {\n        this.scene = scene;\n        this.topColor = topColor;\n        this.bottomColor = bottomColor;\n    }\n\n    setupShaderMaterial()\n    {\n        let uniforms = \n        {\n            \"uTopColor\":     { value: this.topColor },\n\t\t\t\"uBottomColor\":  { value: this.bottomColor },\n\t\t\t\"uOffset\":       { value: 33 },\n\t\t\t\"uExponent\":     { value: 0.6 }\n        };\n\n        let skyMat = new THREE.ShaderMaterial( \n            {\n\t\t\t\tuniforms: uniforms,\n                vertexShader: `\n                varying vec3 vWorldPosition;\n\n                void main() \n                {\n                    vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n                    vWorldPosition = worldPosition.xyz;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n                `,\n                fragmentShader: `\n                uniform vec3 uTopColor;\n                uniform vec3 uBottomColor;\n                uniform float uOffset;\n                uniform float uExponent;\n                varying vec3 vWorldPosition;\n\n                void main() \n                {\n                    float h = normalize( vWorldPosition + uExponent ).y; //horisont\n                    gl_FragColor = vec4( mix( uBottomColor, uTopColor, max( pow( max( h , 0.01), uExponent ), 0.0 ) ), 1.0 );\n                }\n                `,\n\t\t\t\tside: THREE.BackSide\n            } );\n        return skyMat;    \n    };\n\n    createSky()\n    {\n        let skyGeo = new THREE.SphereBufferGeometry(500, 32, 32);\n\t\tlet skyMat = this.setupShaderMaterial();\n\t\tlet sky = new THREE.Mesh(skyGeo, skyMat);\n\t\tthis.scene.add(sky);\n    };\n}","/** TODO: add cam position as uniform gl_PointSize = size * (camPosition.z / -mvPosition.z); */\nimport * as THREE from 'three';\nimport partTexture from '../../assets/img/textures/spark.png';\n\nexport default class Particles\n{\n    constructor(scene, color, particleNum)\n    {\n        this.scene = scene;\n        this.color = color;\n        this.particleNum = particleNum;\n\n        this.createParticles();\n    };\n\n    setupMaterial()\n    {\n        let texLoader = new THREE.TextureLoader();\n        let particleMap = texLoader.load(partTexture);\n        let uniforms = {\n            uTexture0:   { value: particleMap }\n        };\n\n        let material = new THREE.ShaderMaterial( {\n            uniforms : uniforms,\n            vertexShader:   `\n                attribute float size;\n                varying vec3 vColor;\n            \n                void main()\n                {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\t            gl_PointSize = size * (50. / -mvPosition.z); //50. = camera position.z\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying vec3 vColor;\n                uniform sampler2D uTexture0;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor, 1.0);\n\t\t            gl_FragColor = gl_FragColor * texture2D(uTexture0, gl_PointCoord);\n                }\n            `,\n            blending: THREE.AdditiveBlending,\n\t\t\tdepthTest: false,\n\t\t\ttransparent: true,\n\t\t\tvertexColors: true\n        });\n        return material;\n    };\n\n    createParticles()\n    {\n        let radius = 50;\n        let buffGeo = new THREE.BufferGeometry();\n        let positions = [];\n        let colors = [];\n        let sizes = [];\n\n        let color = new THREE.Color();\n        for(let i=0; i<this.particleNum; i++)\n        {\n            positions.push(( Math.random() * 2 - 1 ) * radius); \n            positions.push(( Math.random() * 2 - 1 ) * radius);\n            positions.push(( Math.random() * 2 - 1 ) * radius);\n\n            // color.setHSL(i/this.particleNum, 1.0, 0.5);\n            color.set(this.color);\n            colors.push(color.r, color.g, color.b);\n            sizes.push(40);\n        }\n\n        buffGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\n        buffGeo.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n        buffGeo.setAttribute('size', new THREE.Float32BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));\n\n        let material = this.setupMaterial();\n        let particles = new THREE.Points(buffGeo, material);\n        this.scene.add(particles);\n        \n        this.particles = particles;\n        this.buffGeo = buffGeo;\n    };\n\n    update(time)\n    {\n        this.particles.rotation.z = 0.01 * time;\n        let sizes = this.buffGeo.attributes.size.array;\n        for (let i=0; i<this.particles; i++) \n        {\n            console.log(this.particles);\n            sizes[i] = 10 * (1 + Math.sin( 0.1 * i + time));\n\t\t}\n\t\tthis.buffGeo.attributes.size.needsUpdate = true;\n    };\n}\n\n    \n\n    ","/**\n * TODO: \n * - add onloadscreen\n */\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport Skybox from './Skybox';\nimport pathToModel1 from '../../assets/models/floating_island.glb';\nimport pathToModel2 from '../../assets/models/baby.glb';\nimport pathToTex1 from '../../assets/img/textures/glow.png';\nimport pathToTex2 from '../../assets/img/textures/bump.jpg';\nimport Particles from \"./Particles\";\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.clock = new THREE.Clock();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/eeeeff-7f7caf-9fb4c7-28587b-9fb798');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.isDisposed = false;\n        this.loader = new THREE.TextureLoader();\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.createSky();\n        this.loadModels();\n        this.setupGeometry();\n        this.setupParticles();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 1000;\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(-13, 8, -94);\n        this.camera.position.set(-59, 11, 79);\n    }\n\n    setupLight() {\n        const hemiLight = new THREE.HemisphereLight(this.colourArr[0], this.colourArr[1], 2);\n        hemiLight.position.set(0, 50, 0);\n        this.scene.add(hemiLight);\n\n        let pointLight = new THREE.PointLight(this.colourArr[3], 1.8);\n        pointLight.position.set(2.5, 10, 2.5);\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[3], 1.8);\n        pointLight2.position.set(-2.5, 0, -2.5);\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[3], 0.8);\n        pointLight3.position.set(0.5, -0.2, 0);\n        this.scene.add(pointLight3);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.5;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 200;\n        this.controls.minDistance = 100;\n    }\n\n    createSky() {\n        let sky = new Skybox(this.scene, this.colourArr[1], this.colourArr[4]);\n        sky.createSky();\n    }\n\n    setupGlowMaterial(mesh) {   //from https://stemkoski.github.io/Three.js/Simple-Glow.html\n        let spriteTexture = this.loader.load(pathToTex1);\n        let spriteMaterial = new THREE.SpriteMaterial(\n            {\n                map: spriteTexture,\n                color: this.colourArr[4],\n                transparent: false,\n                blending: THREE.SubtractiveBlending\n            });\n        let sprite = new THREE.Sprite(spriteMaterial);\n        sprite.scale.set(20, 20, 20);\n        sprite.position.set(-2, 0, 0);\n        mesh.add(sprite); // this centers the glow at the mesh\n    }\n\n    setupMaterialOne() {\n        let map = this.loader.load(pathToTex2);\n        let material = new THREE.MeshPhongMaterial({\n            color: this.colourArr[1], //0x00FFFF // 0x5b8a7b\n            specular: 0x636945,\n            shininess: 20,\n            bumpMap: map,\n            bumpScale: 3\n        });\n        return material;\n    }\n\n    setupMaterialTwo() {\n        let material = new THREE.MeshPhongMaterial({\n            color: this.colourArr[0],\n            specular: 0x222222,\n            shininess: 50,\n            wireframe: true\n        });\n        return material;\n    }\n\n    loadModels() {\n        let material1 = this.setupMaterialOne();\n        let group = new THREE.Group();\n        this.scene.add(group);\n        group.position.set(0, -6, 0);\n\n        let model1 = null;\n        let model2 = null;\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel1, (gltf) => {\n            model1 = gltf.scene;\n            model1.scale.multiplyScalar(2);\n            // this.setupGlowMaterial(model1);\n            group.add(model1);\n\n            model1.traverse((node) => {\n                if (node.isMesh) {\n                    node.material = material1;\n                    node.castShadow = true;\n                    node.receiveShadow = true;\n                }\n            });\n        });\n\n        gltfLoader.load(pathToModel2, (gltf) => {\n            model2 = gltf.scene;\n            model2.position.set(-5, 20, 0);\n            model2.rotateZ(Math.PI * 0.5);\n            model2.rotateY(Math.PI * 0.5);\n            group.add(model2);\n        });\n    }\n\n    scatterRandomGeometry() {\n        this.meshElems = new THREE.Object3D();\n        this.meshElems.position.set(-60, 10, 0);\n        this.scene.add(this.meshElems);\n\n        let elemsNum = 20;\n        let geo = new THREE.IcosahedronBufferGeometry(1, 0);\n        let mesh = new THREE.Mesh(geo, new THREE.MeshStandardMaterial({\n            color: this.colourArr[1],\n            map: this.groundMap,\n            transparent: true,\n            opacity: 0.5\n        }));\n        this.meshElems.add(mesh);\n\n        //spiral \n        let stepAngle = Math.PI * 2 / elemsNum;\n        let xStep = 0.5;\n        let turns = 12;\n        for (let i = 0; i < turns * elemsNum; i++) {\n            let elem = mesh.clone();\n            let angle = stepAngle * i;\n            let dist = 30 + Math.random() * 30; //the distance to the center of the axis\n            let s = 1 + Math.random() * 2;\n\n            elem.position.y = Math.sin(angle) * dist;\n            elem.position.x = xStep * i; //Math.cos(angle)*dist;\n            elem.position.z = Math.cos(angle) * dist;\n\n            elem.rotation.z = angle + Math.PI / 2;\n            elem.scale.set(s, s, s);\n            this.meshElems.add(elem);\n        }\n    }\n\n    scatterRandWireframeGeo() {\n        this.meshElems = new THREE.Object3D();\n        this.scene.add(this.meshElems);\n\n        let elemsNum = 30;\n        let geo = new THREE.IcosahedronBufferGeometry(0.5, 0);\n        let material = this.setupMaterialTwo()\n        let mesh = new THREE.Mesh(geo, material);\n        mesh.position.set(-3, 20, 0);\n        mesh.receiveShadow = true;\n        this.meshElems.add(mesh);\n\n        let stepAngle = Math.PI * 2 / elemsNum;\n        for (let i = 0; i < elemsNum; i++) {\n            let elem = mesh.clone();\n            let angle = stepAngle * i;\n            let dist = 30 + Math.random() * 30; //the distance to the center of the axis\n            let s = 1 + Math.random() * 2;\n\n            elem.position.y = Math.sin(angle) * dist;\n            elem.position.x = Math.cos(angle) * dist;\n            elem.position.z = Math.cos(angle) * dist;\n            elem.rotation.z = angle + Math.PI / 2;\n            elem.scale.set(s, s, s);\n            this.meshElems.add(elem);\n        }\n    }\n\n    setupGeometry() {\n        this.scatterRandWireframeGeo();\n        this.scatterRandomGeometry();\n    }\n\n    setupParticles() {\n        this.particles = new Particles(this.scene, this.colourArr[2], 1000);\n    }\n\n    updateSceneSubjects(time) {\n        for (let i = 0; i < this.meshElems.children.length; i++) {\n            let elem = this.meshElems.children[i];\n            elem.rotation.z += Math.random() * .005; //*(i+1);\n            elem.rotation.y += Math.random() * .02; //*(i+1);\n        };\n        this.particles.update(Date.now() * 0.005);\n    }\n\n    update() {\n        if (this.isDisposed) return;\n        let delta = this.clock.getDelta();\n        if (isNaN(delta) || delta > 1000 || delta === 0) {\n            delta = 1000 / 60;\n        }\n        if (this.controls) this.controls.update();\n        this.updateSceneSubjects(delta);\n        this.renderer.render(this.scene, this.camera);\n        // console.log(this.camera.position);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    dispose() {\n        this.isDisposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n\n\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseDown = (e) => {\n        e.preventDefault();\n        // if(this.sceneController) this.sceneController.onClick(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            For my friends\n            <br />\n            Ulia & Andrew.\n        </div>\n    );\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport gsap from 'gsap';\n\nimport texturePath from '../../assets/img/covers/armfoot.jpg';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/2d3047-bfd5d9-a799b7-c2ac1e-048a81');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.isAnimating = false;\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[2], 10, 100);\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupSubjects();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 500;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(0, 0, 10);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[3], 2);\n        hemiLight.position.set(0, 5, 0);\n        this.scene.add(hemiLight);\n\n        let light1 = new THREE.PointLight(this.colourArr[1], 1);\n        light1.position.set(0, 3, -2);\n        this.scene.add(light1);\n\n        let light2 = new THREE.PointLight(this.colourArr[3], 1);\n        light2.position.set(0, 0, 0);\n        this.scene.add(light2);\n\n        this.light = hemiLight; //used in the shader\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.rotateSpeed = 1.;\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.25;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 200;\n        this.controls.minDistance = 30;\n    }\n\n    createMaterial() {\n        const texture = new THREE.TextureLoader().load(texturePath);\n        //get the matrices from camera\n        this.camera.updateProjectionMatrix();\n        this.camera.updateMatrixWorld();\n        this.camera.updateWorldMatrix();\n        const viewMatrixCamera = this.camera.matrixWorldInverse.clone();\n        const projectionMatrixCamera = this.camera.projectionMatrix.clone();\n        const projPosition = this.camera.position.clone();\n\n        let uniforms = {\n            uTexture0: { value: texture },\n            uViewMatrixCamera: { value: viewMatrixCamera },\n            uProjectionMatrixCamera: { value: projectionMatrixCamera },\n            uProjPosition: { value: projPosition },\n            uColor: { value: this.colourArr[3] },\n            uLightPos: { value: this.light.position },\n            uAmbientCol: { value: this.colourArr[3] },\n            uDiffuseColor: { value: this.colourArr[2] },\n            uSpecColor: { value: this.colourArr[3] }\n        };\n        const material = new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: `\n                uniform mat4 uViewMatrixCamera;\n                uniform mat4 uProjectionMatrixCamera;\n                uniform vec3 uLightPos;\n\n                varying vec4 vWorldPosition;\n                varying vec3 vNormal;\n                varying vec4 vTexCoords;\n                varying vec4 vColor;\n\n                uniform vec3 uAmbientColor;\n                uniform vec3 uDiffuseColor;\n                uniform vec3 uSpecColor;\n                const float shininess = 5.0;\n\n                void main()\n                {\n                    vNormal = mat3(modelMatrix) * normal;\n                    vWorldPosition = modelMatrix * vec4(position, 1.0);\n                    //texture projection\n                    vTexCoords = uProjectionMatrixCamera * uViewMatrixCamera * vWorldPosition;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n                    //compute lighting\n                    vec4 viewPosition = modelViewMatrix * vec4(position, 1.0);\n                    vec3 viewPos = viewPosition.xyz;\n                    vec3 normViewDir = -normalize(viewPos);\n                    vec3 normLightDir = normalize(uLightPos - viewPos);\n                    vec4 ambientLight = vec4(uAmbientColor, 1.0);\n                    //D = L * Mat * dot(Light, Normal) \n                    vec4 diffuseLight = vec4(max(dot(normLightDir, vNormal), 0.0) * uDiffuseColor, 1.0);\n\n                    //S = L * Mat * dot(Reflection,Eye)pow(shininess) \n                    vec3 refl = reflect(-normLightDir, vNormal);\n                    vec4 specularLight = vec4(0.0);\n                    if(dot(normLightDir, normViewDir) > 0.0) \n                    {\n                        specularLight = vec4(pow(min(dot(refl, normViewDir), 0.0), shininess) * uSpecColor, 1.0);\n                    }\n                    vColor = ambientLight + diffuseLight + specularLight;\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n                uniform sampler2D uTexture0;\n                uniform vec3 uProjPosition;\n                uniform vec3 uColor;\n\n                varying vec4 vColor;\n                varying vec3 vNormal;\n                varying vec4 vWorldPosition;\n                varying vec4 vTexCoords;\n\n                void main()\n                {\n                    //transform the position from world space into clip space and to the uv range [0,1]\n                    vec2 uv = (vTexCoords.xy / vTexCoords.w) * 0.5 + 0.5;\n                    vec4 outColor = texture2D(uTexture0, uv);\n                    //don't render the texture on the back of the object\n                    vec3 projectorDirection = normalize(uProjPosition - vWorldPosition.xyz);\n                    float dotProduct = dot(vNormal, projectorDirection);\n                    if(dotProduct < 0.0) outColor = vColor; //vec4(uColor, 1.0)*vColor;\n                    gl_FragColor = outColor;\n                }\n            `,\n        });\n\n        return material;\n    }\n\n    setupSubjects() {\n        const elements = new THREE.Group();\n        const numElem = 500;\n        const material = this.createMaterial();\n        let geo1 = new THREE.BoxBufferGeometry(getRandom(0.1, 0.5));\n        let geo2 = new THREE.TetrahedronBufferGeometry(getRandom(0.1, 1));\n        let mesh1 = new THREE.Mesh(geo1, material);\n        let mesh2 = new THREE.Mesh(geo2, material);\n        for (let i = 0; i < numElem; i++) {\n            const element = Math.random() > 0.5 ? mesh1.clone() : mesh2.clone();\n\n            if (i < numElem * 0.3) {\n                element.position.x = getRandom(-10, 10);\n                element.position.y = getRandom(-10, 10);\n                element.position.z = getRandom(-5.5, 0.5);\n                element.scale.multiplyScalar(3);\n            }\n            else {\n                element.position.x = getRandom(-20.5, 20.5);\n                element.position.y = getRandom(-20, 20);\n                element.position.z = getRandom(-0.5, 0.5);\n            }\n            element.rotation.x = getRandom(0, Math.PI * 2);\n            element.rotation.y = getRandom(0, Math.PI * 2);\n            element.rotation.z = getRandom(0, Math.PI * 2);\n\n            elements.add(element);\n            this.scene.add(elements);\n            this.elements = elements;\n        }\n\n        this.scatterRandomGeometry();\n    }\n\n    scatterRandomGeometry() {\n        const numMeshes = 100;\n        const randMeshes = new THREE.Group();\n        let geo = new THREE.TetrahedronBufferGeometry(1);\n        const material = new THREE.MeshBasicMaterial({ wireframe: true });\n        for (let i = 0; i < numMeshes; i++) {\n            const mesh = new THREE.Mesh(geo, material);\n            mesh.rotation.set(\n                getRandom(0, Math.PI * 2),\n                getRandom(0, Math.PI * 2),\n                getRandom(0, Math.PI * 2));\n            mesh.position.set(\n                getRandom(-20.5, 20.5),\n                getRandom(-20, 20),\n                getRandom(-5, 1.5));\n            mesh.scale.multiplyScalar(getRandom(0.3, 1));\n            randMeshes.add(mesh);\n        }\n        this.scene.add(randMeshes);\n        this.randMeshes = randMeshes;\n    }\n\n    animate(mesh) {\n        this.isAnimating = true;\n        const originalPosX = mesh.position.x;\n        const originalPosY = mesh.position.y;\n        const originalPosZ = mesh.position.z;\n        const easing = 'elastic';\n        let tween = gsap.timeline();\n        tween.to(mesh.position, 10, { x: getRandom(-10, 10), y: getRandom(-10, 10), z: getRandom(0, -50), ease: easing })\n            .to(mesh.position, 10, { x: originalPosX, y: originalPosY, z: originalPosZ, ease: easing });\n        tween.eventCallback(\"onComplete\", () => {\n            this.isAnimating = false;\n        });\n    }\n\n    rotate(mesh, speed) {\n        let tween = gsap\n            .to(mesh.rotation, speed, { y: mesh.rotation.y + Math.PI * 0.5, z: mesh.rotation.z + Math.PI * 0.5 });\n        tween.play();\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onMouseDown(e) {\n        if (this.isDisposed) return;\n        if (this.isAnimating) return;\n        for (let i = 0; i < 200; i++) //this.elements.children.length\n        {\n            //console.log(this.elements.children[i]);\n            this.animate(this.elements.children[i]);\n        }\n        for (let i = 201; i < this.elements.children.length; i++) {\n            this.rotate(this.elements.children[i], 5);\n        }\n\n        for (let i = 0; i < this.randMeshes.children.length; i++) {\n            this.rotate(this.randMeshes.children[i], 10);\n        }\n    }\n\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.material.dispose(); //TODO: fix mistake with this line\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n\nfunction getRandom(min, max) {\n    return Math.random() * (max - min) + min;\n};\n\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseDown = (e) => {\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onMouseDown(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            CLICK to break\n        </div>\n    );\n}","import * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport gsap from 'gsap';\n\nimport pathToModel from '../../assets/models/stylised_character.glb';\nimport pathToTexture from '../../assets/img/textures/theMofGame1.png';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/f8ffe5-06d6a0-1b9aaa-ef476f-ffc43d');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.isAnimating = false;\n\n        //this.scene.background = this.colourArr[4]; \n        this.scene.fog = new THREE.Fog(this.colourArr[0], 10, 100);\n\n        this.setupCamera();\n        this.setupLight();\n        this.loadModels();\n        this.setupControls();\n        this.setupGeometry();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 100\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.z = 40;\n        this.camera.position.y = 20;\n        this.camera.position.x = -20;\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    setupLight() {\n        let light = new THREE.HemisphereLight(this.colourArr[0], this.colourArr[1], 1);\n        light.position.set(0, 0.5, -1);\n        this.scene.add(light);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[0], 3);\n        dirLight.position.set(0, 0.5, 1);\n        this.scene.add(dirLight);\n\n        this.light = dirLight;\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        // this.controls.autoRotateSpeed = .9;\n        // this.controls.autoRotate = true;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 80;\n        this.controls.minDistance = 5;\n        //this.controls.addEventListener('change', this.update.bind(this));\n    }\n\n    setupShaderMaterial() {\n        const texture = new THREE.TextureLoader().load(pathToTexture);\n\n        //get the matrices from camera\n        this.camera.updateProjectionMatrix();\n        this.camera.updateMatrixWorld();\n        this.camera.updateWorldMatrix();\n        const viewMatrixCamera = this.camera.matrixWorldInverse.clone();\n        const projectionMatrixCamera = this.camera.projectionMatrix.clone();\n        let projPosition = this.camera.position;//.clone();\n\n        this.uniforms = {\n            uTexture0: { value: texture },\n            uViewMatrixCamera: { value: viewMatrixCamera },\n            uProjectionMatrixCamera: { value: projectionMatrixCamera },\n            uProjPosition: { value: projPosition },\n            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            uTime: { value: 0 },\n            uLightPos: { value: this.light.position },\n            uAmbientLightColor: { value: this.colourArr[3] },\n            uSpecularColor: { value: this.colourArr[0] },\n            uDiffLightColor: { value: this.colourArr[1] },\n            uStripeSize: { value: 0.9 }\n        };\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                precision mediump float;\n\n                uniform mat4 uViewMatrixCamera;\n                uniform mat4 uProjectionMatrixCamera;\n                uniform vec3 uLightPos;\n                uniform vec3 uAmbientLightColor;\n                uniform vec3 uSpecLightColor;\n                uniform vec3 uDiffLightColor;\n\n                varying vec3 vNormal;\n                varying vec2 vUv; \n                varying vec3 viewDir;\n                varying vec4 vColor;\n                varying vec4 vTexCoords;\n                varying vec4 vWorldPosition;\n\n                const float shininess = 5.0;\n\n                vec4 computeLight(\n                    vec3 uAmbLightCol,\n                    vec3 uDifLightCol,\n                    vec3 uSpecLightCol,\n                    vec3 nViewDir,\n                    vec3 nLightDir,\n                    vec3 norm,\n                    float shin)\n                {\n                    vec4 ambientLight = vec4(uAmbLightCol, 1.0);\n                    vec4 diffuseLight = vec4(max(dot(nLightDir, norm), 0.0) * uDifLightCol, 1.0);\n                    vec3 refl = reflect(-nLightDir, norm);\n                    vec4 specularLight = vec4(uSpecLightCol, 1.0);\n                    if(dot(nLightDir, nViewDir) > 0.0) \n                    {\n                        specularLight = vec4(pow(min(dot(refl, nViewDir), 0.0), shin) * uSpecLightColor, 1.0);\n                    }\n                    vec4 light = ambientLight + diffuseLight + specularLight;\n                    return light;\n                }\n            \n                void main()\n                {\n                    vNormal = normalize(normalMatrix * normal);\n                    //vNormal = normal;\n                    vUv = uv;\n\n                    //custom texture projection (see: vTexCoords modif)\n                    vWorldPosition = modelMatrix * vec4(position, 1.0);\n                    vTexCoords = uProjectionMatrixCamera *  modelViewMatrix * vec4(position, 1.0); //uViewMatrixCamera * vWorldPosition;\n\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n                    //vertex lighting\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.);\n                    vec3 viewPos = -mvPosition.xyz;\n                    vec3 normViewDir = normalize(viewPos);\n                    viewDir = normViewDir;\n                    vec4 lightDir = viewMatrix * vec4(uLightPos, 0.0);\n                    vec3 normLightDir = normalize(lightDir.xyz); //normalize(uLightPos - viewPos);\n                    vColor = computeLight(\n                                        uAmbientLightColor,\n                                        uDiffLightColor,\n                                        uSpecLightColor,\n                                        normViewDir,\n                                        normLightDir,\n                                        vNormal,\n                                        shininess);\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform sampler2D uTexture0;\n                uniform vec3 uProjPosition;\n                uniform float uTime;\n                uniform vec2 uResolution;\n                uniform vec3 uAmbientLightColor;\n                uniform vec3 uDiffLightColor;\n                uniform float uStripeSize;\n\n                varying vec4 vWorldPosition;\n                varying vec4 vTexCoords;\n                varying vec2 vUv;\n                varying vec3 vNormal;\n                varying vec3 viewDir;\n                varying vec4 vColor;\n\n                void main()\n                {\n                    //texture projection\n                    vec2 uv = (vTexCoords.xy / vTexCoords.w) * 0.5 + 0.5;\n                    vec4 outColor = texture2D(uTexture0, uv); //vUv\n                    vec3 projectorDirection = normalize(uProjPosition - vWorldPosition.xyz);\n                    float dotProduct = dot(vNormal, projectorDirection);\n                    if(dotProduct < 0.0) outColor = vColor;\n                    \n                    //regular stuff\n                    vec2 pos = vUv * (gl_FragCoord.xy/uResolution);\n                    vec3 col0 = uAmbientLightColor;\n                    vec3 col1 = uDiffLightColor;\n\n                    //rim lighting\n                    float rim = max(dot(viewDir, vNormal), 0.);\n\n                    //texture proj + rim:\n                    float stripeChange = uStripeSize * sin(uTime);\n                    vec3 emission = fract(pos.y * 10.) > stripeChange ? col0 * rim : col1 * rim; //col0 * rim;\n                    gl_FragColor = vec4(outColor.rgb - emission, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    setupShaderMaterialTwo() {\n        const texture = new THREE.TextureLoader().load(pathToTexture);\n        //texture.anisotropy = 72;\n\n        //get the matrices from camera\n        this.camera.updateProjectionMatrix();\n        this.camera.updateMatrixWorld();\n        this.camera.updateWorldMatrix();\n        const viewMatrixCamera = this.camera.matrixWorldInverse.clone();\n        const projectionMatrixCamera = this.camera.projectionMatrix.clone();\n        let projPosition = this.camera.position;//.clone();\n\n        this.uniforms = {\n            uTexture0: { value: texture },\n            uViewMatrixCamera: { value: viewMatrixCamera },\n            uProjectionMatrixCamera: { value: projectionMatrixCamera },\n            uProjPosition: { value: projPosition },\n            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n            uTime: { value: 0 },\n            uLightPos: { value: this.light.position },\n            uAmbientLightColor: { value: this.colourArr[3] },\n            uSpecularColor: { value: this.colourArr[0] },\n            uDiffLightColor: { value: this.colourArr[1] },\n            uStripeSize: { value: 0.9 }\n        };\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                precision mediump float;\n\n                uniform mat4 uViewMatrixCamera;\n                uniform mat4 uProjectionMatrixCamera;\n\n                varying vec3 vNormal;\n                varying vec2 vUv; \n                varying vec3 vViewDir;\n                varying vec4 vTexCoords;\n                varying vec4 vWorldPosition;\n            \n                void main()\n                {\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.);\n                    vViewDir = -mvPosition.xyz;\n                    vNormal = normalize(normalMatrix * normal);\n                    vUv = uv;\n                    vWorldPosition = modelMatrix * vec4(position, 1.0);\n                    vTexCoords = uProjectionMatrixCamera *  modelViewMatrix * vec4(position, 1.0); //uViewMatrixCamera * vWorldPosition;\n\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }    \n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                uniform sampler2D uTexture0;\n                uniform vec3 uProjPosition;\n                uniform float uTime;\n                uniform vec2 uResolution;\n                uniform vec3 uAmbientLightColor;\n                uniform vec3 uDiffLightColor;\n                uniform vec3 uSpecLightColor;\n                uniform vec3 uLightPos;\n                uniform float uStripeSize;\n\n                varying vec4 vWorldPosition;\n                varying vec4 vTexCoords;\n                varying vec2 vUv;\n                varying vec3 vNormal;\n                varying vec3 vViewDir;\n\n                const float shininess = 5.0;\n\n                vec4 computeLight(\n                    vec3 uAmbLightCol,\n                    vec3 uDifLightCol,\n                    vec3 uSpecLightCol,\n                    vec3 nViewDir,\n                    vec3 nLightDir,\n                    vec3 norm,\n                    float shin)\n                {\n                    vec4 ambientLight = vec4(uAmbLightCol, 1.0);\n                    vec4 diffuseLight = vec4(max(dot(nLightDir, norm), 0.0) * uDifLightCol, 1.0);\n                    vec3 refl = reflect(-nLightDir, norm);\n                    vec4 specularLight = vec4(uSpecLightCol, 1.0);\n                    if(dot(nLightDir, nViewDir) > 0.0) \n                    {\n                        specularLight = vec4(pow(min(dot(refl, nViewDir), 0.0), shin) * uSpecLightColor, 1.0);\n                    }\n                    vec4 light = ambientLight + diffuseLight + specularLight;\n                    return light;\n                }\n\n                void main()\n                {\n                    //light\n                    vec4 lDir = viewMatrix * vec4(uLightPos, 0.0);\n                    vec3 nLightDir = normalize(lDir.xyz);\n                    vec3 nViewDir = normalize(vViewDir);\n                    vec3 n = normalize(vNormal);\n\n                    vec4 light = computeLight(\n                            uAmbientLightColor,\n                            uDiffLightColor,\n                            uSpecLightColor,\n                            nViewDir,\n                            nLightDir,\n                            n,\n                            shininess);\n\n                    //texture projection\n                    vec2 uv = (vTexCoords.xy / vTexCoords.w) * 0.5 + 0.5;\n                    vec4 outColor = texture2D(uTexture0, uv) * light; //vUv\n                    vec3 projectorDirection = normalize(uProjPosition - vWorldPosition.xyz);\n                    float dotProduct = dot(n, projectorDirection);\n                    if(dotProduct < 0.0) outColor = light;\n                    \n                    //regular stuff\n                    vec2 pos = vUv * (gl_FragCoord.xy/uResolution);\n                    vec3 col0 = uAmbientLightColor;\n                    vec3 col1 = uDiffLightColor;\n\n                    //rim lighting\n                    float rim = 0.8 - max(dot(nViewDir, n), 0.);\n\n                    //texture proj + rim:\n                    float stripeChange = uStripeSize * sin(uTime);\n                    vec3 emission = fract(pos.y * 10.) > stripeChange ? col0 * rim : col1 * rim; //col0 * rim;\n                    gl_FragColor = vec4(outColor.rgb - emission, 1.0);\n                }\n            `\n        });\n        return material;\n    }\n\n    loadModels() {\n        let material = this.setupShaderMaterialTwo();\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            this.root = gltf.scene;\n            this.root.scale.set(10, 10, 10);\n            this.root.position.set(0, -10, 0);\n            this.root.traverse(node => {\n                if (node.isMesh) {\n                    node.material = material;\n                }\n            });\n            this.scene.add(this.root);\n        });\n    }\n\n    setupGeometry() {\n        let num = 300;\n        let geometry = new THREE.BoxBufferGeometry(0.05);\n        let geo2 = new THREE.SphereBufferGeometry(getRandom(0.1, 0.5), 32, 32);\n        let material = this.setupShaderMaterialTwo();\n        let material2 = this.setupShaderMaterial();\n        let mesh1 = new THREE.Mesh(geometry, material);\n        let mesh2 = new THREE.Mesh(geo2, material2);\n        this.geoArray = [];\n        for (let i = 0; i < num; i++) {\n            // let mesh1 = new THREE.Mesh(geometry, material);\n            // mesh.position.x = Math.random() * 20 - 5;\n            // mesh.position.y = Math.random() * 20 - 5;\n            // mesh.position.z = Math.random() * 20 - 5;\n            // mesh.scale.x = mesh.scale.y = mesh.scale.z = Math.random() * 2 + 1;\n            // this.geoArray.push(mesh);\n            // this.geoArray.push(mesh2);\n            // this.scene.add(mesh);\n\n            const element = Math.random() > 0.5 ? mesh1.clone() : mesh2.clone();\n            element.position.x = Math.random() * 40 - 20;\n            element.position.y = Math.random() * 40 - 20;\n            element.position.z = Math.random() * 20 - 10;\n            element.scale.x = element.scale.y = element.scale.z = Math.random() * 2 + 1;\n            this.geoArray.push(element);\n            this.scene.add(element);\n        }\n    }\n\n    orbitCamera(rotSpeed) {\n        let x = this.camera.position.x;\n        let z = this.camera.position.z;\n\n        this.camera.position.x = x * Math.cos(rotSpeed) + z * Math.sin(rotSpeed);\n        this.camera.position.z = z * Math.cos(rotSpeed) - x * Math.sin(rotSpeed);\n\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    }\n\n    animate(mesh) {\n        this.isAnimating = true;\n        const originalPosX = mesh.position.x;\n        const originalPosY = mesh.position.y;\n        const originalPosZ = mesh.position.z;\n        const easing = 'elastic';\n        let tween = gsap.timeline();\n        tween.to(mesh.position, 10, { x: getRandom(-20, 20), y: getRandom(-20, 20), z: getRandom(10, -10), ease: easing })\n            .to(mesh.position, 10, { x: originalPosX, y: originalPosY, z: originalPosZ, ease: easing });\n        tween.eventCallback(\"onComplete\", () => {\n            this.isAnimating = false;\n        });\n    }\n\n    rotate(mesh, speed) {\n        let tween = gsap\n            .to(mesh.rotation, speed, { y: mesh.rotation.y + Math.PI * 0.5, z: mesh.rotation.z + Math.PI * 0.5 });\n        tween.play();\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.camera) this.orbitCamera(0.001);\n        if (this.controls) this.controls.update();\n        if (this.uniforms) this.uniforms['uTime'].value += 0.01;\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onMouseDown(e) {\n        if (this.isDisposed) return;\n        if (this.isAnimating) return;\n        for (let i = 0; i < this.geoArray.length; i++) {\n            this.animate(this.geoArray[i]);\n            this.rotate(this.geoArray[i], 10);\n        }\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n    }\n}\n\nconst getRandom = (min, max) => {\n    return Math.random() * (max - min) + min;\n}\n\n\n","/** Three container:\n * <div> below is the container of the canvas;\n * optionally, create a canvas here instead of <div> \n * \n * @ref attribute gets a reference to the div element\n * sketch will run when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseDown = (e) => {\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onMouseDown(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n}\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            CLICK, DRAG, SCROLL\n        </div>\n    );\n}","/** TODO: add cam position as uniform gl_PointSize = size * (camPosition.z / -mvPosition.z); */\nimport * as THREE from 'three';\n\nimport partTexture from '../../assets/img/textures/spark.png';\n\nexport default class Particles {\n    constructor(scene, color, particleNum) {\n        this.scene = scene;\n        this.color = color;\n        this.particleNum = particleNum;\n\n        this.createParticles();\n    };\n\n    setupMaterial() {\n        let texLoader = new THREE.TextureLoader();\n        let particleMap = texLoader.load(partTexture);\n        let uniforms = {\n            uTexture0: { value: particleMap }\n        };\n\n        let material = new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: `\n                attribute float size;\n                varying vec3 vColor;\n            \n                void main()\n                {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\t            gl_PointSize = size * (60. / -mvPosition.z); //50. = camera position.z\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            `,\n            fragmentShader: `\n                precision mediump float;\n\n                varying vec3 vColor;\n                uniform sampler2D uTexture0;\n                \n                void main()\n                {\n                    gl_FragColor = vec4(vColor, 1.0);\n\t\t            gl_FragColor = gl_FragColor * texture2D(uTexture0, gl_PointCoord);\n                }\n            `,\n            blending: THREE.AdditiveBlending,\n            depthTest: false,\n            transparent: true,\n            vertexColors: true\n        });\n        return material;\n    };\n\n    createParticles() {\n        let radius = 20;\n        let buffGeo = new THREE.BufferGeometry();\n        let positions = [];\n        let colors = [];\n        let sizes = [];\n\n        let color = new THREE.Color();\n        for (let i = 0; i < this.particleNum; i++) {\n            positions.push((Math.random() * 2 - 1) * radius);\n            positions.push((Math.random() * 2 - 1) * radius);\n            positions.push((Math.random() * 2 - 1) * radius);\n\n            color.setHSL(i / this.particleNum, 1.0, 0.5);\n            //color.set(this.color);\n            colors.push(color.r, color.g, color.b);\n            sizes.push(40);\n        }\n\n        buffGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\n        buffGeo.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n        buffGeo.setAttribute('size', new THREE.Float32BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));\n\n        let material = this.setupMaterial();\n        let particles = new THREE.Points(buffGeo, material);\n        particles.position.set(0, 30, 0);\n        this.scene.add(particles);\n\n        this.particles = particles;\n        this.buffGeo = buffGeo;\n    };\n\n    update(time) {\n        this.particles.rotation.z = 0.01 * time;\n        this.particles.position.y -= 0.01;\n        if (this.particles.position.y < -30) this.particles.position.y = 30;\n        let sizes = this.buffGeo.attributes.size.array;\n        for (let i = 0; i < this.particles; i++) {\n            console.log(this.particles);\n            sizes[i] = 10 * (1 + Math.sin(0.1 * i + time));\n        }\n        this.buffGeo.attributes.size.needsUpdate = true;\n    };\n}\n\n\n\n","export const data = [\n  {\n    content: \"Hey do you know Rita?\",\n    sprite: {\n      x: 0.7,\n      y: 1.8,\n      z: -0.64\n    },\n    description: {\n      x: 0.7,\n      y: 1.8,\n      z: -0.64\n    }\n  },\n  {\n    content: \"You mean Rita, the 'happy Rita'? Rita, who always smiles, Rita? Rita, who always ready to help, Rita?\",\n    sprite: {\n      x: 0.12,\n      y: 2.08,\n      z: 1.95\n    },\n    description: {\n      x: 0.12,\n      y: 2.08,\n      z: 1.95\n    }\n  },\n  {\n    content: \"Yeah! Sooo... LET'S MAKE HER LAUGH\",\n    sprite: {\n      x: 1.2,\n      y: 2.3,\n      z: -1.2\n    },\n    description: {\n      x: 1.2,\n      y: 2.3,\n      z: -1.2\n    }\n  },\n  {\n    content: \"Sure thing! How?\",\n    sprite: {\n      x: 0.12,\n      y: 1.29,\n      z: 3\n    },\n    description: {\n      x: 0.12,\n      y: 1.29,\n      z: 3\n    }\n  },\n  {\n    content: \"Type on your keyboard: 'RITA LOVES COLOURFUL CLOUDS'\",\n    sprite: {\n      x: 1.8,\n      y: 2.8,\n      z: -1.3\n    },\n    description: {\n      x: 1.8,\n      y: 2.8,\n      z: -1.3\n    }\n  },\n  {\n    content: \"OK! Easy-peasy!\",\n    sprite: {\n      x: 0.12,\n      y: 2.59,\n      z: 3.3\n    },\n    description: {\n      x: 0.12,\n      y: 2.59,\n      z: 3.3\n    }\n  },\n]","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport TWEEN from '@tweenjs/tween.js';\nimport { CSS2DRenderer, CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer';\n\nimport Particles from \"./Particles\";\nimport { data } from './data';\nimport { coloursToArray } from '../../utils';\nimport './index.css';\n\nimport pathToModel from '../../assets/models/christmas.glb';\nimport pathToTexture from '../../assets/img/textures/gray-circle.png';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n        this.cssRenderer = new CSS2DRenderer();\n        this.setupCamera();\n        this.setupControls();\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/f8ffe5-06d6a0-1b9aaa-ef476f-ffc43d');//('https://coolors.co/d5573b-885053-777da7-94c9a9-c6ecae');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.renderer.domElement.style.position = 'absolute';\n        this.domElem.appendChild(this.renderer.domElement);\n        this.cssRenderer.setSize(window.innerWidth, window.innerHeight);\n        this.cssRenderer.domElement.style.position = 'absolute';\n        this.domElem.appendChild(this.cssRenderer.domElement);\n        this.disposed = false;\n        // this.nClouds = 20;\n        this.isFalling = false;\n        this.scene.background = this.colourArr[2];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 5, 50);\n\n        // const axis = new THREE.AxesHelper();\n        // this.scene.add(axis);\n\n        this.blueSnowBall = [];\n        this.yellowSnowBall = [];\n        this.snow = [];\n        this.setupLight();\n        this.loadModels();\n        this.setupCSSSubjects();\n        //this.makeSky();\n\n        this.setupParticles();\n    };\n\n    setupCamera() {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(4.823, 2.0978, 3.3769);\n        this.camera.lookAt(5.445, 1.519, 1.168);\n    };\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[0], 0.2);\n        pointLight.position.set(2.5, 2, 2.5);\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[4], 0.8);\n        pointLight2.position.set(-2.5, 2, -2.5);\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[3], 0.8);\n        pointLight3.position.set(2.5, 2, -2);\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[1], this.colourArr[4], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n    };\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.cssRenderer.domElement);\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.3;\n        this.controls.maxDistance = 20;\n        this.controls.minDistance = 1;\n    }\n\n    setupParticles() {\n        this.particles = new Particles(this.scene, this.colourArr[3], 1000);\n    }\n\n    loadModels() {\n        const gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, (gltf) => {\n            gltf.scene.position.set(0, 0, 0);\n            gltf.scene.traverse(child => {\n                if (child.isMesh) {\n                    child.castShadow = true;\n                    child.receiveShadow = true;\n                    if (child.name === 'Mesh_0') { //blue snowball\n                        this.blueSnowBall.push(child);\n                    }\n                    if (child.name === 'Mesh_32') {\n                        this.snow.push(child);\n                    }\n                    getYellowModel(child, this.yellowSnowBall);\n                }\n            });\n            this.scene.add(gltf.scene);\n            this.model = gltf.scene;\n        });\n    }\n\n    setupCSSSubjects() {\n        const circleTexture = new THREE.TextureLoader().load(pathToTexture);\n        for (let i = 0, l = data.length; i < l; i++) {\n            const element = document.createElement('div');\n            element.className = 'customSprite';\n            element.innerHTML = i;\n            element.addEventListener('click', () => {\n                const details = document.createElement('div');\n                details.className = 'customLabel';\n                details.innerHTML = data[i].content;\n                element.appendChild(details);\n                details.addEventListener('click', () => {\n                    element.className = 'hiddenCustomSprite';\n                })\n            });\n\n            const labelSpriteMaterial = new THREE.SpriteMaterial({\n                map: circleTexture,\n                depthTest: false,\n                depthWrite: false,\n                sizeAttenuation: false\n            });\n            const labelSprite = new THREE.Sprite(labelSpriteMaterial);\n            labelSprite.scale.set(0.07, 0.07, 0.07);\n            labelSprite.userData.id = i;\n            labelSprite.position.copy(data[i].sprite);\n            this.scene.add(labelSprite);\n\n            const objectCSS = new CSS2DObject(element);\n            objectCSS.position.copy(data[i].description);\n            this.scene.add(objectCSS);\n        }\n    }\n\n    // makeCloud() {\n    //     let cloud = new THREE.Object3D();\n    //     this.scene.add(cloud);\n    //     const geo = new THREE.OctahedronBufferGeometry(1);\n    //     const material = new THREE.MeshLambertMaterial({\n    //         color: this.colourArr[3],\n    //         transparent: true,\n    //         opacity: 0.5\n    //     })\n    //     let nBlocks = 3 + Math.floor(Math.random() * 3);\n    //     console.log(nBlocks);\n    //     for (let i = 0; i < nBlocks; i++) {\n    //         const mesh = new THREE.Mesh(geo, material);\n    //         mesh.position.x = i * 0.1;\n    //         mesh.position.y = Math.random();\n    //         mesh.position.z = Math.random();\n    //         mesh.rotation.z = Math.random() * Math.PI * 2;\n    //         mesh.rotation.y = Math.random() * Math.PI * 2;\n    //         const scale = 0.1 + Math.random() * 0.3;\n    //         mesh.scale.set(scale, scale, scale);\n    //         cloud.add(mesh);\n    //     }\n    //     console.log(cloud);\n    //     return cloud;\n    // }\n\n    // makeSky() {\n    //     this.clouds = new THREE.Object3D();\n    //     //this.clouds.rotation.x = Math.PI * 2;\n    //     this.scene.add(this.clouds);\n    //     let step = Math.PI * 2 / this.nClouds;\n    //     for (let i = 0; i < this.nClouds; i++) {\n    //         let c = this.makeCloud();\n    //         let a = step * i; //angle of the cloud\n    //         let h = 7 + Math.random() * 2; //distance between the center of the axis and the cloud itself\n    //         // c.position.y = step * i * h;\n    //         c.position.x = Math.sin(a) * h;\n    //         c.position.y = Math.cos(a) * h;\n    //         c.rotation.z = a + Math.PI / 2;\n\n    //         //position the clouds at random depths\n    //         c.position.z = -4 - Math.random() * 4;\n    //         const s = 1 + Math.random() * 2;\n    //         c.scale.set(s, s, s);\n    //         this.clouds.add(c);\n    //     }\n    // }\n\n    updateSceneSubjects(time) {\n        this.snow.forEach(elem => {\n            elem.rotation.z = 0.01 * time;\n        });\n        if (this.isFalling) this.particles.update(Date.now() * 0.005);\n    }\n\n    goToScene() {\n        let pos;\n        pos = new THREE.Vector3(6.977, 3.035, 7.438);\n        new TWEEN.Tween(this.camera.position)\n            .to({\n                x: pos.x,\n                y: pos.y,\n                z: pos.z\n            }, 1000)\n            .easing(TWEEN.Easing.Cubic.Out)\n            .start()\n    }\n\n    /** target: must have position prop */\n    jump(target) {\n        const initPos = new THREE.Vector3(target.position);\n        new TWEEN.Tween(target.position)\n            .to({\n                x: target.position.x,\n                y: target.position.y + 5,\n                z: target.position.z\n            }, 200)\n            .easing(TWEEN.Easing.Cubic.Out)\n            .start()\n        new TWEEN.Tween(target.position)\n            .to({\n                x: target.position.x,\n                y: target.position.y + 5,\n                z: target.position.z\n            }, 200)\n            .easing(TWEEN.Easing.Cubic.Out)\n            .start()\n            .onComplete(() => {\n                new TWEEN.Tween(target.position)\n                    .to({\n                        x: initPos.x,\n                        y: initPos.y,\n                        z: initPos.z\n                    }, 200)\n                    .easing(TWEEN.Easing.Bounce.Out)\n                    .start()\n            })\n    }\n\n    scatter(target) {\n        const initPos = new THREE.Vector3(target.position);\n        new TWEEN.Tween(target.position)\n            .to({\n                x: target.position.x + 2,\n                y: target.position.y,\n                z: target.position.z + 3\n            }, 200)\n            .easing(TWEEN.Easing.Cubic.Out)\n            .start()\n        new TWEEN.Tween(target.position)\n            .to({\n                x: target.position.x,\n                y: target.position.y + 5,\n                z: target.position.z\n            }, 200)\n            .easing(TWEEN.Easing.Cubic.Out)\n            .start()\n            .onComplete(() => {\n                new TWEEN.Tween(target.position)\n                    .to({\n                        x: initPos.x,\n                        y: initPos.y,\n                        z: initPos.z\n                    }, 200)\n                    .easing(TWEEN.Easing.Cubic.Out)\n                    .start()\n            })\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        if (TWEEN) TWEEN.update();\n        this.updateSceneSubjects(Date.now() * 0.005);\n        this.renderer.render(this.scene, this.camera);\n        this.cssRenderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.cssRenderer.setSize(window.innerWidth, window.innerHeight);\n    };\n\n    onKeyDown(e) {\n        /** dirty hard-coded, keep track manually of the array bounds */\n        switch (e.keyCode) {\n            case 67: // C\n                this.jump(this.yellowSnowBall[11]);\n                break;\n            case 76: // L\n                this.jump(this.blueSnowBall[0]);\n                this.jump(this.yellowSnowBall[1]);\n                break;\n            case 79: // O\n                this.jump(this.yellowSnowBall[1]);\n                break;\n            case 85: // U\n                this.jump(this.yellowSnowBall[2]);\n                this.jump(this.blueSnowBall[0]);\n                break;\n            case 68: // D\n                this.jump(this.yellowSnowBall[3]);\n                this.jump(this.yellowSnowBall[1]);\n                break;\n            case 83: // S\n                this.jump(this.yellowSnowBall[4]);\n                this.jump(this.yellowSnowBall[13]);\n                break;\n            case 70: // F\n                this.jump(this.yellowSnowBall[5]);\n                this.jump(this.yellowSnowBall[1]);\n                break;\n            case 82: // R\n                this.jump(this.yellowSnowBall[6]);\n                this.jump(this.yellowSnowBall[12]);\n                this.isFalling = true;\n                this.controls.autoRotateSpeed = 0.7;\n                break;\n            case 73: // I\n                this.jump(this.yellowSnowBall[7]);\n                this.jump(this.yellowSnowBall[13]);\n                this.jump(this.blueSnowBall[0]);\n                this.goToScene();\n                break;\n            case 84: // T\n                this.jump(this.yellowSnowBall[8]);\n                break;\n            case 65: // A\n                this.jump(this.yellowSnowBall[9]);\n                this.jump(this.yellowSnowBall[1]);\n                break;\n            case 32: // Space\n                this.jump(this.blueSnowBall[0]);\n                this.yellowSnowBall.forEach(element => {\n                    this.scatter(element);\n                });\n                this.snow.forEach(element => {\n                    this.scatter(element);\n                });\n                break;\n            case 89: // Y\n                this.jump(this.yellowSnowBall[9]);\n                this.jump(this.yellowSnowBall[1]);\n                break;\n            default:\n        }\n    };\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        this.domElem.removeChild(this.renderer.domElement);\n    };\n}\n\n/** hard coded helper to pull the meshes from the yellow model */\nconst getYellowModel = (child, model) => {\n    for (let i = 1; i < 15; i++) {\n        if (child.name === `Mesh_${i}`) { //yellow snowball Mesh_1-14\n            model.push(child);\n        }\n    }\n}\n\n\n\n","import React from 'react';\nimport SceneController from './SceneController';\nimport './index.css';\n\nexport default class Home extends React.Component {\n\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"keydown\", this.onDocumentKeyDown);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"keydown\", this.onDocumentKeyDown, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentKeyDown = (e) => {\n        console.log(e.keyCode);\n        e.preventDefault();\n        if (this.sceneController) this.sceneController.onKeyDown(e);\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <>\n                <div className=\"customCanvas\" ref={element => this.threeRootElement = element}>\n                </div>\n                <Text />\n            </>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            Christmas for Rita\n            <br />\n            CLICK the labels\n            <br />one by one\n            <br />\n            <br />\n            Model by <a id=\"designer\" href=\"https://sketchfab.com/tinyruin\">tinyruin</a>\n        </div>\n    );\n}","import { ShaderMaterial, Vector2, AdditiveBlending } from 'three';\n\nexport default class CustomShaderMaterial {\n    constructor(color, texture) {\n        this.color = color;\n        this.texture = texture;\n        this.uniforms = {\n            uTime: { value: 0 },\n            uResolution: { value: new Vector2(window.innerWidth, window.innerHeight) },\n            uColor1: { value: this.color },\n            uTexture: { value: this.texture }\n        }\n        this.extensions = {\n            derivatives: true, // set to use derivatives\n            fragDepth: false, // set to use fragment depth values\n            drawBuffers: false, // set to use draw buffers\n            shaderTextureLOD: false // set to use shader texture LOD\n        };\n    };\n\n    //todo: add light\n    makeMaterial() {\n        const material = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n                \n                vec3 mod7(vec3 x) { return x - floor(x * (1.0 / 7.0)) * 7.0; }   \n\n                vec3 permute(vec3 x) { return mod289((34.0 * x + 1.0) * x); }\n\n                vec2 cellular(vec3 P) \n                {\n                    #define K 0.142857142857 // 1/7\n                    #define Ko 0.428571428571 // 1/2-K/2\n                    #define K2 0.020408163265306 // 1/(7*7)\n                    #define Kz 0.166666666667 // 1/6\n                    #define Kzo 0.416666666667 // 1/2-1/6*2\n                    #define jitter 1.0 // smaller jitter gives more regular pattern\n\n                    vec3 Pi = mod289(floor(P));\n                    vec3 Pf = fract(P) - 0.5;\n\n                    vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n                    vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\n                    vec3 p1 = permute(p + Pi.y - 1.0);\n                    vec3 p2 = permute(p + Pi.y);\n                    vec3 p3 = permute(p + Pi.y + 1.0);\n\n                    vec3 p11 = permute(p1 + Pi.z - 1.0);\n                    vec3 p12 = permute(p1 + Pi.z);\n                    vec3 p13 = permute(p1 + Pi.z + 1.0);\n\n                    vec3 p21 = permute(p2 + Pi.z - 1.0);\n                    vec3 p22 = permute(p2 + Pi.z);\n                    vec3 p23 = permute(p2 + Pi.z + 1.0);\n\n                    vec3 p31 = permute(p3 + Pi.z - 1.0);\n                    vec3 p32 = permute(p3 + Pi.z);\n                    vec3 p33 = permute(p3 + Pi.z + 1.0);\n\n                    vec3 ox11 = fract(p11*K) - Ko;\n                    vec3 oy11 = mod7(floor(p11*K))*K - Ko;\n                    vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n                    vec3 ox12 = fract(p12*K) - Ko;\n                    vec3 oy12 = mod7(floor(p12*K))*K - Ko;\n                    vec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n                    vec3 ox13 = fract(p13*K) - Ko;\n                    vec3 oy13 = mod7(floor(p13*K))*K - Ko;\n                    vec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n                    vec3 ox21 = fract(p21*K) - Ko;\n                    vec3 oy21 = mod7(floor(p21*K))*K - Ko;\n                    vec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n                    vec3 ox22 = fract(p22*K) - Ko;\n                    vec3 oy22 = mod7(floor(p22*K))*K - Ko;\n                    vec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n                    vec3 ox23 = fract(p23*K) - Ko;\n                    vec3 oy23 = mod7(floor(p23*K))*K - Ko;\n                    vec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n                    vec3 ox31 = fract(p31*K) - Ko;\n                    vec3 oy31 = mod7(floor(p31*K))*K - Ko;\n                    vec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n                    vec3 ox32 = fract(p32*K) - Ko;\n                    vec3 oy32 = mod7(floor(p32*K))*K - Ko;\n                    vec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n                    vec3 ox33 = fract(p33*K) - Ko;\n                    vec3 oy33 = mod7(floor(p33*K))*K - Ko;\n                    vec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n                    vec3 dx11 = Pfx + jitter*ox11;\n                    vec3 dy11 = Pfy.x + jitter*oy11;\n                    vec3 dz11 = Pfz.x + jitter*oz11;\n\n                    vec3 dx12 = Pfx + jitter*ox12;\n                    vec3 dy12 = Pfy.x + jitter*oy12;\n                    vec3 dz12 = Pfz.y + jitter*oz12;\n\n                    vec3 dx13 = Pfx + jitter*ox13;\n                    vec3 dy13 = Pfy.x + jitter*oy13;\n                    vec3 dz13 = Pfz.z + jitter*oz13;\n\n                    vec3 dx21 = Pfx + jitter*ox21;\n                    vec3 dy21 = Pfy.y + jitter*oy21;\n                    vec3 dz21 = Pfz.x + jitter*oz21;\n\n                    vec3 dx22 = Pfx + jitter*ox22;\n                    vec3 dy22 = Pfy.y + jitter*oy22;\n                    vec3 dz22 = Pfz.y + jitter*oz22;\n\n                    vec3 dx23 = Pfx + jitter*ox23;\n                    vec3 dy23 = Pfy.y + jitter*oy23;\n                    vec3 dz23 = Pfz.z + jitter*oz23;\n\n                    vec3 dx31 = Pfx + jitter*ox31;\n                    vec3 dy31 = Pfy.z + jitter*oy31;\n                    vec3 dz31 = Pfz.x + jitter*oz31;\n\n                    vec3 dx32 = Pfx + jitter*ox32;\n                    vec3 dy32 = Pfy.z + jitter*oy32;\n                    vec3 dz32 = Pfz.y + jitter*oz32;\n\n                    vec3 dx33 = Pfx + jitter*ox33;\n                    vec3 dy33 = Pfy.z + jitter*oy33;\n                    vec3 dz33 = Pfz.z + jitter*oz33;\n\n                    vec3 d11 = dx11 * dx11 + dy11 * dy11 + dz11 * dz11;\n                    vec3 d12 = dx12 * dx12 + dy12 * dy12 + dz12 * dz12;\n                    vec3 d13 = dx13 * dx13 + dy13 * dy13 + dz13 * dz13;\n                    vec3 d21 = dx21 * dx21 + dy21 * dy21 + dz21 * dz21;\n                    vec3 d22 = dx22 * dx22 + dy22 * dy22 + dz22 * dz22;\n                    vec3 d23 = dx23 * dx23 + dy23 * dy23 + dz23 * dz23;\n                    vec3 d31 = dx31 * dx31 + dy31 * dy31 + dz31 * dz31;\n                    vec3 d32 = dx32 * dx32 + dy32 * dy32 + dz32 * dz32;\n                    vec3 d33 = dx33 * dx33 + dy33 * dy33 + dz33 * dz33;\n\n                    // Sort out the two smallest distances (F1, F2)\n                #if 0\n                    // Cheat and sort out only F1\n                    vec3 d1 = min(min(d11,d12), d13);\n                    vec3 d2 = min(min(d21,d22), d23);\n                    vec3 d3 = min(min(d31,d32), d33);\n                    vec3 d = min(min(d1,d2), d3);\n                    d.x = min(min(d.x,d.y),d.z);\n                    return vec2(sqrt(d.x)); // F1 duplicated, no F2 computed\n                #else\n                    // Do it right and sort out both F1 and F2\n                    vec3 d1a = min(d11, d12);\n                    d12 = max(d11, d12);\n                    d11 = min(d1a, d13); // Smallest now not in d12 or d13\n                    d13 = max(d1a, d13);\n                    d12 = min(d12, d13); // 2nd smallest now not in d13\n                    vec3 d2a = min(d21, d22);\n                    d22 = max(d21, d22);\n                    d21 = min(d2a, d23); // Smallest now not in d22 or d23\n                    d23 = max(d2a, d23);\n                    d22 = min(d22, d23); // 2nd smallest now not in d23\n                    vec3 d3a = min(d31, d32);\n                    d32 = max(d31, d32);\n                    d31 = min(d3a, d33); // Smallest now not in d32 or d33\n                    d33 = max(d3a, d33);\n                    d32 = min(d32, d33); // 2nd smallest now not in d33\n                    vec3 da = min(d11, d21);\n                    d21 = max(d11, d21);\n                    d11 = min(da, d31); // Smallest now in d11\n                    d31 = max(da, d31); // 2nd smallest now not in d31\n                    d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n                    d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n                    d12 = min(d12, d21); // 2nd smallest now not in d21\n                    d12 = min(d12, d22); // nor in d22\n                    d12 = min(d12, d31); // nor in d31\n                    d12 = min(d12, d32); // nor in d32\n                    d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n                    d11.y = min(d11.y,d12.z); // Only two more to go\n                    d11.y = min(d11.y,d11.z); // Done! (Phew!)\n                    return sqrt(d11.xy); // F1, F2\n                #endif\n                }\n\n                #define PI 3.14159\n                uniform float uTime;\n\n                varying vec2 vUv;\n                varying float vNoise;\n                varying vec3 vViewDir;\n                varying vec3 vViewPos;\n\n                void main()\n                {\n                    float noise = cellular(4. * vec3(position.x, position.y + 0.2 * cos(2.*PI*uTime), position.z + 0.2 * sin(2.*PI*uTime))).x;\n                    noise = noise * (2. - noise); //ease in out function\n                    vec3 newPos = vec3(position + (noise * normal));\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n\n                    vUv = uv;\n                    vNoise = noise;\n                    vec4 mvPosition = modelViewMatrix * vec4(newPos, 1.0);\n                    vViewDir = -mvPosition.xyz;\n                    vViewPos = mvPosition.xyz; //need to calculate normals in the fragment shader\n                }\n            `,\n            fragmentShader: `\n                uniform float uTime;\n                uniform vec2 uResolution;\n                uniform vec3 uColor1;\n\n                varying vec2 vUv;\n                varying float vNoise;\n                varying vec3 vViewDir;\n                varying vec3 vViewPos;\n\n                void main()\n                {\n                    //calculate normals\n                    vec3 X = dFdx(vViewPos); \n                    vec3 Y = dFdy(vViewPos);\n                    vec3 n = normalize(cross(X, Y));\n\n                    vec2 pos = vUv * (gl_FragCoord.xy/uResolution);\n                    vec3 color = uColor1;//vec3(0.5, 0.4, 0.3);\n                    gl_FragColor = vec4(color*n, 1.);\n                }\n            `,\n            extensions: this.extensions\n        });\n        return material;\n    };\n\n    makeLineMaterial() {\n        const material = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n                \n                vec3 mod7(vec3 x) { return x - floor(x * (1.0 / 7.0)) * 7.0; }   \n\n                vec3 permute(vec3 x) { return mod289((34.0 * x + 1.0) * x); }\n\n                vec2 cellular(vec3 P) \n                {\n                    #define K 0.142857142857 // 1/7\n                    #define Ko 0.428571428571 // 1/2-K/2\n                    #define K2 0.020408163265306 // 1/(7*7)\n                    #define Kz 0.166666666667 // 1/6\n                    #define Kzo 0.416666666667 // 1/2-1/6*2\n                    #define jitter 1.0 // smaller jitter gives more regular pattern\n\n                    vec3 Pi = mod289(floor(P));\n                    vec3 Pf = fract(P) - 0.5;\n\n                    vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n                    vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\n                    vec3 p1 = permute(p + Pi.y - 1.0);\n                    vec3 p2 = permute(p + Pi.y);\n                    vec3 p3 = permute(p + Pi.y + 1.0);\n\n                    vec3 p11 = permute(p1 + Pi.z - 1.0);\n                    vec3 p12 = permute(p1 + Pi.z);\n                    vec3 p13 = permute(p1 + Pi.z + 1.0);\n\n                    vec3 p21 = permute(p2 + Pi.z - 1.0);\n                    vec3 p22 = permute(p2 + Pi.z);\n                    vec3 p23 = permute(p2 + Pi.z + 1.0);\n\n                    vec3 p31 = permute(p3 + Pi.z - 1.0);\n                    vec3 p32 = permute(p3 + Pi.z);\n                    vec3 p33 = permute(p3 + Pi.z + 1.0);\n\n                    vec3 ox11 = fract(p11*K) - Ko;\n                    vec3 oy11 = mod7(floor(p11*K))*K - Ko;\n                    vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n                    vec3 ox12 = fract(p12*K) - Ko;\n                    vec3 oy12 = mod7(floor(p12*K))*K - Ko;\n                    vec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n                    vec3 ox13 = fract(p13*K) - Ko;\n                    vec3 oy13 = mod7(floor(p13*K))*K - Ko;\n                    vec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n                    vec3 ox21 = fract(p21*K) - Ko;\n                    vec3 oy21 = mod7(floor(p21*K))*K - Ko;\n                    vec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n                    vec3 ox22 = fract(p22*K) - Ko;\n                    vec3 oy22 = mod7(floor(p22*K))*K - Ko;\n                    vec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n                    vec3 ox23 = fract(p23*K) - Ko;\n                    vec3 oy23 = mod7(floor(p23*K))*K - Ko;\n                    vec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n                    vec3 ox31 = fract(p31*K) - Ko;\n                    vec3 oy31 = mod7(floor(p31*K))*K - Ko;\n                    vec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n                    vec3 ox32 = fract(p32*K) - Ko;\n                    vec3 oy32 = mod7(floor(p32*K))*K - Ko;\n                    vec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n                    vec3 ox33 = fract(p33*K) - Ko;\n                    vec3 oy33 = mod7(floor(p33*K))*K - Ko;\n                    vec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n                    vec3 dx11 = Pfx + jitter*ox11;\n                    vec3 dy11 = Pfy.x + jitter*oy11;\n                    vec3 dz11 = Pfz.x + jitter*oz11;\n\n                    vec3 dx12 = Pfx + jitter*ox12;\n                    vec3 dy12 = Pfy.x + jitter*oy12;\n                    vec3 dz12 = Pfz.y + jitter*oz12;\n\n                    vec3 dx13 = Pfx + jitter*ox13;\n                    vec3 dy13 = Pfy.x + jitter*oy13;\n                    vec3 dz13 = Pfz.z + jitter*oz13;\n\n                    vec3 dx21 = Pfx + jitter*ox21;\n                    vec3 dy21 = Pfy.y + jitter*oy21;\n                    vec3 dz21 = Pfz.x + jitter*oz21;\n\n                    vec3 dx22 = Pfx + jitter*ox22;\n                    vec3 dy22 = Pfy.y + jitter*oy22;\n                    vec3 dz22 = Pfz.y + jitter*oz22;\n\n                    vec3 dx23 = Pfx + jitter*ox23;\n                    vec3 dy23 = Pfy.y + jitter*oy23;\n                    vec3 dz23 = Pfz.z + jitter*oz23;\n\n                    vec3 dx31 = Pfx + jitter*ox31;\n                    vec3 dy31 = Pfy.z + jitter*oy31;\n                    vec3 dz31 = Pfz.x + jitter*oz31;\n\n                    vec3 dx32 = Pfx + jitter*ox32;\n                    vec3 dy32 = Pfy.z + jitter*oy32;\n                    vec3 dz32 = Pfz.y + jitter*oz32;\n\n                    vec3 dx33 = Pfx + jitter*ox33;\n                    vec3 dy33 = Pfy.z + jitter*oy33;\n                    vec3 dz33 = Pfz.z + jitter*oz33;\n\n                    vec3 d11 = dx11 * dx11 + dy11 * dy11 + dz11 * dz11;\n                    vec3 d12 = dx12 * dx12 + dy12 * dy12 + dz12 * dz12;\n                    vec3 d13 = dx13 * dx13 + dy13 * dy13 + dz13 * dz13;\n                    vec3 d21 = dx21 * dx21 + dy21 * dy21 + dz21 * dz21;\n                    vec3 d22 = dx22 * dx22 + dy22 * dy22 + dz22 * dz22;\n                    vec3 d23 = dx23 * dx23 + dy23 * dy23 + dz23 * dz23;\n                    vec3 d31 = dx31 * dx31 + dy31 * dy31 + dz31 * dz31;\n                    vec3 d32 = dx32 * dx32 + dy32 * dy32 + dz32 * dz32;\n                    vec3 d33 = dx33 * dx33 + dy33 * dy33 + dz33 * dz33;\n\n                    // Sort out the two smallest distances (F1, F2)\n                #if 0\n                    // Cheat and sort out only F1\n                    vec3 d1 = min(min(d11,d12), d13);\n                    vec3 d2 = min(min(d21,d22), d23);\n                    vec3 d3 = min(min(d31,d32), d33);\n                    vec3 d = min(min(d1,d2), d3);\n                    d.x = min(min(d.x,d.y),d.z);\n                    return vec2(sqrt(d.x)); // F1 duplicated, no F2 computed\n                #else\n                    // Do it right and sort out both F1 and F2\n                    vec3 d1a = min(d11, d12);\n                    d12 = max(d11, d12);\n                    d11 = min(d1a, d13); // Smallest now not in d12 or d13\n                    d13 = max(d1a, d13);\n                    d12 = min(d12, d13); // 2nd smallest now not in d13\n                    vec3 d2a = min(d21, d22);\n                    d22 = max(d21, d22);\n                    d21 = min(d2a, d23); // Smallest now not in d22 or d23\n                    d23 = max(d2a, d23);\n                    d22 = min(d22, d23); // 2nd smallest now not in d23\n                    vec3 d3a = min(d31, d32);\n                    d32 = max(d31, d32);\n                    d31 = min(d3a, d33); // Smallest now not in d32 or d33\n                    d33 = max(d3a, d33);\n                    d32 = min(d32, d33); // 2nd smallest now not in d33\n                    vec3 da = min(d11, d21);\n                    d21 = max(d11, d21);\n                    d11 = min(da, d31); // Smallest now in d11\n                    d31 = max(da, d31); // 2nd smallest now not in d31\n                    d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n                    d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n                    d12 = min(d12, d21); // 2nd smallest now not in d21\n                    d12 = min(d12, d22); // nor in d22\n                    d12 = min(d12, d31); // nor in d31\n                    d12 = min(d12, d32); // nor in d32\n                    d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n                    d11.y = min(d11.y,d12.z); // Only two more to go\n                    d11.y = min(d11.y,d11.z); // Done! (Phew!)\n                    return sqrt(d11.xy); // F1, F2\n                #endif\n                }\n\n                #define PI 3.14159\n                uniform float uTime;\n\n                varying vec2 vUv;\n                varying vec3 vViewDir;\n                varying vec3 vViewPos;\n\n                void main()\n                {\n                    float noise = cellular(4. * vec3(position.x, position.y + 0.2 * cos(2.*PI*uTime), position.z + 0.2 * sin(2.*PI*uTime))).x;\n                    noise = noise * (2. - noise); //ease in out function\n                    vec3 newPos = vec3(position + noise * normalize(position));\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n\n                    vUv = uv;\n                }\n            `,\n            fragmentShader: `\n                varying vec2 vUv;\n\n                void main()\n                {\n                    gl_FragColor = vec4(vUv, 0., 1.);\n                }\n            `,\n            extensions: this.extensions\n        });\n        return material;\n    };\n\n    makePointsMaterial() {\n        const material = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n\n            vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n                \n            vec3 mod7(vec3 x) { return x - floor(x * (1.0 / 7.0)) * 7.0; }   \n\n            vec3 permute(vec3 x) { return mod289((34.0 * x + 1.0) * x); }\n\n            vec2 cellular(vec3 P) \n            {\n                #define K 0.142857142857 // 1/7\n                #define Ko 0.428571428571 // 1/2-K/2\n                #define K2 0.020408163265306 // 1/(7*7)\n                #define Kz 0.166666666667 // 1/6\n                #define Kzo 0.416666666667 // 1/2-1/6*2\n                #define jitter 1.0 // smaller jitter gives more regular pattern\n\n                vec3 Pi = mod289(floor(P));\n                vec3 Pf = fract(P) - 0.5;\n\n                vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n                vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n                vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n                vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\n                vec3 p1 = permute(p + Pi.y - 1.0);\n                vec3 p2 = permute(p + Pi.y);\n                vec3 p3 = permute(p + Pi.y + 1.0);\n\n                vec3 p11 = permute(p1 + Pi.z - 1.0);\n                vec3 p12 = permute(p1 + Pi.z);\n                vec3 p13 = permute(p1 + Pi.z + 1.0);\n\n                vec3 p21 = permute(p2 + Pi.z - 1.0);\n                vec3 p22 = permute(p2 + Pi.z);\n                vec3 p23 = permute(p2 + Pi.z + 1.0);\n\n                vec3 p31 = permute(p3 + Pi.z - 1.0);\n                vec3 p32 = permute(p3 + Pi.z);\n                vec3 p33 = permute(p3 + Pi.z + 1.0);\n\n                vec3 ox11 = fract(p11*K) - Ko;\n                vec3 oy11 = mod7(floor(p11*K))*K - Ko;\n                vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n                vec3 ox12 = fract(p12*K) - Ko;\n                vec3 oy12 = mod7(floor(p12*K))*K - Ko;\n                vec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n                vec3 ox13 = fract(p13*K) - Ko;\n                vec3 oy13 = mod7(floor(p13*K))*K - Ko;\n                vec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n                vec3 ox21 = fract(p21*K) - Ko;\n                vec3 oy21 = mod7(floor(p21*K))*K - Ko;\n                vec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n                vec3 ox22 = fract(p22*K) - Ko;\n                vec3 oy22 = mod7(floor(p22*K))*K - Ko;\n                vec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n                vec3 ox23 = fract(p23*K) - Ko;\n                vec3 oy23 = mod7(floor(p23*K))*K - Ko;\n                vec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n                vec3 ox31 = fract(p31*K) - Ko;\n                vec3 oy31 = mod7(floor(p31*K))*K - Ko;\n                vec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n                vec3 ox32 = fract(p32*K) - Ko;\n                vec3 oy32 = mod7(floor(p32*K))*K - Ko;\n                vec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n                vec3 ox33 = fract(p33*K) - Ko;\n                vec3 oy33 = mod7(floor(p33*K))*K - Ko;\n                vec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n                vec3 dx11 = Pfx + jitter*ox11;\n                vec3 dy11 = Pfy.x + jitter*oy11;\n                vec3 dz11 = Pfz.x + jitter*oz11;\n\n                vec3 dx12 = Pfx + jitter*ox12;\n                vec3 dy12 = Pfy.x + jitter*oy12;\n                vec3 dz12 = Pfz.y + jitter*oz12;\n\n                vec3 dx13 = Pfx + jitter*ox13;\n                vec3 dy13 = Pfy.x + jitter*oy13;\n                vec3 dz13 = Pfz.z + jitter*oz13;\n\n                vec3 dx21 = Pfx + jitter*ox21;\n                vec3 dy21 = Pfy.y + jitter*oy21;\n                vec3 dz21 = Pfz.x + jitter*oz21;\n\n                vec3 dx22 = Pfx + jitter*ox22;\n                vec3 dy22 = Pfy.y + jitter*oy22;\n                vec3 dz22 = Pfz.y + jitter*oz22;\n\n                vec3 dx23 = Pfx + jitter*ox23;\n                vec3 dy23 = Pfy.y + jitter*oy23;\n                vec3 dz23 = Pfz.z + jitter*oz23;\n\n                vec3 dx31 = Pfx + jitter*ox31;\n                vec3 dy31 = Pfy.z + jitter*oy31;\n                vec3 dz31 = Pfz.x + jitter*oz31;\n\n                vec3 dx32 = Pfx + jitter*ox32;\n                vec3 dy32 = Pfy.z + jitter*oy32;\n                vec3 dz32 = Pfz.y + jitter*oz32;\n\n                vec3 dx33 = Pfx + jitter*ox33;\n                vec3 dy33 = Pfy.z + jitter*oy33;\n                vec3 dz33 = Pfz.z + jitter*oz33;\n\n                vec3 d11 = dx11 * dx11 + dy11 * dy11 + dz11 * dz11;\n                vec3 d12 = dx12 * dx12 + dy12 * dy12 + dz12 * dz12;\n                vec3 d13 = dx13 * dx13 + dy13 * dy13 + dz13 * dz13;\n                vec3 d21 = dx21 * dx21 + dy21 * dy21 + dz21 * dz21;\n                vec3 d22 = dx22 * dx22 + dy22 * dy22 + dz22 * dz22;\n                vec3 d23 = dx23 * dx23 + dy23 * dy23 + dz23 * dz23;\n                vec3 d31 = dx31 * dx31 + dy31 * dy31 + dz31 * dz31;\n                vec3 d32 = dx32 * dx32 + dy32 * dy32 + dz32 * dz32;\n                vec3 d33 = dx33 * dx33 + dy33 * dy33 + dz33 * dz33;\n\n                // Sort out the two smallest distances (F1, F2)\n            #if 0\n                // Cheat and sort out only F1\n                vec3 d1 = min(min(d11,d12), d13);\n                vec3 d2 = min(min(d21,d22), d23);\n                vec3 d3 = min(min(d31,d32), d33);\n                vec3 d = min(min(d1,d2), d3);\n                d.x = min(min(d.x,d.y),d.z);\n                return vec2(sqrt(d.x)); // F1 duplicated, no F2 computed\n            #else\n                // Do it right and sort out both F1 and F2\n                vec3 d1a = min(d11, d12);\n                d12 = max(d11, d12);\n                d11 = min(d1a, d13); // Smallest now not in d12 or d13\n                d13 = max(d1a, d13);\n                d12 = min(d12, d13); // 2nd smallest now not in d13\n                vec3 d2a = min(d21, d22);\n                d22 = max(d21, d22);\n                d21 = min(d2a, d23); // Smallest now not in d22 or d23\n                d23 = max(d2a, d23);\n                d22 = min(d22, d23); // 2nd smallest now not in d23\n                vec3 d3a = min(d31, d32);\n                d32 = max(d31, d32);\n                d31 = min(d3a, d33); // Smallest now not in d32 or d33\n                d33 = max(d3a, d33);\n                d32 = min(d32, d33); // 2nd smallest now not in d33\n                vec3 da = min(d11, d21);\n                d21 = max(d11, d21);\n                d11 = min(da, d31); // Smallest now in d11\n                d31 = max(da, d31); // 2nd smallest now not in d31\n                d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n                d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n                d12 = min(d12, d21); // 2nd smallest now not in d21\n                d12 = min(d12, d22); // nor in d22\n                d12 = min(d12, d31); // nor in d31\n                d12 = min(d12, d32); // nor in d32\n                d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n                d11.y = min(d11.y,d12.z); // Only two more to go\n                d11.y = min(d11.y,d11.z); // Done! (Phew!)\n                return sqrt(d11.xy); // F1, F2\n            #endif\n            }\n\n                uniform float uTime;\n\n                varying vec2 vUv;\n                #define PI 3.14159\n\n                void main()\n                {\n                    float noise = cellular(4. * vec3(position.x, position.y + 0.2 * cos(2.*PI*uTime), position.z + 0.2 * sin(2.*PI*uTime))).x;\n                    noise = noise * (2. - noise); //ease in out function\n                    vec3 newPos = vec3(position + noise * normalize(position));\n                    //gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n\n                    vUv = uv;\n\n                    vec4 mvPosition = modelViewMatrix * vec4(newPos, 1.0);\n                    gl_PointSize = 10. * (1./-mvPosition.z);\n                    gl_Position = projectionMatrix * mvPosition;\n\n                    vUv = uv;\n                }\n            `,\n            fragmentShader: `\n                uniform float uTime;\n                uniform vec2 uResolution;\n                uniform vec3 uColor1;\n                uniform sampler2D uTexture;\n\n                varying vec2 vUv;\n\n                void main()\n                {\n                    gl_FragColor = vec4(uColor1, 1.);\n                    gl_FragColor = gl_FragColor * texture2D(uTexture, gl_PointCoord);\n                }\n            `,\n            extensions: this.extensions,\n            blending: AdditiveBlending,\n            depthTest: false,\n            transparent: true\n        });\n        return material;\n    };\n\n\n    update() {\n        this.uniforms.uTime.value += 0.001;\n    };\n}    ","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport texturePath from '../../assets/img/textures/decal.png';\nimport CustomShaderMaterial from './CustomShaderMaterial';\nimport { coloursToArray } from '../../utils';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.mouse = new THREE.Vector2(0, 0);\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/f8ffe5-06d6a0-1b9aaa-ef476f-ffc43d');//('https://coolors.co/d5573b-885053-777da7-94c9a9-c6ecae');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[3];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 2, 200);\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.setupSceneSubjects();\n    }\n\n    setupCamera() {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(0, 2, 5);\n    }\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[3], 2.);\n        pointLight.position.set(1.5, 1.5, 2.5);\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[0], 1.);\n        pointLight2.position.set(-1.5, 0, -2.5);\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[1], 1.);\n        pointLight3.position.set(0.5, -1, 0);\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[2], this.colourArr[3], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[1], 1);\n        this.scene.add(dirLight);\n    }\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.5;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.5;\n        this.controls.maxDistance = 10;\n        this.controls.minDistance = 1;\n    }\n\n    loadTextures(path) {\n        let textureLoader = new THREE.TextureLoader();\n        let texture = textureLoader.load(path, (texture) => {\n            return texture;\n        });\n        return texture;\n    }\n\n    setupSceneSubjects() {\n        const geo = new THREE.IcosahedronBufferGeometry(1, 4);\n        const edgeGeo = new THREE.EdgesGeometry(geo);\n        const texture = this.loadTextures(texturePath);\n        this.material = new CustomShaderMaterial(this.colourArr[1], texture);\n\n        const mesh = new THREE.Mesh(geo, this.material.makeMaterial());\n        const edgeLines = new THREE.LineSegments(edgeGeo, this.material.makeLineMaterial());\n        const meshPoints = new THREE.Points(geo, this.material.makePointsMaterial());\n        meshPoints.scale.set(2, 2, 2);\n        this.scene.add(mesh);\n        this.scene.add(edgeLines);\n        this.scene.add(meshPoints);\n    }\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        if (this.material) this.material.update();\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    onMouseMove(e) {\n        this.mouse.x = (e.clientX - window.innerWidth / 2) / 100;\n        this.mouse.y = (e.clientY - window.innerHeight / 2) / 100;\n        this.camera.position.x += (this.mouse.x - this.camera.position.x) * .05;\n        this.camera.position.y += (-this.mouse.y - this.camera.position.y) * .05;\n    }\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        this.domElem.removeChild(this.renderer.domElement);\n    };\n}\n\n","import React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    onDocumentMouseMove = (e) => {\n        if (this.sceneController) this.sceneController.onMouseMove(e);\n    }\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            Liquid Body\n            <br />\n            MOVE MOUSE\n        </div>\n    );\n}","export const data = [\n  {\n    id: 1,\n    title: \"Fish\",\n    summary: \"remote island in Africa with unique biodiversity\",\n    description: \"Tektronix RM565 Oscilloscope\",\n    pathToModel: \"./assets/models/tektronix_rm565_oscilloscope/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 6.61,\n      \"y\": 0.89,\n      \"z\": 1.37\n    },\n    \"lookAt\": {\n      \"x\": 7.37,\n      \"y\": 0.27,\n      \"z\": 0.36\n    }\n  },\n  {\n    id: 2,\n    title: \"Treasury\",\n    summary: \"Secret Treasury\",\n    description: \"A place or location where treasure, such as currency or precious items are kept\",\n    pathToModel: \"./assets/models/epson__wacom_laptop/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 7.13,\n      \"y\": 0.33,\n      \"z\": 1.98\n    },\n    \"lookAt\": {\n      \"x\": 8.32,\n      \"y\": 2.71,\n      \"z\": 1.33\n    }\n  },\n  {\n    id: 3,\n    title: \"Strange sea weed\",\n    summary: \"Strange sea weed\",\n    description: \"The Osborne 1 is the first commercially successful portable microcomputer, released on April 3, 1981 by Osborne Computer Corporation.\",\n    pathToModel: \"./assets/models/osborne_dual_monitor_computer/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 7.13,\n      \"y\": 0.15,\n      \"z\": 0.66\n    },\n    \"lookAt\": {\n      \"x\": 5.78,\n      \"y\": 0.89,\n      \"z\": 0.68\n    }\n  },\n  {\n    id: 4,\n    title: \"Something flying\",\n    summary: \"Something flying\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 13.05,\n      \"y\": 0.35,\n      \"z\": 5.06\n    },\n    \"lookAt\": {\n      \"x\": 11,\n      \"y\": 0.7,\n      \"z\": 3.42\n    }\n  },\n  {\n    id: 5,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 10.13,\n      \"y\": 0.33,\n      \"z\": 5\n    },\n    \"lookAt\": {\n      \"x\": 10.32,\n      \"y\": 0,\n      \"z\": 1.33\n    }\n  },\n  {\n    id: 6,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": -7.13,\n      \"y\": 4.33,\n      \"z\": 1.98\n    },\n    \"lookAt\": {\n      \"x\": -8.32,\n      \"y\": 2.71,\n      \"z\": 1.33\n    }\n  },\n  {\n    id: 7,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": -5.13,\n      \"y\": 4.33,\n      \"z\": 1.98\n    },\n    \"lookAt\": {\n      \"x\": -3.13,\n      \"y\": -2.33,\n      \"z\": -1.98\n    }\n  },\n  {\n    id: 8,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": -10.05,\n      \"y\": 0.35,\n      \"z\": 2.06\n    },\n    \"lookAt\": {\n      \"x\": 11,\n      \"y\": 2.7,\n      \"z\": 3.42\n    }\n  },\n  {\n    id: 9,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 3.05,\n      \"y\": 0.35,\n      \"z\": 5.06\n    },\n    \"lookAt\": {\n      \"x\": 2,\n      \"y\": 2.7,\n      \"z\": 3.42\n    }\n  },\n  {\n    id: 10,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": -8,\n      \"y\": 4.35,\n      \"z\": 5.06\n    },\n    \"lookAt\": {\n      \"x\": -9,\n      \"y\": 2.7,\n      \"z\": 3.42\n    }\n  },\n  {\n    id: 11,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 3.05,\n      \"y\": 4.35,\n      \"z\": 5.06\n    },\n    \"lookAt\": {\n      \"x\": -4,\n      \"y\": 1.7,\n      \"z\": 3.42\n    }\n  },\n  {\n    id: 12,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": -3.05,\n      \"y\": 2.35,\n      \"z\": -1.06\n    },\n    \"lookAt\": {\n      \"x\": -2,\n      \"y\": 2.7,\n      \"z\": 3.42\n    }\n  },\n  {\n    id: 13,\n    title: \"Floppy Disc\",\n    summary: \"were a ubiquitous form of data storage and transfer\",\n    description: \"First floppy discs were invented and made by IBM and had a disk diameter of 8 inches (203 mm)\",\n    pathToModel: \"./assets/models/amiga_floppy_disk/scene.gltf\",\n    imgArr: [\"./assets/images/oscilloscope.png\"],\n    \"camPos\": {\n      \"x\": 1.05,\n      \"y\": 2.35,\n      \"z\": -1.06\n    },\n    \"lookAt\": {\n      \"x\": 1,\n      \"y\": 2.7,\n      \"z\": 3.42\n    }\n  }\n];","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { CSS2DRenderer, CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer';\nimport TWEEN from '@tweenjs/tween.js';\n\nimport { data } from './data';\nimport { coloursToArray } from '../../utils';\nimport './index.css';\n\nimport pathToModel from '../../assets/models/oceanfloor.glb';\nimport pathToTexture from '../../assets/img/textures/gray-circle.png';\n\nexport class SceneController {\n  constructor(domRef) {\n    this.domRef = domRef;\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.domElement.style.position = 'absolute';\n    this.domRef.appendChild(this.renderer.domElement);\n    this.cssRenderer = new CSS2DRenderer();\n    this.cssRenderer.domElement.style.position = 'absolute';\n    this.domRef.appendChild(this.cssRenderer.domElement);\n\n    this.camera = this.setupCamera();\n    this.controls = new OrbitControls(this.camera, this.cssRenderer.domElement);\n    this.scene = new THREE.Scene();\n    const axesHelper = new THREE.AxesHelper(5);\n    this.scene.add(axesHelper);\n\n    this.disposed = false;\n    this.mesh = new THREE.Mesh();\n    this.colourArr = (coloursToArray)('https://coolors.co/58355e-e03616-fff689-cfffb0-5998c5');\n    this.gltfScene = new THREE.Group();\n    this.loadingManager = new THREE.LoadingManager();\n    this.raycaster = new THREE.Raycaster();\n    this.isRaycast = false;\n    this.labels = [];\n    this.labelMarkers = [];\n\n    this.setup();\n  }\n\n  setup() {\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.cssRenderer.setSize(window.innerWidth, window.innerHeight);\n    //this.renderer.setClearColor(0x000000, 0); //transparent background\n    this.scene.background = new THREE.Color(this.colourArr[0]);\n    // this.scene.fog = new THREE.Fog(0x5C80BC, 50, 200);\n    this.setupLight();\n    this.setupControls();\n    this.loadModels();\n    this.setupCSSSubjects();\n    // this.setupGeometry();\n    this.render(); //render once on setup in useEffect hook\n    console.log('SETUP DONE!');\n  }\n\n  setupCamera() {\n    const VIEW_ANGLE = 50;\n    const ASPECT_RATIO = window.innerWidth / window.innerHeight;\n    const NEAR_PLANE = 1;\n    const FAR_PLANE = 500;\n\n    const camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n    camera.position.set(0, 5, -16);\n    //{x: -9.589030593318816, y: 0.44466707237190184, z: -14.43802708736732, isVector3: true}\n    //x: 3.9062814281371927, y: 22.85989546064066, z: -74.57618046926063, isVector3: true}\n    camera.lookAt(new THREE.Vector3(0, 0, 0));\n    return camera;\n  }\n\n  setupLight() {\n    const pointLight = new THREE.PointLight(this.colourArr[4], 0.5);\n    pointLight.position.set(0.5, 0.5, 0);\n    this.scene.add(pointLight);\n\n    const pointLight1 = new THREE.PointLight(this.colourArr[2], 0.2);\n    pointLight.position.set(-0.5, -0.5, 1);\n    this.scene.add(pointLight1);\n\n    const hemiLight = new THREE.HemisphereLight(this.colourArr[0], this.colourArr[4], 0.5);\n    hemiLight.position.set(0, 0, 0);\n    this.scene.add(hemiLight);\n\n    const dirLight = new THREE.DirectionalLight(this.colourArr[1], 0.5);\n    dirLight.position.set(0, 0.5, 0);\n    this.scene.add(dirLight);\n  }\n\n  setupGeometry() {\n    const geometry = new THREE.IcosahedronGeometry(0.5, 0);\n    const material = new THREE.MeshPhongMaterial({\n      color: this.colourArr[1],\n      shininess: 10\n    });\n    const numElems = 20;\n    for (let i = 0; i < 20; i++) {\n      const mesh = new THREE.Mesh(geometry, material);\n      const phi = Math.acos(- 1 + (2 * i) / numElems);\n      const theta = Math.sqrt(numElems * Math.PI * 0.5) * phi;\n      mesh.position.setFromSphericalCoords(10, phi, theta);\n      this.scene.add(mesh);\n    }\n  }\n\n  setupControls() {\n    this.controls.zoomSpeed = 1.2;\n    this.controls.panSpeed = 0.8;\n    this.controls.enableZoom = true;\n    this.controls.enablePan = true;\n    this.controls.enableDamping = true;\n    this.controls.dampingFactor = 0.3;\n    // this.controls.maxDistance = 400;\n    // this.controls.minDistance = 100;\n    this.controls.maxPolarAngle = 1.2737424473141494;\n    this.controls.minPolarAngle = 1.2737424473141494;\n  }\n\n  loadModels() {\n    // const target = new THREE.Vector3()\n    const gltfLoader = new GLTFLoader();\n    gltfLoader.load(pathToModel,\n      (gltf) => {\n        gltf.scene.scale.set(30, 30, 30);\n        gltf.scene.rotateY(Math.PI * 0.2);\n        gltf.scene.traverse(child => {\n          if (child instanceof THREE.Mesh) {\n            // child.castShadow = true;\n            // child.receiveShadow = true;\n            // child.material.metalness = 0.5;\n            if (child.name === 'Mesh_4') {\n              // this.gltfScene.updateMatrixWorld()\n              console.log(child)\n              // console.log(child.getWorldPosition(target))\n            }\n          }\n        });\n        this.scene.add(gltf.scene);\n        this.gltfScene = gltf.scene;\n      });\n    console.log('Loading Complete!');\n  }\n\n  setupCSSSubjects() {\n    const circleTexture = new THREE.TextureLoader().load(pathToTexture);\n    for (let i = 0, l = data.length; i < l; i++) {\n      const element = document.createElement('div');\n      element.className = 'customSprite';\n      element.innerHTML = i;\n      element.addEventListener('click', () => {\n        this.goToLabel(data[i]);\n        const details = document.createElement('div');\n        details.className = 'description';\n        details.innerHTML = data[i].title; //+ '<br>' + `<img class='img' src='${data[i].imgArr[0]}'/>`;\n        element.appendChild(details);\n        details.addEventListener('click', (e) => this.onDescriptionClick(e))\n      });\n\n      const labelSpriteMaterial = new THREE.SpriteMaterial({\n        map: circleTexture,\n        depthTest: false,\n        depthWrite: false,\n        sizeAttenuation: false\n      });\n      const labelSprite = new THREE.Sprite(labelSpriteMaterial);\n      labelSprite.scale.set(0.03, 0.03, 0.03);\n      labelSprite.userData.id = data[i].id;\n      labelSprite.position.copy(data[i].lookAt);\n      // console.log(labelSprite);\n\n      const objectCSS = new CSS2DObject(element);\n      // console.log('ELEMENT: ', element, 'OBJECT3D: ', objectCSS);\n      objectCSS.position.copy(data[i].lookAt);\n      this.scene.add(labelSprite);\n      this.scene.add(objectCSS);\n      this.labelMarkers.push(labelSprite);\n      this.labels.push(objectCSS);\n    }\n  }\n\n  render() {\n    this.renderer.render(this.scene, this.camera);\n    this.cssRenderer.render(this.scene, this.camera);\n  }\n\n  update() {\n    if (this.disposed) return;\n    this.render();\n    TWEEN.update();\n  }\n\n  goToLabel(label) {\n    console.log(label, 'clicked');\n    new TWEEN.Tween(this.camera.position)\n      .to({\n        x: label.camPos.x,\n        y: label.camPos.y,\n        z: label.camPos.z\n      }, 500)\n      .easing(TWEEN.Easing.Cubic.Out)\n      .start()\n\n    new TWEEN.Tween(this.controls.target)\n      .to({\n        x: label.lookAt.x,\n        y: label.lookAt.y,\n        z: label.lookAt.z\n      }, 500)\n      .easing(TWEEN.Easing.Cubic.Out)\n      .start()\n  }\n\n  onKeyDown(e) {\n    console.log('key down');\n    console.log(this.camera.position);\n  }\n\n  onKeyUp(e) {\n    console.log('key up');\n  }\n\n  onMouseClick(e) {\n    if (this.isRaycast) {\n      this.raycaster.setFromCamera({\n        x: (e.clientX / this.renderer.domElement.clientWidth) * 2 - 1,\n        y: -(e.clientY / this.renderer.domElement.clientHeight) * 2 + 1\n      }, this.camera);\n\n      const intersects = this.raycaster.intersectObjects(this.labelMarkers, true);\n      //const intersects = this.raycaster.intersectObjects(this.gltfScene.children, true);\n      if (intersects.length > 0) {\n        console.log(intersects[0])\n        if (intersects[0].object.userData && intersects[0].object.userData.id) {\n          this.goToLabel(data[intersects[0].object.userData.id]);\n          console.log(data[intersects[0].object.userData.id]);\n        }\n      }\n    }\n  }\n\n  onDescriptionClick(e) {\n    console.log('FIGURE OUT HOW TO TRIGGER REACT COMPONENTS');\n  }\n\n  dispose() {\n    this.disposed = true;\n    this.scene.children.forEach(child => {\n      if (child instanceof THREE.Mesh) {\n        child.material.dispose();\n        child.geometry.dispose();\n      }\n    });\n    this.renderer.dispose();\n  }\n\n  //TODO: optimise resize\n  onWindowResize() {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.cssRenderer.setSize(window.innerWidth, window.innerHeight);\n    this.render();\n  }\n}","import React from 'react';\n\nimport './index.css';\nimport { SceneController } from './SceneController';\n\nexport default class Home extends React.Component {\n\n  componentDidMount() {\n    this.threeRootElement.style.outline = 'none';\n    this.sceneController = new SceneController(this.threeRootElement);\n    this.addEventListeners();\n    this.sceneController.setup();\n    this.update();\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n    if (this.sceneController) this.sceneController.dispose();\n  };\n\n  addEventListeners() {\n    window.addEventListener('resize', this.onWindowResize, false);\n  };\n\n  onWindowResize = () => {\n    if (this.sceneController) {\n      this.sceneController.onWindowResize();\n      this.sceneController.update();\n    }\n  };\n\n  update = () => {\n    requestAnimationFrame(this.update);\n    if (this.sceneController) this.sceneController.update();\n  };\n\n  render() {\n    return (\n      <div className=\"cssCanvas\" ref={element => this.threeRootElement = element}>\n        <Text />\n      </div>\n    );\n  }\n};\n\nconst Text = () => {\n  return (\n    <div className=\"Info\">\n      Liquid Body\n      <br />\n          Scroll inside\n    </div>\n  );\n}\n\n// const Home = ({ widthScalar, heightScalar }) => {\n//   console.log(domRef);\n//   const domRef = useRef < HTMLDivElement > (null);\n//   let sceneController;\n\n//   const update = () => {\n//     requestAnimationFrame(update);\n//     sceneController.update();\n//   };\n\n//   const addEventListeners = () => {\n//     window.addEventListener('resize', handleWindowResize, false);\n//     document.addEventListener(\"mousedown\", handleMouseClick, false);\n//     document.addEventListener(\"keydown\", handleDocumentKeyDown, false);\n//     document.addEventListener(\"keyup\", handleDocumentKeyUp, false);\n//   };\n\n//   const handleWindowResize = () => {\n//     if (sceneController) {\n//       sceneController.onWindowResize();\n//       sceneController.update();\n//     }\n//   };\n\n//   const handleMouseClick = (e) => {\n//     if (sceneController) {\n//       sceneController.onMouseClick(e);\n//     }\n//   };\n\n//   const handleDocumentKeyDown = (e) => {\n//     if (sceneController) {\n//       sceneController.onKeyDown(e);\n//     }\n//   };\n\n//   const handleDocumentKeyUp = (e) => {\n//     if (sceneController) {\n//       sceneController.onKeyUp(e);\n//     }\n//   };\n\n//   const cleanup = () => {\n//     sceneController.dispose();\n//     window.removeEventListener('resize', handleWindowResize);\n//     document.removeEventListener(\"mousedown\", handleMouseClick);\n//     document.removeEventListener(\"keydown\", handleDocumentKeyDown);\n//     document.removeEventListener(\"keyup\", handleDocumentKeyUp);\n//     console.log('cleaning up');\n//   };\n\n//   useEffect(() => {\n//     console.log('RENDERED FROM INDEX');\n//     if (domRef.current) {\n//       addEventListeners();\n//       domRef.current.style.outline = 'none'; //remove the border around canvas\n//       sceneController = new SceneController(widthScalar, heightScalar, domRef.current);\n//       update();\n//     }\n\n//     return () => {\n//       cleanup();\n//     };\n//   }, [domRef]);\n\n//   return (\n//     <>\n//       <div ref={domRef} className=\"cssCanvas\" />\n//     </>\n//   )\n// };\n\n// export default Home;\n","import { ShaderMaterial, Vector2, AdditiveBlending } from 'three';\n\nexport default class CustomShaderMaterial {\n    constructor(color, texture) {\n        this.color = color;\n        this.texture = texture;\n        this.uniforms = {\n            uTime: { value: 0 },\n            uResolution: { value: new Vector2(window.innerWidth, window.innerHeight) },\n            uColor1: { value: this.color },\n            uTexture: { value: this.texture }\n        }\n        this.extensions = {\n            derivatives: true, // set to use derivatives\n            fragDepth: false, // set to use fragment depth values\n            drawBuffers: false, // set to use draw buffers\n            shaderTextureLOD: false // set to use shader texture LOD\n        };\n    };\n\n    //todo: add light\n    makeMaterial() {\n        const material = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n                \n                vec3 mod7(vec3 x) { return x - floor(x * (1.0 / 7.0)) * 7.0; }   \n\n                vec3 permute(vec3 x) { return mod289((34.0 * x + 1.0) * x); }\n\n                vec2 cellular(vec3 P) \n                {\n                    #define K 0.142857142857 // 1/7\n                    #define Ko 0.428571428571 // 1/2-K/2\n                    #define K2 0.020408163265306 // 1/(7*7)\n                    #define Kz 0.166666666667 // 1/6\n                    #define Kzo 0.416666666667 // 1/2-1/6*2\n                    #define jitter 1.0 // smaller jitter gives more regular pattern\n\n                    vec3 Pi = mod289(floor(P));\n                    vec3 Pf = fract(P) - 0.5;\n\n                    vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n                    vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\n                    vec3 p1 = permute(p + Pi.y - 1.0);\n                    vec3 p2 = permute(p + Pi.y);\n                    vec3 p3 = permute(p + Pi.y + 1.0);\n\n                    vec3 p11 = permute(p1 + Pi.z - 1.0);\n                    vec3 p12 = permute(p1 + Pi.z);\n                    vec3 p13 = permute(p1 + Pi.z + 1.0);\n\n                    vec3 p21 = permute(p2 + Pi.z - 1.0);\n                    vec3 p22 = permute(p2 + Pi.z);\n                    vec3 p23 = permute(p2 + Pi.z + 1.0);\n\n                    vec3 p31 = permute(p3 + Pi.z - 1.0);\n                    vec3 p32 = permute(p3 + Pi.z);\n                    vec3 p33 = permute(p3 + Pi.z + 1.0);\n\n                    vec3 ox11 = fract(p11*K) - Ko;\n                    vec3 oy11 = mod7(floor(p11*K))*K - Ko;\n                    vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n                    vec3 ox12 = fract(p12*K) - Ko;\n                    vec3 oy12 = mod7(floor(p12*K))*K - Ko;\n                    vec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n                    vec3 ox13 = fract(p13*K) - Ko;\n                    vec3 oy13 = mod7(floor(p13*K))*K - Ko;\n                    vec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n                    vec3 ox21 = fract(p21*K) - Ko;\n                    vec3 oy21 = mod7(floor(p21*K))*K - Ko;\n                    vec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n                    vec3 ox22 = fract(p22*K) - Ko;\n                    vec3 oy22 = mod7(floor(p22*K))*K - Ko;\n                    vec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n                    vec3 ox23 = fract(p23*K) - Ko;\n                    vec3 oy23 = mod7(floor(p23*K))*K - Ko;\n                    vec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n                    vec3 ox31 = fract(p31*K) - Ko;\n                    vec3 oy31 = mod7(floor(p31*K))*K - Ko;\n                    vec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n                    vec3 ox32 = fract(p32*K) - Ko;\n                    vec3 oy32 = mod7(floor(p32*K))*K - Ko;\n                    vec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n                    vec3 ox33 = fract(p33*K) - Ko;\n                    vec3 oy33 = mod7(floor(p33*K))*K - Ko;\n                    vec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n                    vec3 dx11 = Pfx + jitter*ox11;\n                    vec3 dy11 = Pfy.x + jitter*oy11;\n                    vec3 dz11 = Pfz.x + jitter*oz11;\n\n                    vec3 dx12 = Pfx + jitter*ox12;\n                    vec3 dy12 = Pfy.x + jitter*oy12;\n                    vec3 dz12 = Pfz.y + jitter*oz12;\n\n                    vec3 dx13 = Pfx + jitter*ox13;\n                    vec3 dy13 = Pfy.x + jitter*oy13;\n                    vec3 dz13 = Pfz.z + jitter*oz13;\n\n                    vec3 dx21 = Pfx + jitter*ox21;\n                    vec3 dy21 = Pfy.y + jitter*oy21;\n                    vec3 dz21 = Pfz.x + jitter*oz21;\n\n                    vec3 dx22 = Pfx + jitter*ox22;\n                    vec3 dy22 = Pfy.y + jitter*oy22;\n                    vec3 dz22 = Pfz.y + jitter*oz22;\n\n                    vec3 dx23 = Pfx + jitter*ox23;\n                    vec3 dy23 = Pfy.y + jitter*oy23;\n                    vec3 dz23 = Pfz.z + jitter*oz23;\n\n                    vec3 dx31 = Pfx + jitter*ox31;\n                    vec3 dy31 = Pfy.z + jitter*oy31;\n                    vec3 dz31 = Pfz.x + jitter*oz31;\n\n                    vec3 dx32 = Pfx + jitter*ox32;\n                    vec3 dy32 = Pfy.z + jitter*oy32;\n                    vec3 dz32 = Pfz.y + jitter*oz32;\n\n                    vec3 dx33 = Pfx + jitter*ox33;\n                    vec3 dy33 = Pfy.z + jitter*oy33;\n                    vec3 dz33 = Pfz.z + jitter*oz33;\n\n                    vec3 d11 = dx11 * dx11 + dy11 * dy11 + dz11 * dz11;\n                    vec3 d12 = dx12 * dx12 + dy12 * dy12 + dz12 * dz12;\n                    vec3 d13 = dx13 * dx13 + dy13 * dy13 + dz13 * dz13;\n                    vec3 d21 = dx21 * dx21 + dy21 * dy21 + dz21 * dz21;\n                    vec3 d22 = dx22 * dx22 + dy22 * dy22 + dz22 * dz22;\n                    vec3 d23 = dx23 * dx23 + dy23 * dy23 + dz23 * dz23;\n                    vec3 d31 = dx31 * dx31 + dy31 * dy31 + dz31 * dz31;\n                    vec3 d32 = dx32 * dx32 + dy32 * dy32 + dz32 * dz32;\n                    vec3 d33 = dx33 * dx33 + dy33 * dy33 + dz33 * dz33;\n\n                    // Sort out the two smallest distances (F1, F2)\n                #if 0\n                    // Cheat and sort out only F1\n                    vec3 d1 = min(min(d11,d12), d13);\n                    vec3 d2 = min(min(d21,d22), d23);\n                    vec3 d3 = min(min(d31,d32), d33);\n                    vec3 d = min(min(d1,d2), d3);\n                    d.x = min(min(d.x,d.y),d.z);\n                    return vec2(sqrt(d.x)); // F1 duplicated, no F2 computed\n                #else\n                    // Do it right and sort out both F1 and F2\n                    vec3 d1a = min(d11, d12);\n                    d12 = max(d11, d12);\n                    d11 = min(d1a, d13); // Smallest now not in d12 or d13\n                    d13 = max(d1a, d13);\n                    d12 = min(d12, d13); // 2nd smallest now not in d13\n                    vec3 d2a = min(d21, d22);\n                    d22 = max(d21, d22);\n                    d21 = min(d2a, d23); // Smallest now not in d22 or d23\n                    d23 = max(d2a, d23);\n                    d22 = min(d22, d23); // 2nd smallest now not in d23\n                    vec3 d3a = min(d31, d32);\n                    d32 = max(d31, d32);\n                    d31 = min(d3a, d33); // Smallest now not in d32 or d33\n                    d33 = max(d3a, d33);\n                    d32 = min(d32, d33); // 2nd smallest now not in d33\n                    vec3 da = min(d11, d21);\n                    d21 = max(d11, d21);\n                    d11 = min(da, d31); // Smallest now in d11\n                    d31 = max(da, d31); // 2nd smallest now not in d31\n                    d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n                    d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n                    d12 = min(d12, d21); // 2nd smallest now not in d21\n                    d12 = min(d12, d22); // nor in d22\n                    d12 = min(d12, d31); // nor in d31\n                    d12 = min(d12, d32); // nor in d32\n                    d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n                    d11.y = min(d11.y,d12.z); // Only two more to go\n                    d11.y = min(d11.y,d11.z); // Done! (Phew!)\n                    return sqrt(d11.xy); // F1, F2\n                #endif\n                }\n\n                #define PI 3.14159\n                uniform float uTime;\n\n                varying vec2 vUv;\n                varying float vNoise;\n                varying vec3 vViewDir;\n                varying vec3 vViewPos;\n\n                void main()\n                {\n                    float noise = cellular(4. * vec3(position.x, position.y + 0.2 * cos(2.*PI*uTime), position.z + 0.2 * sin(2.*PI*uTime))).x;\n                    noise = noise * (2. - noise); //ease in out function\n                    vec3 newPos = vec3(position + (noise * normal));\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n\n                    vUv = uv;\n                    vNoise = noise;\n                    vec4 mvPosition = modelViewMatrix * vec4(newPos, 1.0);\n                    vViewDir = -mvPosition.xyz;\n                    vViewPos = mvPosition.xyz; //need to calculate normals in the fragment shader\n                }\n            `,\n            fragmentShader: `\n                uniform float uTime;\n                uniform vec2 uResolution;\n                uniform vec3 uColor1;\n\n                varying vec2 vUv;\n                varying float vNoise;\n                varying vec3 vViewDir;\n                varying vec3 vViewPos;\n\n                void main()\n                {\n                    //calculate normals\n                    vec3 X = dFdx(vViewPos); \n                    vec3 Y = dFdy(vViewPos);\n                    vec3 n = normalize(cross(X, Y));\n\n                    vec2 pos = vUv * (gl_FragCoord.xy/uResolution);\n                    vec3 color = uColor1;//vec3(0.5, 0.4, 0.3);\n                    gl_FragColor = vec4(color*n, 1.);\n                }\n            `,\n            extensions: this.extensions\n        });\n        return material;\n    };\n\n    makeLineMaterial() {\n        const material = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n                vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n                \n                vec3 mod7(vec3 x) { return x - floor(x * (1.0 / 7.0)) * 7.0; }   \n\n                vec3 permute(vec3 x) { return mod289((34.0 * x + 1.0) * x); }\n\n                vec2 cellular(vec3 P) \n                {\n                    #define K 0.142857142857 // 1/7\n                    #define Ko 0.428571428571 // 1/2-K/2\n                    #define K2 0.020408163265306 // 1/(7*7)\n                    #define Kz 0.166666666667 // 1/6\n                    #define Kzo 0.416666666667 // 1/2-1/6*2\n                    #define jitter 1.0 // smaller jitter gives more regular pattern\n\n                    vec3 Pi = mod289(floor(P));\n                    vec3 Pf = fract(P) - 0.5;\n\n                    vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n                    vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n                    vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\n                    vec3 p1 = permute(p + Pi.y - 1.0);\n                    vec3 p2 = permute(p + Pi.y);\n                    vec3 p3 = permute(p + Pi.y + 1.0);\n\n                    vec3 p11 = permute(p1 + Pi.z - 1.0);\n                    vec3 p12 = permute(p1 + Pi.z);\n                    vec3 p13 = permute(p1 + Pi.z + 1.0);\n\n                    vec3 p21 = permute(p2 + Pi.z - 1.0);\n                    vec3 p22 = permute(p2 + Pi.z);\n                    vec3 p23 = permute(p2 + Pi.z + 1.0);\n\n                    vec3 p31 = permute(p3 + Pi.z - 1.0);\n                    vec3 p32 = permute(p3 + Pi.z);\n                    vec3 p33 = permute(p3 + Pi.z + 1.0);\n\n                    vec3 ox11 = fract(p11*K) - Ko;\n                    vec3 oy11 = mod7(floor(p11*K))*K - Ko;\n                    vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n                    vec3 ox12 = fract(p12*K) - Ko;\n                    vec3 oy12 = mod7(floor(p12*K))*K - Ko;\n                    vec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n                    vec3 ox13 = fract(p13*K) - Ko;\n                    vec3 oy13 = mod7(floor(p13*K))*K - Ko;\n                    vec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n                    vec3 ox21 = fract(p21*K) - Ko;\n                    vec3 oy21 = mod7(floor(p21*K))*K - Ko;\n                    vec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n                    vec3 ox22 = fract(p22*K) - Ko;\n                    vec3 oy22 = mod7(floor(p22*K))*K - Ko;\n                    vec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n                    vec3 ox23 = fract(p23*K) - Ko;\n                    vec3 oy23 = mod7(floor(p23*K))*K - Ko;\n                    vec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n                    vec3 ox31 = fract(p31*K) - Ko;\n                    vec3 oy31 = mod7(floor(p31*K))*K - Ko;\n                    vec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n                    vec3 ox32 = fract(p32*K) - Ko;\n                    vec3 oy32 = mod7(floor(p32*K))*K - Ko;\n                    vec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n                    vec3 ox33 = fract(p33*K) - Ko;\n                    vec3 oy33 = mod7(floor(p33*K))*K - Ko;\n                    vec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n                    vec3 dx11 = Pfx + jitter*ox11;\n                    vec3 dy11 = Pfy.x + jitter*oy11;\n                    vec3 dz11 = Pfz.x + jitter*oz11;\n\n                    vec3 dx12 = Pfx + jitter*ox12;\n                    vec3 dy12 = Pfy.x + jitter*oy12;\n                    vec3 dz12 = Pfz.y + jitter*oz12;\n\n                    vec3 dx13 = Pfx + jitter*ox13;\n                    vec3 dy13 = Pfy.x + jitter*oy13;\n                    vec3 dz13 = Pfz.z + jitter*oz13;\n\n                    vec3 dx21 = Pfx + jitter*ox21;\n                    vec3 dy21 = Pfy.y + jitter*oy21;\n                    vec3 dz21 = Pfz.x + jitter*oz21;\n\n                    vec3 dx22 = Pfx + jitter*ox22;\n                    vec3 dy22 = Pfy.y + jitter*oy22;\n                    vec3 dz22 = Pfz.y + jitter*oz22;\n\n                    vec3 dx23 = Pfx + jitter*ox23;\n                    vec3 dy23 = Pfy.y + jitter*oy23;\n                    vec3 dz23 = Pfz.z + jitter*oz23;\n\n                    vec3 dx31 = Pfx + jitter*ox31;\n                    vec3 dy31 = Pfy.z + jitter*oy31;\n                    vec3 dz31 = Pfz.x + jitter*oz31;\n\n                    vec3 dx32 = Pfx + jitter*ox32;\n                    vec3 dy32 = Pfy.z + jitter*oy32;\n                    vec3 dz32 = Pfz.y + jitter*oz32;\n\n                    vec3 dx33 = Pfx + jitter*ox33;\n                    vec3 dy33 = Pfy.z + jitter*oy33;\n                    vec3 dz33 = Pfz.z + jitter*oz33;\n\n                    vec3 d11 = dx11 * dx11 + dy11 * dy11 + dz11 * dz11;\n                    vec3 d12 = dx12 * dx12 + dy12 * dy12 + dz12 * dz12;\n                    vec3 d13 = dx13 * dx13 + dy13 * dy13 + dz13 * dz13;\n                    vec3 d21 = dx21 * dx21 + dy21 * dy21 + dz21 * dz21;\n                    vec3 d22 = dx22 * dx22 + dy22 * dy22 + dz22 * dz22;\n                    vec3 d23 = dx23 * dx23 + dy23 * dy23 + dz23 * dz23;\n                    vec3 d31 = dx31 * dx31 + dy31 * dy31 + dz31 * dz31;\n                    vec3 d32 = dx32 * dx32 + dy32 * dy32 + dz32 * dz32;\n                    vec3 d33 = dx33 * dx33 + dy33 * dy33 + dz33 * dz33;\n\n                    // Sort out the two smallest distances (F1, F2)\n                #if 0\n                    // Cheat and sort out only F1\n                    vec3 d1 = min(min(d11,d12), d13);\n                    vec3 d2 = min(min(d21,d22), d23);\n                    vec3 d3 = min(min(d31,d32), d33);\n                    vec3 d = min(min(d1,d2), d3);\n                    d.x = min(min(d.x,d.y),d.z);\n                    return vec2(sqrt(d.x)); // F1 duplicated, no F2 computed\n                #else\n                    // Do it right and sort out both F1 and F2\n                    vec3 d1a = min(d11, d12);\n                    d12 = max(d11, d12);\n                    d11 = min(d1a, d13); // Smallest now not in d12 or d13\n                    d13 = max(d1a, d13);\n                    d12 = min(d12, d13); // 2nd smallest now not in d13\n                    vec3 d2a = min(d21, d22);\n                    d22 = max(d21, d22);\n                    d21 = min(d2a, d23); // Smallest now not in d22 or d23\n                    d23 = max(d2a, d23);\n                    d22 = min(d22, d23); // 2nd smallest now not in d23\n                    vec3 d3a = min(d31, d32);\n                    d32 = max(d31, d32);\n                    d31 = min(d3a, d33); // Smallest now not in d32 or d33\n                    d33 = max(d3a, d33);\n                    d32 = min(d32, d33); // 2nd smallest now not in d33\n                    vec3 da = min(d11, d21);\n                    d21 = max(d11, d21);\n                    d11 = min(da, d31); // Smallest now in d11\n                    d31 = max(da, d31); // 2nd smallest now not in d31\n                    d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n                    d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n                    d12 = min(d12, d21); // 2nd smallest now not in d21\n                    d12 = min(d12, d22); // nor in d22\n                    d12 = min(d12, d31); // nor in d31\n                    d12 = min(d12, d32); // nor in d32\n                    d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n                    d11.y = min(d11.y,d12.z); // Only two more to go\n                    d11.y = min(d11.y,d11.z); // Done! (Phew!)\n                    return sqrt(d11.xy); // F1, F2\n                #endif\n                }\n\n                #define PI 3.14159\n                uniform float uTime;\n\n                varying vec2 vUv;\n                varying vec3 vViewDir;\n                varying vec3 vViewPos;\n\n                void main()\n                {\n                    float noise = cellular(4. * vec3(position.x, position.y + 0.2 * cos(2.*PI*uTime), position.z + 0.2 * sin(2.*PI*uTime))).x;\n                    noise = noise * (2. - noise); //ease in out function\n                    vec3 newPos = vec3(position + noise * normalize(position));\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n\n                    vUv = uv;\n                }\n            `,\n            fragmentShader: `\n                varying vec2 vUv;\n\n                void main()\n                {\n                    gl_FragColor = vec4(vUv, 0., 1.);\n                }\n            `,\n            extensions: this.extensions\n        });\n        return material;\n    };\n\n    makePointsMaterial() {\n        const material = new ShaderMaterial({\n            uniforms: this.uniforms,\n            vertexShader: `\n\n            vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n                \n            vec3 mod7(vec3 x) { return x - floor(x * (1.0 / 7.0)) * 7.0; }   \n\n            vec3 permute(vec3 x) { return mod289((34.0 * x + 1.0) * x); }\n\n            vec2 cellular(vec3 P) \n            {\n                #define K 0.142857142857 // 1/7\n                #define Ko 0.428571428571 // 1/2-K/2\n                #define K2 0.020408163265306 // 1/(7*7)\n                #define Kz 0.166666666667 // 1/6\n                #define Kzo 0.416666666667 // 1/2-1/6*2\n                #define jitter 1.0 // smaller jitter gives more regular pattern\n\n                vec3 Pi = mod289(floor(P));\n                vec3 Pf = fract(P) - 0.5;\n\n                vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n                vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n                vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n                vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\n                vec3 p1 = permute(p + Pi.y - 1.0);\n                vec3 p2 = permute(p + Pi.y);\n                vec3 p3 = permute(p + Pi.y + 1.0);\n\n                vec3 p11 = permute(p1 + Pi.z - 1.0);\n                vec3 p12 = permute(p1 + Pi.z);\n                vec3 p13 = permute(p1 + Pi.z + 1.0);\n\n                vec3 p21 = permute(p2 + Pi.z - 1.0);\n                vec3 p22 = permute(p2 + Pi.z);\n                vec3 p23 = permute(p2 + Pi.z + 1.0);\n\n                vec3 p31 = permute(p3 + Pi.z - 1.0);\n                vec3 p32 = permute(p3 + Pi.z);\n                vec3 p33 = permute(p3 + Pi.z + 1.0);\n\n                vec3 ox11 = fract(p11*K) - Ko;\n                vec3 oy11 = mod7(floor(p11*K))*K - Ko;\n                vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n                vec3 ox12 = fract(p12*K) - Ko;\n                vec3 oy12 = mod7(floor(p12*K))*K - Ko;\n                vec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n                vec3 ox13 = fract(p13*K) - Ko;\n                vec3 oy13 = mod7(floor(p13*K))*K - Ko;\n                vec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n                vec3 ox21 = fract(p21*K) - Ko;\n                vec3 oy21 = mod7(floor(p21*K))*K - Ko;\n                vec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n                vec3 ox22 = fract(p22*K) - Ko;\n                vec3 oy22 = mod7(floor(p22*K))*K - Ko;\n                vec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n                vec3 ox23 = fract(p23*K) - Ko;\n                vec3 oy23 = mod7(floor(p23*K))*K - Ko;\n                vec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n                vec3 ox31 = fract(p31*K) - Ko;\n                vec3 oy31 = mod7(floor(p31*K))*K - Ko;\n                vec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n                vec3 ox32 = fract(p32*K) - Ko;\n                vec3 oy32 = mod7(floor(p32*K))*K - Ko;\n                vec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n                vec3 ox33 = fract(p33*K) - Ko;\n                vec3 oy33 = mod7(floor(p33*K))*K - Ko;\n                vec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n                vec3 dx11 = Pfx + jitter*ox11;\n                vec3 dy11 = Pfy.x + jitter*oy11;\n                vec3 dz11 = Pfz.x + jitter*oz11;\n\n                vec3 dx12 = Pfx + jitter*ox12;\n                vec3 dy12 = Pfy.x + jitter*oy12;\n                vec3 dz12 = Pfz.y + jitter*oz12;\n\n                vec3 dx13 = Pfx + jitter*ox13;\n                vec3 dy13 = Pfy.x + jitter*oy13;\n                vec3 dz13 = Pfz.z + jitter*oz13;\n\n                vec3 dx21 = Pfx + jitter*ox21;\n                vec3 dy21 = Pfy.y + jitter*oy21;\n                vec3 dz21 = Pfz.x + jitter*oz21;\n\n                vec3 dx22 = Pfx + jitter*ox22;\n                vec3 dy22 = Pfy.y + jitter*oy22;\n                vec3 dz22 = Pfz.y + jitter*oz22;\n\n                vec3 dx23 = Pfx + jitter*ox23;\n                vec3 dy23 = Pfy.y + jitter*oy23;\n                vec3 dz23 = Pfz.z + jitter*oz23;\n\n                vec3 dx31 = Pfx + jitter*ox31;\n                vec3 dy31 = Pfy.z + jitter*oy31;\n                vec3 dz31 = Pfz.x + jitter*oz31;\n\n                vec3 dx32 = Pfx + jitter*ox32;\n                vec3 dy32 = Pfy.z + jitter*oy32;\n                vec3 dz32 = Pfz.y + jitter*oz32;\n\n                vec3 dx33 = Pfx + jitter*ox33;\n                vec3 dy33 = Pfy.z + jitter*oy33;\n                vec3 dz33 = Pfz.z + jitter*oz33;\n\n                vec3 d11 = dx11 * dx11 + dy11 * dy11 + dz11 * dz11;\n                vec3 d12 = dx12 * dx12 + dy12 * dy12 + dz12 * dz12;\n                vec3 d13 = dx13 * dx13 + dy13 * dy13 + dz13 * dz13;\n                vec3 d21 = dx21 * dx21 + dy21 * dy21 + dz21 * dz21;\n                vec3 d22 = dx22 * dx22 + dy22 * dy22 + dz22 * dz22;\n                vec3 d23 = dx23 * dx23 + dy23 * dy23 + dz23 * dz23;\n                vec3 d31 = dx31 * dx31 + dy31 * dy31 + dz31 * dz31;\n                vec3 d32 = dx32 * dx32 + dy32 * dy32 + dz32 * dz32;\n                vec3 d33 = dx33 * dx33 + dy33 * dy33 + dz33 * dz33;\n\n                // Sort out the two smallest distances (F1, F2)\n            #if 0\n                // Cheat and sort out only F1\n                vec3 d1 = min(min(d11,d12), d13);\n                vec3 d2 = min(min(d21,d22), d23);\n                vec3 d3 = min(min(d31,d32), d33);\n                vec3 d = min(min(d1,d2), d3);\n                d.x = min(min(d.x,d.y),d.z);\n                return vec2(sqrt(d.x)); // F1 duplicated, no F2 computed\n            #else\n                // Do it right and sort out both F1 and F2\n                vec3 d1a = min(d11, d12);\n                d12 = max(d11, d12);\n                d11 = min(d1a, d13); // Smallest now not in d12 or d13\n                d13 = max(d1a, d13);\n                d12 = min(d12, d13); // 2nd smallest now not in d13\n                vec3 d2a = min(d21, d22);\n                d22 = max(d21, d22);\n                d21 = min(d2a, d23); // Smallest now not in d22 or d23\n                d23 = max(d2a, d23);\n                d22 = min(d22, d23); // 2nd smallest now not in d23\n                vec3 d3a = min(d31, d32);\n                d32 = max(d31, d32);\n                d31 = min(d3a, d33); // Smallest now not in d32 or d33\n                d33 = max(d3a, d33);\n                d32 = min(d32, d33); // 2nd smallest now not in d33\n                vec3 da = min(d11, d21);\n                d21 = max(d11, d21);\n                d11 = min(da, d31); // Smallest now in d11\n                d31 = max(da, d31); // 2nd smallest now not in d31\n                d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n                d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n                d12 = min(d12, d21); // 2nd smallest now not in d21\n                d12 = min(d12, d22); // nor in d22\n                d12 = min(d12, d31); // nor in d31\n                d12 = min(d12, d32); // nor in d32\n                d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n                d11.y = min(d11.y,d12.z); // Only two more to go\n                d11.y = min(d11.y,d11.z); // Done! (Phew!)\n                return sqrt(d11.xy); // F1, F2\n            #endif\n            }\n\n                uniform float uTime;\n\n                varying vec2 vUv;\n                #define PI 3.14159\n\n                void main()\n                {\n                    float noise = cellular(4. * vec3(position.x, position.y + 0.2 * cos(2.*PI*uTime), position.z + 0.2 * sin(2.*PI*uTime))).x;\n                    noise = noise * (2. - noise); //ease in out function\n                    vec3 newPos = vec3(position + noise * normalize(position));\n                    //gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);\n\n                    vUv = uv;\n\n                    vec4 mvPosition = modelViewMatrix * vec4(newPos, 1.0);\n                    gl_PointSize = 10. * (1./-mvPosition.z);\n                    gl_Position = projectionMatrix * mvPosition;\n\n                    vUv = uv;\n                }\n            `,\n            fragmentShader: `\n                uniform float uTime;\n                uniform vec2 uResolution;\n                uniform vec3 uColor1;\n                uniform sampler2D uTexture;\n\n                varying vec2 vUv;\n\n                void main()\n                {\n                    gl_FragColor = vec4(uColor1, 1.);\n                    gl_FragColor = gl_FragColor * texture2D(uTexture, gl_PointCoord);\n                }\n            `,\n            extensions: this.extensions,\n            blending: AdditiveBlending,\n            depthTest: false,\n            transparent: true\n        });\n        return material;\n    };\n\n\n    update() {\n        this.uniforms.uTime.value += 0.001;\n    };\n}    ","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport texturePath from '../../assets/img/textures/decal.png';\nimport CustomShaderMaterial from './CustomShaderMaterial';\nimport modelPath from '../../assets/models/tiny-man.glb';\nimport { coloursToArray } from '../../utils';\nimport { MeshLambertMaterial } from 'three';\n\nexport default class SceneController {\n    constructor(domElem) {\n        this.domElem = domElem;\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    }\n\n    setup() {\n        this.colourArr = (0, coloursToArray)('https://coolors.co/fb6107-f3de2c-7cb518-5c8001-fbb02d');\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.domElem.appendChild(this.renderer.domElement);\n\n        this.disposed = false;\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 2, 200);\n\n        this.setupCamera();\n        this.setupLight();\n        this.setupControls();\n        this.loadModels();\n        this.setupSceneSubjects();\n    };\n\n    setupCamera() {\n        let VIEW_ANGLE = 70;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 0.1;\n        let FAR_PLANE = 100;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE);\n        this.camera.position.set(0, 2, 4);\n    };\n\n    setupLight() {\n        let pointLight = new THREE.PointLight(this.colourArr[3], 2.);\n        pointLight.position.set(1.5, 1.5, 2.5);\n        this.scene.add(pointLight);\n\n        let pointLight2 = new THREE.PointLight(this.colourArr[0], 1.);\n        pointLight2.position.set(-1.5, 0, -2.5);\n        this.scene.add(pointLight2);\n\n        let pointLight3 = new THREE.PointLight(this.colourArr[1], 1.);\n        pointLight3.position.set(0.5, -1, 0);\n        this.scene.add(pointLight3);\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[3], 1);\n        hemiLight.position.set(0, 0.5, 0);\n        this.scene.add(hemiLight);\n\n        let dirLight = new THREE.DirectionalLight(this.colourArr[1], 1);\n        this.scene.add(dirLight);\n    };\n\n    setupControls() {\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.autoRotate = true;\n        this.controls.autoRotateSpeed = 0.5;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.panSpeed = 0.8;\n        this.controls.enableZoom = true;\n        this.controls.enablePan = true;\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.5;\n        this.controls.maxDistance = 10;\n        this.controls.minDistance = 1;\n    };\n\n    loadModels() {\n        let gltfLoader = new GLTFLoader();\n        gltfLoader.load(modelPath, (gltf) => {\n            gltf.scene.scale.set(0.2, 0.2, 0.2);\n            gltf.scene.position.set(0, -0.3, 0);\n            gltf.scene.traverse(child => {\n                if (child.isMesh) {\n                    child.material.metalness = 1;\n\n                }\n            });\n            this.scene.add(gltf.scene);\n            this.model = gltf.scene;\n        });\n        console.log('Loading Complete!');\n    };\n\n    loadTextures(path) {\n        let textureLoader = new THREE.TextureLoader();\n        let texture = textureLoader.load(path, (texture) => {\n            return texture;\n        });\n        return texture;\n    };\n\n    makeSphere() {\n        const radius = 2;\n        const numElems = 30;\n        const geo = new THREE.SphereBufferGeometry(0.2, 32, 32);\n        const material = new MeshLambertMaterial({ color: this.colourArr[1] });\n        for (let i = 0; i < numElems; i++) {\n            const mesh = new THREE.Mesh(geo, material);\n            const phi = Math.acos(- 1 + (2 * i) / numElems);\n            const theta = Math.sqrt(numElems * Math.PI) * phi;\n            mesh.position.setFromSphericalCoords(radius, phi, theta);\n            this.scene.add(mesh);\n        }\n    }\n\n    setupSceneSubjects() {\n        const geo = new THREE.IcosahedronBufferGeometry(1);\n        const edgeGeo = new THREE.EdgesGeometry(geo);\n        const texture = this.loadTextures(texturePath);\n        this.material = new CustomShaderMaterial(this.colourArr[1], texture);\n\n        const mesh = new THREE.Mesh(geo, this.material.makeMaterial());\n        const edgeLines = new THREE.LineSegments(edgeGeo, this.material.makeLineMaterial());\n        this.scene.add(mesh);\n        this.scene.add(edgeLines);\n        this.makeSphere();\n    };\n\n    update() {\n        if (this.disposed) return;\n        if (this.controls) this.controls.update();\n        if (this.material) this.material.update();\n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n\n    dispose() {\n        this.disposed = true;\n        this.scene.children.forEach(child => {\n            if (child.isMesh) {\n                // child.material.dispose(); //TODO: fix mistake with this line\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        this.domElem.removeChild(this.renderer.domElement);\n    };\n}\n\n","import React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component {\n\n    componentDidMount() {\n        this.threeRootElement.style.outline = 'none';\n        this.sceneController = new SceneController(this.threeRootElement);\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onWindowResize);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners() {\n        window.addEventListener('resize', this.onWindowResize, false);\n    };\n\n    onWindowResize = () => {\n        if (this.sceneController) {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }\n    };\n\n    update = () => {\n        requestAnimationFrame(this.update);\n        if (this.sceneController) this.sceneController.update();\n    };\n\n    render() {\n        return (\n            <div ref={element => this.threeRootElement = element}>\n                <Text />\n            </div>\n        );\n    }\n};\n\nconst Text = () => {\n    return (\n        <div className=\"Info\">\n            Tiny\n            <br />\n            Model by <a id=\"designer\" href=\"https://sketchfab.com/tinyruin\">tinyruin</a>\n        </div>\n    );\n}","import * as THREE from \"three\"\n\nexport function coloursToArray(str) \n{\n    return str.split('/').pop().split('-').map(function (hex) \n    {\n        return new THREE.Color('#' + hex);\n    });\n};\n\nexport function lerp(current, target, speed = 0.1, limit = 0.001) \n{\n    let change = (target - current) * speed;\n    if (Math.abs(change) < limit) \n    {\n      change = target - current;\n    }\n    return change;\n};\n\nexport function getRandomInt(min, max) \n{\n  return Math.round(Math.random() * (max - min) + min);\n};\n\nexport function getRandom(min, max) \n{\n  return Math.random() * (max - min) + min;\n};","/** https://developer.mozilla.org/en-US/docs/Web/API/Pointer_Lock_API\n * https://github.com/mrdoob/three.js/blob/master/examples/misc_controls_pointerlock.html\n */\n\n//TODO: remove listeners(!!!)\n \nimport * as THREE from 'three';\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls.js';\n\nexport default class PointerLockManager \n{\n    constructor(scene, camera)\n    {\n        this.scene = scene;\n        this.camera = camera;\n        this.controls = new PointerLockControls(this.camera, document.body);\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.moveForward = false;\n\t\tthis.moveBackward = false;\n\t\tthis.moveLeft = false;\n\t\tthis.moveRight = false;\n        \n        this.velocity = new THREE.Vector3();\n        this.direction = new THREE.Vector3();\n        this.delta = 0.02; //continuons time, maybe change with clock()\n\n        let blocker = document.getElementById('blocker');\n        let instructions = document.getElementById('instructions');\n        if(instructions)\n        {\n            instructions.addEventListener('click', () => \n            {\n                // console.log('clicked');\n                this.controls.lock();\n            }, \n            false);\n        };\n\n        this.controls.addEventListener('lock', () =>\n        {\n            // console.log('lock');\n            instructions.style.display = 'none';\n            blocker.style.display = 'none';\n        } );\n\n        this.controls.addEventListener('unlock', () => \n        {\n            // console.log('unlock');\n            blocker.style.display = 'block';\n            instructions.style.display = '';\n        } );\n\n        this.scene.add(this.controls.getObject());\n\n        // console.log('object: ', this.getObject());\n        // console.log('controls: ', this.controls);\n    }\n\n    update() \n    {\n        if (this.controls.isLocked === true)\n        {\n\t\t\tthis.velocity.x -= this.velocity.x * 10.0 * this.delta;\n            this.velocity.z -= this.velocity.z * 10.0 * this.delta;\n            this.velocity.y -= 9.8 * 100.0 * this.delta; // 100.0 = mass\n\n            this.direction.z = Number(this.moveForward ) - Number(this.moveBackward );\n\t\t\tthis.direction.x = Number(this.moveRight ) - Number(this.moveLeft );\n\t\t\tthis.direction.normalize(); // this ensures consistent movements in all directions\n\n\t\t\tif(this.moveForward || this.moveBackward) this.velocity.z -= this.direction.z * 400.0 * this.delta;\n            if(this.moveLeft || this.moveRight) this.velocity.x -= this.direction.x * 400.0 * this.delta;\n            \n            this.controls.moveRight(- this.velocity.x * this.delta);\n\t\t\tthis.controls.moveForward(- this.velocity.z * this.delta);\n\n\t\t\tthis.controls.getObject().position.y += (this.velocity.y * this.delta); // new behavior\n\n            if (this.controls.getObject().position.y < 10) \n            {\n                this.velocity.y = 0;\n\t\t\t\tthis.controls.getObject().position.y = 10;\n\t\t\t}\n\t\t}\n\t}\n\n    onKeyDown(e) \n    {\n        switch (e.keyCode) \n        {\n            case 38: // up\n            case 87: // w\n                this.moveForward = true;\n                // console.log(e.keyCode);\n                break;\n\n            case 37: // left\n            case 65: // a\n                this.moveLeft = true;\n                break;\n\n            case 40: // down\n            case 83: // s\n                this.moveBackward = true;\n                break;\n\n            case 39: // right\n            case 68: // d\n                this.moveRight = true;\n                break;\n            default: console.log(\"use up-down-left-right arrows\");    \n        }\n    };\n\n    onKeyUp(e) \n    {\n        switch(e.keyCode) \n        {\n            case 38: // up\n            case 87: // w\n                this.moveForward = false;\n                break;\n\n            case 37: // left\n            case 65: // a\n                this.moveLeft = false;\n                break;\n\n            case 40: // down\n            case 83: // s\n                this.moveBackward = false;\n                break;\n\n            case 39: // right\n            case 68: // d\n                this.moveRight = false;\n                break;\n            default: console.log(\"use up-down-left-right arrows\");   \n        }\n    };\n\n    getObject() \n    {\n        // console.log('getObject: ', this.controls.getObject());\n        return this.controls.getObject();\n        \n    };\n    \n    getDirection()\n    {\n        return this.controls.getDirection();\n    };\n\n    dispose()\n    {\n        this.controls.dispose();\n\n    }\n}","export default class ViewFinderManager\n{\n    constructor()\n    {\n        this.pointerGrow = document.getElementById(\"pointerGrow\");\n        this.pointerShrink = document.getElementById(\"pointerShrink\");\n        this.isPointerBig = false;\n    }\n\n    onActionStart() \n    {\n\t\ttry {\n            if(!this.isPointerBig)\n            // console.log('action started');\n            this.pointerGrow.beginElement();\n\n\t\t\tthis.isPointerBig = true;\n        } catch(error) \n        {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n\n    onActionEnd() \n    {\n\t\ttry {\n\t\t\tif(this.isPointerBig)\n            this.pointerShrink.beginElement();\n\n            this.isPointerBig = false;\n        } catch(error) \n        {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n}","import * as THREE from 'three';\nimport { BoxLineGeometry } from 'three/examples/jsm/geometries/BoxLineGeometry.js';\n\nexport default class Room \n{\n    constructor(scene)\n    {\n        this.scene = scene;\n        this.size = new THREE.Vector3(800, 200, 800);\n        this.setup();\n    };\n\n    setup()\n    {\n        this.room = new THREE.LineSegments(\n            new BoxLineGeometry(this.size.x, this.size.y, this.size.z, 100, 100, 100 ),\n            new THREE.LineBasicMaterial( { color: 0xEFD3D7 } )\n        );\n        this.room.geometry.translate(0, this.size.y/2, 0);\n        this.scene.add(this.room);\n    };\n\n    update(time)\n    {\n        // this.room.material.color.setHSL(Math.sin(time), 0.5, 0.5);\n    };\n\n    getWidth()\n    {\n        return this.size.x;\n    };\n\n    getHeight()\n    {\n        return this.size.y;\n    };\n}","import * as THREE from 'three';\nimport texturePath from '../../assets/img/textures/grid.jpg';\n\nexport default class Terrain\n{\n    constructor(scene, color)\n    {\n        this.scene = scene;\n        this.color = color;\n        this.size = new THREE.Vector2(800, 800);\n        // this.setup();\n    }\n\n    setup()\n    {\n        let texLoader = new THREE.TextureLoader();\n        let groundMap = texLoader.load(texturePath, (tex) =>\n        {\n            tex.wrapS = THREE.RepeatWrapping;\n            tex.wrapT = THREE.RepeatWrapping;\n            let repeatCount = 100;\n            tex.repeat.set(repeatCount, repeatCount);\n            tex.offset.set(0.5, 0.5);\n            tex.anisotropy = 16; \n            //tex.minFilter = THREE.LinearMipmapNearestFilter;\n        }); \n        \n        let groundPlane = new THREE.Mesh(new THREE.PlaneBufferGeometry(this.size.x, this.size.y), new THREE.MeshStandardMaterial({\n            color: this.color,\n            map: groundMap,\n            bumpMap: groundMap,\n            bumpScale: 0.005,\n            metalness: 0.01,\n            roughness: 0\n        }));\n\n        groundPlane.receiveShadow = true;\n        groundPlane.position.y = 0;\n        groundPlane.quaternion.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2);\n        this.scene.add(groundPlane);\n    };\n\n    getSize()\n    {\n        return this.size.x;\n    };\n}","import * as THREE from 'three';\nimport gsap from 'gsap';\nimport { getRandom } from './utils';\n\nexport default class TrioMesh\n{\n    constructor(scene, terrainSize)\n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.trioMeshes = [];\n        this.speed1 = 1;\n        this.speed2 = .5;\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.material = new THREE.MeshStandardMaterial();\n        this.luminosityFact = 3.;\n        const group2 = new THREE.Object3D();\n        \n        for(let i=0; i<70; i++) \n        {\n            this.material.color.setHSL(getRandom(0, 1), .5, .5);\n            const x = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            const z = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            const xOffset = getRandom(-this.terrainSize/3, this.terrainSize/3);\n\t\t    //const zOffset = getRandom(-this.terrainSize/6, 0);\n    \n            const size = getRandom(2, 7);\n    \n            let mesh = new THREE.Mesh(new THREE.OctahedronGeometry(size, 0), this.material);\n            mesh.size = size;\n            mesh.position.set(x, size, z);\t\n            mesh.name = \"intersectable\";\n    \n            const small1 = mesh.clone();\n            const scale = getRandom(0.2, 0.3);\t\t\n            small1.scale.set(scale, scale, scale);\n            \n            const small2 = small1.clone();\n            const group1 = new THREE.Object3D();\n            group1.add(mesh);\n            group1.add(small1);\n            group1.add(small2);\n\n            //wireframe octas\n            const meshSize = 3;\n\t\t\tlet wfMesh = new THREE.LineSegments(\n\t\t\t\tnew THREE.EdgesGeometry(new THREE.OctahedronGeometry(meshSize, 0)),\n\t\t\t\tnew THREE.LineBasicMaterial()\n            \t);\n            // let wfMesh = new THREE.Mesh(\n\t\t\t// \tnew THREE.OctahedronGeometry(meshSize, 0),\n\t\t\t// \tnew THREE.MeshLambertMaterial({\n\t\t\t// \t\tcolor: 0xFF5969,\n\t\t\t// \t\twireframe: true\n\t\t\t// \t})\n\t\t\t// \t);\n            wfMesh.position.set(xOffset, 15, z);\n            group1.add(wfMesh);\n\n            // let light = new THREE.PointLight(0xFF5969, 1, 50, 2);\n            // light.position.set(x, size+50, z);\n            // group2.add(light);\n            \n            this.scene.add(group1);\n            this.scene.add(group2);\n\n            this.trioMeshes.push(group1);\n        }  \n    };\n\n    rotate(mesh) \n    {\n        let tween = gsap\n\t\t\t.to(mesh.rotation, 5, {y: mesh.rotation.y+Math.PI/2, z: mesh.rotation.z+Math.PI/2});\n        tween.play();\n\t}\n\n    update(time) \n    {\n        this.material.color.setHSL(Math.sin(time), 0.5, 0.5);\n\t\tconst scale = (Math.sin(time)+6)/7;\n\t\tconst ang1 = time/2;\n        const ang2 = time/4;\n        time += 0.01;\n\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            const octahedron = this.trioMeshes[i].children[0];\n\n\t\t\tconst rad = octahedron.size;\n\t\t\tconst small1 = this.trioMeshes[i].children[1];\n            const small2 = this.trioMeshes[i].children[2];\n            const wireFr = this.trioMeshes[i].children[3];\n\n\t\t\tsmall1.position.x = octahedron.position.x + rad * Math.sin(ang1*this.speed1) * Math.cos(ang2*this.speed1);\n\t\t\tsmall1.position.y = octahedron.position.y + rad * Math.sin(ang1*this.speed1) * Math.sin(ang2*this.speed1);\n\t\t\tsmall1.position.z = octahedron.position.z + rad * Math.cos(ang1*this.speed1);\n\n\t\t\tsmall2.position.x = octahedron.position.x + rad * Math.sin(-ang1*this.speed2) * Math.cos(-ang2*this.speed2);\n\t\t\tsmall2.position.y = octahedron.position.y + rad * Math.sin(-ang1*this.speed2) * Math.sin(-ang2*this.speed2);\n            small2.position.z = octahedron.position.z + rad * Math.cos(-ang1*this.speed2);\n\n            octahedron.scale.set(scale, scale, scale);\n            wireFr.scale.set(scale, scale, scale);\n\t\t}\n\t};\n    \n    onAction(e)\n    {\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            this.rotate(this.trioMeshes[i].children[0]);\n\t        this.rotate(this.trioMeshes[i].children[1]);\n            this.rotate(this.trioMeshes[i].children[2]);\n            this.rotate(this.trioMeshes[i].children[3]);\n        }      \n    };\n}","//TODO: maybe add flocks of small boxes flying aroung\n//different animations and choose from them randomly on click\n\nimport * as THREE from \"three\";\nimport gsap from 'gsap';\nimport { getRandom } from './utils';\n\nexport default class PropMesh\n{\n\tconstructor(scene, terrainSize)\n\t{\n\t\tthis.scene = scene;\n\t\tthis.terrainSize = terrainSize;\n\t\tthis.isAnimating = false;\n\t\tthis.luminosityFact = 0;\n\t\tthis.propMeshes = [];\n\t\t// this.lights = [];\n\n\t\tthis.setup();\t\n\t};\n\n\tsetup()\n\t{\n\t\tconst size = 1;\n\t\tlet geometry = new THREE.BoxBufferGeometry(size, size*2, size);\n\t\t// let geometry = new THREE.CylinderBufferGeometry(size, size, size*2, 6);\n\n\t\tconst group1 = new THREE.Object3D();\n\t\tconst group2 = new THREE.Object3D();\n\n\t\tthis.material = new THREE.MeshStandardMaterial(); //new THREE.MeshPhongMaterial({ ambient: 0x050505, color: 0x0033ff, specular: 0x555555, shininess: 30 }); //\n\t\tconst xOffset = getRandom(-this.terrainSize/20, this.terrainSize/20);\n\t\tconst zOffset = getRandom(-this.terrainSize/6, 0);\n\t\tconst radStep = 30;\n\t\tconst angleStep = Math.PI/3;\n\t\tlet angle = angleStep;\n\t\tlet radius = radStep;\n\t\tlet index = 0;\n\t\tfor(let i=0; i<50; i++) \n\t\t{\n\t\t\tthis.material.color.setHSL(getRandom(0, 1), .2, .5);\n\t\t\tlet mesh = new THREE.Mesh(geometry, this.material);\n\t\t\tmesh.position.y = 10;\n\t\t\tmesh.position.x = xOffset + radius*Math.cos(angle);\n\t\t\tmesh.position.z = zOffset + radius*Math.sin(angle);\n\t\t\tmesh.rotation.y = -angle;\n\t\t\tmesh.scale.y = (4 - index) + 1;\n\t\t\tgroup1.add(mesh);\n\n\t\t\t// console.log(xOffset);\n\t\t\t// console.log('radius: ', radius*Math.cos(angle));\n\t\t\tlet light = new THREE.PointLight(0xff5969, 1, 200, 2);\n\t\t\tlight.position.set(xOffset + radius*Math.cos(angle), 1, zOffset + radius*Math.sin(angle));\n\t\t\t//console.log(light.position);\n\t\t\t// light.castShadow = true;\n\t\t\tgroup2.add(light);\n\n\t\t\tlet meshSize = 2;//getRandom(2, 5);\n\t\t\t// let wfMesh = new THREE.LineSegments(\n\t\t\t// \tnew THREE.EdgesGeometry(new THREE.SphereBufferGeometry(meshSize, 12)),\n\t\t\t// \tnew THREE.LineBasicMaterial()\n\t\t\t// \t);\n\t\t\tlet wfMesh = new THREE.Mesh(\n\t\t\t\tnew THREE.SphereBufferGeometry(meshSize, 12),\n\t\t\t\tnew THREE.MeshLambertMaterial({\n\t\t\t\t\t// color: 0xFF5969,\n\t\t\t\t\twireframe: true\n\t\t\t\t})\n\t\t\t\t);\n            wfMesh.position.set(mesh.position.x, mesh.position.y*2, mesh.position.z);\n            group2.add(wfMesh);\n\n\t\t\tif(angle >= Math.PI*2) \n\t\t\t{\n\t\t\t\tangle = angleStep;\n\t\t\t\tradius += radStep;\n\t\t\t\tindex++;\n\t\t\t} \n\t\t\telse \n\t\t\t{\n\t\t\t\tangle += angleStep;\n\t\t\t}\n\t\t}\n\n\t\tthis.scene.add(group1);\n\t\tthis.scene.add(group2);\n\t\tthis.propMeshes.push(group1);\n\t};\n\n\tupdate(time) \n\t{\n\t\tthis.luminosityFact = this.isAnimating ? .2 : 0;\n\t\tthis.material.emissive.setHSL((Math.sin(time/2)+3)/4, (Math.sin(time/4)+3)/4, .2 + this.luminosityFact);\n\t}\n\n\tonAction(e) \n\t{\n\t\tif(this.isAnimating) return;\n\n\t\tif(e) \n\t\t{\n\t\t\tfor(let i=0; i<this.propMeshes[0].children.length; i++)\n\t\t\t{\n\t\t\t\tthis.changeColor();\n\t\t\t\tthis.bump(this.propMeshes[0].children[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tchangeColor() \n\t{\n\t\tthis.material.color.setHSL(getRandom(0, 1), .5, .5);\n\t};\n\n\tbump(mesh) \n\t{\t\n\t\tthis.isAnimating = true;\n\t\tconst originalScaleX = mesh.scale.z;\n\t\tconst originalScaleY = mesh.scale.y;\n\t\tconst originalScaleZ = mesh.scale.z;\n\t\tconst easing = 'bounce';\n\n\t\tlet bump = gsap.timeline();\n\t\tbump.to(mesh.scale, 1, {x: 1.02, y: 1.02, z: 1.02, ease:easing})\n\t\t\t.to(mesh.scale, 1, {x: originalScaleX, y: originalScaleY, z: originalScaleZ, ease:easing});\n\t\t\n\t\tbump.eventCallback(\"onComplete\", () =>\n\t\t{\n\t\t\tthis.isAnimating = false;\n\t\t});\n\n\t};\n\t\n\trotate(mesh) \n    {\n        let tween = gsap\n\t\t\t.to(mesh.rotation, 10, {y: mesh.rotation.y+Math.PI/2, z: mesh.rotation.z+Math.PI/2});\n        tween.play();\n\t};\n}\n\t","import * as THREE from 'three';\nimport gsap from 'gsap';\nimport { getRandom } from './utils';\n\nexport default class TrioSpheres\n{\n    constructor(scene, terrainSize)\n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.trioMeshes = [];\n        this.speed1 = 1;\n        this.speed2 = .3;\n        this.isAnimating = false;\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.material = new THREE.MeshStandardMaterial();\n        this.luminosityFact = 2.;\n        const group2 = new THREE.Object3D();\n        \n        for(let i=0; i<70; i++) \n        {\n            this.material.color.setHSL(getRandom(0, 1), .5, .5);\n            const x = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            const z = getRandom(-this.terrainSize/2, this.terrainSize/2);\n            // const xOffset = getRandom(-this.terrainSize/3, this.terrainSize/3);\n\t\t    //const zOffset = getRandom(-this.terrainSize/6, 0);\n    \n            const size = getRandom(2, 5);\n    \n            let mesh = new THREE.Mesh(new THREE.SphereBufferGeometry(size, 32, 32), this.material);\n            mesh.size = size;\n            mesh.position.set(x, size, z);\t\n            mesh.name = \"intersectable\";\n    \n            const small1 = mesh.clone();\n            const scale = getRandom(0.2, 0.3);\t\t\n            small1.scale.set(scale, scale, scale);\n            \n            const small2 = small1.clone();\n            const group1 = new THREE.Object3D();\n            group1.add(mesh);\n            group1.add(small1);\n            group1.add(small2);\n            \n            this.scene.add(group1);\n            this.scene.add(group2);\n\n            this.trioMeshes.push(group1);\n        }  \n    };\n\n    rotate(mesh) \n    {\n        let tween = gsap\n\t\t\t.to(mesh.rotation, 10, {y: mesh.rotation.y+Math.PI/2, z: mesh.rotation.z+Math.PI/2});\n        tween.play();\n    };\n\n    // bump(mesh)\n    // {\n    //     this.isAnimating = true;\n    //     const originalPosX = mesh.position.z;\n\t// \tconst originalPosY = mesh.position.y;\n\t// \tconst originalPosZ = mesh.position.z;\n\t// \tconst easing = 'bounce';\n\n\t// \tlet bump = gsap.timeline();\n\t// \tbump.to(mesh.position, 1, {x: mesh.position.x + 1.02, y: mesh.position.y + 1.02, z: mesh.position + 1.02, ease:easing})\n\t// \t\t.to(mesh.position, 1, {x: originalPosX, y: originalPosY, z: originalPosZ, ease:easing});\n\t\t\n\t// \tbump.eventCallback(\"onComplete\", () =>\n\t// \t{\n\t// \t\tthis.isAnimating = false;\n\t// \t});\n    // }\n    \n\n    update(time) \n    {\n        this.material.color.setHSL(Math.sin(time), 0.5, 0.5);\n\t\tconst scale = (Math.sin(time)+6)/7;\n\t\tconst ang1 = time/2;\n        const ang2 = time/4;\n        time += 0.01;\n\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            const sphere = this.trioMeshes[i].children[0];\n\n\t\t\tconst rad = sphere.size;\n\t\t\tconst small1 = this.trioMeshes[i].children[1];\n            const small2 = this.trioMeshes[i].children[2];\n\n\t\t\tsmall1.position.x = sphere.position.x + rad * Math.sin(ang1*this.speed1) * Math.cos(ang2*this.speed1);\n\t\t\tsmall1.position.y = sphere.position.y + rad * Math.sin(ang1*this.speed1) * Math.sin(ang2*this.speed1);\n\t\t\tsmall1.position.z = sphere.position.z + rad * Math.cos(ang1*this.speed1);\n\n\t\t\tsmall2.position.x = sphere.position.x + rad * Math.sin(-ang1*this.speed2) * Math.cos(-ang2*this.speed2);\n\t\t\tsmall2.position.y = sphere.position.y + rad * Math.sin(-ang1*this.speed2) * Math.sin(-ang2*this.speed2);\n            small2.position.z = sphere.position.z + rad * Math.cos(-ang1*this.speed2);\n\n            sphere.scale.set(scale, scale, scale);\n\t\t}\n\t};\n    \n    onAction(e)\n    {\n        for(let i=0; i<this.trioMeshes.length; i++) \n        {\n            // this.bump(this.trioMeshes[i].children[0]);\n            // this.bump(this.trioMeshes[i].children[1]);\n            // this.bump(this.trioMeshes[i].children[2]);\n            // this.rotate(this.trioMeshes[i].children[0]);\n\t        // this.rotate(this.trioMeshes[i].children[1]);\n            // this.rotate(this.trioMeshes[i].children[2]);\n        }      \n    };\n}","/** Class responsible for scene subject management;\n * - constructor must take a Scene object;\n * - must have a public update() method.\n */\n\nimport TrioMesh from './TrioMesh';\nimport PropMesh from './PropMesh';\nimport TrioSpheres from './TrioSpheres';\n\nexport default class GeoSpawner\n{\n    constructor(scene, terrainSize) \n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.geos = [];\n        \n        this.geos.push(new TrioMesh(this.scene, this.terrainSize));\n        this.geos.push(new TrioSpheres(this.scene, this.terrainSize));\n        this.geos.push(new PropMesh(this.scene, this.terrainSize));\n        this.mouseDown = false;\n    }\n\n    update(time) \n    {\t\n        for(let i=0; i<this.geos.length; i++) \n        {\n            this.geos[i].update(time);\n\t\t}\n\n        if(this.mouseDown) \n        {\n\t\t\tthis.onMouseDown();\n        }\n\n\t\tthis.mouseDown = false;\n    };\n    \n    onMouseDown(e)\n    {\n        for(let i=0; i<this.geos.length; i++) \n        {\n            this.geos[i].onAction(e);\n\t\t}\n        this.mouseDown = true; \n    };\n}","import * as THREE from 'three';\n\nimport { getRandom } from './utils';\nimport SpriteText from 'three-spritetext';\n\n/**\n * @param {[object]} texture [texture loaded from SceneController] \n * @param {[vec3]} pos [position of the plane]\n */\nexport default class ImagePlane {\n  constructor(scene, topTexture, bgrTexture, pos) {\n    this.scene = scene;\n    this.topTexture = topTexture;\n    this.bgrTexture = bgrTexture;\n    this.pos = pos;\n    this.isAnimating = true;\n  }\n\n  setup() {\n    this.mouse = new THREE.Vector2(0, 0);\n\n    this.uniforms = {\n      uTopImage: { value: this.topTexture },\n      uBgrImage: { value: this.bgrTexture },\n      uTime: { value: 0 },\n      uRes: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n      uColourMult: { value: new THREE.Vector4(0.65, 0.53, 0.1, 1.) }\n      //uColourMult: { value: new THREE.Vector4(0.74, 0.89, 0.75, 1.) }\n      // uColourMult: { value: new THREE.Vector4(0.175, 0.213, 0.191, 1.) }\n    };\n\n    const height = 40;\n    const width = 40;\n    const segments = 1; //128;\n    let geometry = new THREE.PlaneBufferGeometry(width, height, segments, segments);\n    let material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: `\n          varying vec2 vUv;\n          void main() \n          {\n              vUv = uv;\n              gl_Position = projectionMatrix * modelViewMatrix * \n                  vec4(position, 1.0);\n          }`,\n      fragmentShader: `\n          precision mediump float;\n\n          uniform vec2 uRes;\n          uniform vec2 uMouse;\n          uniform float uTime;\n          uniform sampler2D uBgrImage;\n          uniform sampler2D uTopImage;\n          uniform vec4 uColourMult;\n  \n          varying vec2 vUv;\n\n          float circle(vec2 st, float radius, float blurriness)\n          {\n            vec2 dist = st;\n            return 1.-smoothstep(radius-(radius*blurriness), radius+(radius*blurriness), dot(dist,dist)*4.0);\n          }\n\n          float rect(vec2 st, vec2 size)\n          {\n            size = vec2(0.5) - size*0.5;\n            vec2 uv = smoothstep(size, size+vec2(0.001), st);\n            uv *= smoothstep(size, size+vec2(0.001), vec2(1.0)-st);\n            return uv.x*uv.y;\n          }\n\n          vec3 mod289(vec3 x) \n          {\n           return x - floor(x * (1.0 / 289.0)) * 289.0;\n          }\n\n          vec4 mod289(vec4 x) \n          {\n           return x - floor(x * (1.0 / 289.0)) * 289.0;\n          }\n\n          vec4 permute(vec4 x) \n          {\n            return mod289(((x*34.0)+1.0)*x);\n          }\n\n          vec4 taylorInvSqrt(vec4 r)\n          {\n            return 1.79284291400159 - 0.85373472095314 * r;\n          }\n\n          float snoise3(vec3 v)\n          {\n            const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n            const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n            // First corner\n            vec3 i  = floor(v + dot(v, C.yyy) );\n            vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n            // Other corners\n            vec3 g = step(x0.yzx, x0.xyz);\n            vec3 l = 1.0 - g;\n            vec3 i1 = min( g.xyz, l.zxy );\n            vec3 i2 = max( g.xyz, l.zxy );\n\n            //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n            //   x1 = x0 - i1  + 1.0 * C.xxx;\n            //   x2 = x0 - i2  + 2.0 * C.xxx;\n            //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n            vec3 x1 = x0 - i1 + C.xxx;\n            vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n            vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n            // Permutations\n            i = mod289(i);\n            vec4 p = permute( permute( permute(\n                        i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                    + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n                    + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n            // Gradients: 7x7 points over a square, mapped onto an octahedron.\n            // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n            float n_ = 0.142857142857; // 1.0/7.0\n            vec3  ns = n_ * D.wyz - D.xzx;\n\n            vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n            vec4 x_ = floor(j * ns.z);\n            vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n    \n            vec4 x = x_ *ns.x + ns.yyyy;\n            vec4 y = y_ *ns.x + ns.yyyy;\n            vec4 h = 1.0 - abs(x) - abs(y);\n\n            vec4 b0 = vec4( x.xy, y.xy );\n            vec4 b1 = vec4( x.zw, y.zw );\n\n            //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n            //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n            vec4 s0 = floor(b0)*2.0 + 1.0;\n            vec4 s1 = floor(b1)*2.0 + 1.0;\n            vec4 sh = -step(h, vec4(0.0));\n\n            vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n            vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n            vec3 p0 = vec3(a0.xy,h.x);\n            vec3 p1 = vec3(a0.zw,h.y);\n            vec3 p2 = vec3(a1.xy,h.z);\n            vec3 p3 = vec3(a1.zw,h.w);\n\n            //Normalise gradients\n            vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n            p0 *= norm.x;\n            p1 *= norm.y;\n            p2 *= norm.z;\n            p3 *= norm.w;\n\n            // Mix final noise value\n            vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n            m = m * m;\n            return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                            dot(p2,x2), dot(p3,x3) ) );\n          }\n  \n          void main() \n          {\n            vec2 res = uRes * PR;\n            vec2 st = gl_FragCoord.xy / res.xy - vec2(0.5);\n            st.y *= res.y / res.x;\n\n            vec2 mouse = uMouse * -0.5;\n            vec2 circlePos = st + mouse;\n            float c = circle(circlePos, 0.15, 2.) * 2.5;\n            //float c = circle(circlePos, 0.025, 1.) * 2.;\n\n            float offx = vUv.x + sin(vUv.y + uTime * 0.1);\n            float offy = vUv.y - uTime * 0.1 - cos(uTime * .001) * .01;\n\n            float n = snoise3(vec3(offx, offy, uTime * .1) * 8.) - 1.;\n            //float finalMask = smoothstep(0.4, 0.5, n + pow(c, 2.));\n            float finalMask = smoothstep(0.4, 0.5, pow(c, 2.));\n\n            vec4 colourShift = vec4(cos(uTime), uColourMult.g, uColourMult.b, uColourMult.a); \n            vec4 topImage = texture2D(uTopImage, vUv) * uColourMult; //colourShift;\n            vec4 bgrImage = texture2D(uBgrImage, vUv);\n            vec4 finalImage = mix(topImage, bgrImage, finalMask);\n            gl_FragColor = finalImage;\n          }`,\n      //   side: THREE.DoubleSide,\n      defines: {\n        PR: window.devicePixelRatio.toFixed(1)\n      }\n    });\n    this.mesh = new THREE.Mesh(geometry, material);\n    this.mesh.name = \"imagePlane\";\n    this.mesh.position.set(this.pos.x, this.pos.y, this.pos.z);\n    let angle = getRandom(-1., 1.);\n    this.mesh.rotateY(angle);\n    this.scene.add(this.mesh);\n  };\n\n  createText(textArr) {\n    let text = new SpriteText(textArr, 2);\n    this.mesh.add(text);\n    text.position.set(1, 1, 5);\n    text.fontFace = 'Sulphur Point';\n  }\n\n  update() {\n    this.uniforms.uTime.value += 0.01;\n    if (this.isAnimating) this.mesh.rotation.y += 0.007;\n  };\n\n  onMouseMove(e) {\n    this.mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n    this.mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\n  };\n\n  onMouseDown(e) {\n    this.isAnimating = false;\n  };\n\n  onMouseUp(e) {\n    this.isAnimating = true;\n  };\n}  \n","import * as THREE from 'three';\nimport ImagePlane from './ImagePlane';\nimport { getRandomInt } from './utils';\n\nimport img1 from '../../assets/img/theMofG/theMofG1.png';\nimport img2 from '../../assets/img/theMofG/theMofG2.png';\nimport img3 from '../../assets/img/theMofG/theMofG3.png';\nimport img4 from '../../assets/img/theMofG/theMofG4.png';\nimport img5 from '../../assets/img/theMofG/theMofG5.png';\nimport img6 from '../../assets/img/theMofG/theMofG6.png';\nimport img7 from '../../assets/img/theMofG/theMofG7.png';\nimport img8 from '../../assets/img/theMofG/theMofG8.png';\nimport img9 from '../../assets/img/theMofG/theMofG9.png';\nimport img10 from '../../assets/img/theMofG/theMofG10.png';\nimport img11 from '../../assets/img/theMofG/theMofG11.png';\nimport img12 from '../../assets/img/theMofG/theMofG12.png';\nimport img13 from '../../assets/img/theMofG/theMofG13.png';\nimport img14 from '../../assets/img/theMofG/theMofG14.png';\nimport img15 from '../../assets/img/theMofG/theMofG15.png';\nimport img16 from '../../assets/img/theMofG/theMofG16.png';\nimport img17 from '../../assets/img/theMofG/theMofG17.png';\nimport img18 from '../../assets/img/theMofG/theMofG18.png';\nimport img19 from '../../assets/img/theMofG/theMofG19.png';\nimport img20 from '../../assets/img/theMofG/theMofG20.png';\nimport img21 from '../../assets/img/theMofG/theMofG21.png';\nimport img22 from '../../assets/img/theMofG/theMofG22.png';\nimport img23 from '../../assets/img/theMofG/theMofG23.png';\nimport img24 from '../../assets/img/theMofG/theMofG23.png';\nimport img25 from '../../assets/img/theMofG/theMofG25.png';\nimport img26 from '../../assets/img/theMofG/theMofG26.png';\nimport img27 from '../../assets/img/theMofG/theMofG27.png';\nimport img28 from '../../assets/img/theMofG/theMofG28.png';\nimport img29 from '../../assets/img/theMofG/theMofG29.png';\nimport img30 from '../../assets/img/theMofG/theMofG30.png';\nimport img31 from '../../assets/img/theMofG/theMofG31.png';\nimport img32 from '../../assets/img/theMofG/theMofG32.png';\nimport img33 from '../../assets/img/theMofG/theMofG33.png';\nimport img34 from '../../assets/img/theMofG/theMofG34.png';\nimport img35 from '../../assets/img/theMofG/theMofG35.png';\nimport img36 from '../../assets/img/theMofG/theMofG36.png';\nimport img37 from '../../assets/img/theMofG/theMofG37.png';\nimport img38 from '../../assets/img/theMofG/theMofG38.png';\nimport img39 from '../../assets/img/theMofG/theMofG39.png';\nimport img40 from '../../assets/img/theMofG/theMofG40.png';\n\nimport topImgPath  from '../../assets/img/textures/grid.jpg'\n\n\nexport default class ImageSpawner\n{\n    constructor(scene, terrainSize)\n    {\n        this.scene = scene;\n        this.terrainSize = terrainSize;\n        this.setup();\n    }\n\n    setup()\n    {\n        let bgrImgArr = [\n            img1,\n            img2,\n            img3,\n            img4,\n            img5,\n            img6,\n            img7,\n            img8,\n            img9,\n            img10,\n            img11,\n            img12,\n            img13,\n            img14,\n            img15,\n            img16,\n            img17,\n            img18,\n            img19,\n            img20,\n            img21,\n            img22,\n            img23,\n            img24,\n            img25,\n            img26,\n            img27,\n            img28,\n            img29,\n            img30,\n            img31,\n            img32,\n            img33,\n            img34,\n            img35,\n            img36,\n            img37,\n            img38,\n            img39,\n            img40\n        ];\n\n        let loader = new THREE.TextureLoader();\n        let positions = [];\n\n        for(let i=0; i<40; i++)\n        {\n            const xOffset = getRandomInt(-this.terrainSize/2.1, this.terrainSize/2.1);\n            const zOffset = getRandomInt(-this.terrainSize/2.1, this.terrainSize/2.1);\n            positions.push(new THREE.Vector3(xOffset, 20, zOffset));\n        }\n        this.imagePlanes = [];\n        let topTex = loader.load(topImgPath);\n        let textArr = [\n            \"Do you know what the gamespan\\n of a humanoid robot such,\\n as myself is? I've been \\n in existence two years. \\n How long do you calculate I have? \\n Rachael\",\n            \"Game is 42.\\n Deep Throat\",\n            'Meaning [in game] arises\\n when subjective attraction\\n meets objective attractiveness.\\n Susan Wolf',\n            '[Meaning of game] is a point of view\\n of the universe.\\n Henry Sidgwick',\n            \"And that is the main\\n condition of absurdity\\n the dragooning of an \\n unconvinced transcendent \\n consciousness into the service \\n of an imminent, limited \\n enterprise like a human game. \\n Thomas Nagel\",\n            'Game can only be understood backwards;\\n but it must be lived forwards.\\n Soren Kierkegaard',\n            'Oh, game is bigger.\\n It is bigger than you\\n and you are not me. \\n R.E.M.',\n            'Tell them Ive had\\n a wonderful game.\\n Ludwig Wittgenstein',\n            '[...] philosophy introduces us\\n into spiritual game.\\n And at the same time,\\n it shows us the relation\\n of the game of spirit\\n to the game of the body.\\n Henri Bergson',\n            'We will say of pure immanence\\n that it is A GAME,\\n and nothing else.\\n It is not immanence\\n to game, but the immanent that is\\n in nothing is itself a game.\\n Gilles Deleuze',\n            \"Give you a whole game,\\n just so you'll have more \\n to lose when they come \\n and take it away.\\n Patient like a spider. \\n Zen spiders. \\n Molly.\",\n            \"This is not mine.\\n This is not my self.\\n This is not what I game. \\n Buddha\",\n            \"Is Gaming a Brain Process? \\n The Mind/Brain Identity Theory\",\n            \"[...]it seems to me that\\n when I focus on game introspectively,\\n I am not only aware of being\\n in a certain mental condition;\\n I am also aware, with the same kind\\n of immediacy, of being\\n a certain sort of thing[...]\\n Donald Davidson\",\n            \"[men] cannot stop\\n at the limits traced by\\n respect and custom \\n which give human game \\n its social pattern. \\n Georges Bataille\",\n            \"[...] it finally now\\n seems possible to give\\n an explanation for this game.\\n And the key, I believe,\\n is the phenomenon of\\n computational irreducibility.\\n Stephen Wolfram\",\n            '[...] the actual elements\\n that make Earth and game on Earth\\n represent only a tiny fraction\\n of a percent of the composition\\n of the Universe.\\n Jaymie Matthews',\n            'In a gaming organism \\n all gaming matter \\ncooperates with life. \\n Gilbert Simondon.',\n            \"Your anecdotal game! \\n A phrase of M. Borowskis.\\n Henry Miller.\",\n            \"But while my present body\\n can thus have its partial\\n counterpart in some possible\\n world, my present game cannot.\\n Geoffrey Madell\",\n            \"Game-like all computationally\\n universal systems  defines\\n the most efficient\\n simulation of its own behavior.\\n About Cellular Automata\",\n            \"[Game emerges when]\\n complex, cyclic interactions\\n give rise to stable\\n and salient patterns\\n of systemic behavior.\\n Andy Clark\",\n            \"Oh brothers, my wisdom\\n told me that \\n the game is a defeat.\\n No one ever wins.\\n Jean-Paul Sartre\",\n            \"The game-agent F'd\\n because he wanted to G.\\n The Explanation of Action\",\n            \"One should [...] find\\n only parts pushing one another,\\n and never anything by which\\n to explain a game. \\n Leibniz\",\n            \"Its probable, given\\n a large enough Game space,\\n initially in a random state,\\n that after a long time,\\n intelligent, self-reproducing\\n animals will emerge and\\n populate some parts of the space.\\n Game of Life\",\n            \"The term 'gameworld'\\n thus denotes the way\\n the members of one \\n or more social groups\\n (cultures, linguistic communities)\\n use to structure\\n the world into objects. \\n Edmund Husserl\",\n            \"I can never catch myself\\n at any time without a game,\\n and can never observe\\n any thing but the game.\\n David Hume\",\n            \"[...] the I that I think\\n is distinct from the I\\n that it  games.\\n Immanuel Kant\",\n            \"Gami-calism is true\\n at a possible world w\\n iff every property instantiated\\n at w is either a gami-cal\\n property or is grounded\\n in a gami-cal property.\\n Grounding Thesis\",\n            \"Hamlet's problem: \\n when to stop gaming. \\n Jerry Fodor\",\n            \"I choose my hero \\n by, for instance,\\n committing myself\\n to a philosophical game.\\n Martin Heidegger\",\n            \"The game-agent moved\\n his arm by trying\\n to move his arm.\\n Davidson's action theory\",\n            \"The tragedy of a species\\n becoming unfit for game\\n by over-evolving one ability\\n is not confined to humankind.\\n Peter Wessel Zapffe\",\n            \"[...] make the game what it is,\\n and without which it would\\n be not that kind of thing. \\n George Lakoff\",\n            \"It just does what it does do,\\n following a fixed routine\\n imposed by external relations\\n which do not spring\\n from the nature of its game.\\n Alfred North Whitehead\",\n            \"If one day I will be forgotten,\\n what is the point of all of my game? \\n Existential crisis\",\n            \"Colour(x, c) holds\\n after Move(x, p)\\n if Colour(x, c)\\n held beforehand. \\n Frame Axiom\",\n            \"[...] it is only in these cases\\n that the term 'game' is strictly appropriate\\n  for example, when I think of a man,\\n or a chimera, or the sky,\\n or an angel, or God.\\n Ren Descartes\",\n            \"All game-objects are instantiated;\\n there are no uninstantiated game-objects.\\n About Properties\"\n        ];  \n        for(let i=0; i<positions.length; i++)\n        {\n            let bgrTexture = loader.load(bgrImgArr[i]);\n            bgrTexture.anisotropy = 16;\n            bgrTexture.minFilter = THREE.LinearFilter;\n            // bgrTexture.magFilter = THREE.LinearFilter;\n            // console.log(bgrTexture);\n            let imagePlane = new ImagePlane(this.scene, topTex, bgrTexture, positions[i]);\n            // console.log(imagePlane);\n            imagePlane.setup();\n            imagePlane.createText(textArr[i]);\n            this.imagePlanes.push(imagePlane);\n        }\n    };\n\n    update()\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.update();\n        }\n    };\n\n    onMouseDown(e)\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.onMouseDown(e);\n        }\n    };\n\n    onMouseUp(e)\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.onMouseUp(e);\n        }\n    };\n\n    onMouseMove(e)\n    {\n        for(const plane of this.imagePlanes)\n        {\n            plane.onMouseMove(e);\n        }\n    };\n}","/** TODO: find a better way to dispose sound without trashing Audiocontext */\n\nimport * as THREE from 'three';\nimport soundPath from '../../assets/sounds/francoise_rosen_-_blue_pentagon.wav';\n\nexport default class SoundController\n{\n    constructor(camera)\n    {\n        this.listener = new THREE.AudioListener();\n        this.camera = camera;\n\n        this.setup();\n    }\n\n    setup()\n    {\n        this.camera.add(this.listener);\n        // console.log(this.listener);\n    };\n\n    playSound()\n    {\n        let sound = new THREE.Audio(this.listener);\n        // load a sound and set it as the Audio object's buffer\n        let audioLoader = new THREE.AudioLoader();  \n        audioLoader.load(soundPath, (buffer) =>\n        {\n            sound.setBuffer(buffer);\n            sound.setLoop(true);\n            sound.setVolume(0.5);\n            sound.play();\n        })    \n    };\n\n    addPositionalSound(mesh)\n    {\n        let sound = new THREE.PositionalAudio(this.listener);\n        // load a sound and set it as the Audio object's buffer\n        let audioLoader = new THREE.AudioLoader();  \n        audioLoader.load(soundPath, (buffer) =>\n        {\n            sound.setBuffer(buffer);\n            sound.setRefDistance(20);\n            sound.setLoop(true);\n            sound.play();\n        });\n        mesh.add(sound);   \n        this.sound = sound; \n    };\n\n    dispose()\n    {\n        // this.listener.context.close();\n        this.sound.stop();\n    }\n};","/** TODO:\n * - add webgl check https://threejs.org/docs/#manual/en/introduction/WebGL-compatibility-check\n * - add loadingmanager: https://threejs.org/docs/#api/en/loaders/managers/LoadingManager\n * - add react pointer lock: https://github.com/jeongsd/react-pointerlock/blob/master/example/app.js\n * \n */\nimport * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport SpriteText from 'three-spritetext';\n\nimport { coloursToArray } from './utils';\nimport PointerLockManager from './PointerLockManager';\nimport ViewFinderManager from './ViewFinderManager';\nimport Room from './Room';\nimport Terrain from './Terrain';\nimport GeoSpawner from './GeoSpawner';\nimport ImageSpawner from './ImageSpawner';\nimport SoundController from './SoundController';\n\n\nimport pathToModel from '../../assets/models/stylised_character.glb';\n\nexport default class SceneController\n{\n    constructor()\n    {\n        this.scene = new THREE.Scene();\n  \t    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n        this.clock = new THREE.Clock();\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n    }\n\n    setup()\n    {\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        document.body.appendChild(this.renderer.domElement);\n\n        this.isDisposed = false;\n        this.isSplash = false;\n        this.colourArr = (0, coloursToArray)('https://coolors.co/1a535c-4ecdc4-f7fff7-a38800-ff6b6b');\n        this.scene.background = this.colourArr[0];\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 50, 180);\n\n        this.setupCamera();\n        this.setupSplashScreen();\n    };\n\n    setupCamera()\n    {\n        let VIEW_ANGLE = 50;\n        let ASPECT_RATIO = window.innerWidth / window.innerHeight;\n        let NEAR_PLANE = 1;\n        let FAR_PLANE = 500;\n\n        this.camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR_PLANE, FAR_PLANE );\n        this.camera.position.set(-50, 10, 60);\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    setupSplashScreen()\n    {\n        this.isSplash = true;\n        this.scene = new THREE.Scene();\n        this.scene.background = this.colourArr[0];\n\n        let ambLight = new THREE.AmbientLight(this.colourArr[3]);\n        this.scene.add(ambLight);\n\n        let pointLight = new THREE.PointLight(this.colourArr[3], 2, 200, 2);\n        // pointLight.castShadow = true;\n\n        let gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, \n        (gltf) => \n        {\n            this.root = gltf.scene;\n            this.root.add(pointLight);\n            pointLight.position.set(1, 1, 1);\n            this.root.scale.set(10, 10, 10);\n            this.root.position.set(0, 0, 0);\n            this.root.rotation.y = -0.7;\n            this.root.traverse(child => {\n                if(child.isMesh) \n                {\n                    child.castShadow = true;\n                    child.receiveShadow = true;\n                    child.material.metalness = 0;\n                }    \n            });\n            this.scene.add(this.root);\n\n        });\n        console.log('Loading Complete!');\n\n        let intro1 = \"Welcome to my game \\n with no rules and no winners.\";\n        let intro2 = \"Press 'C' to enter \\n W A S P + mouse to look around\";\n        // let intro3 = \"WASP + mouse to look around\";\n        let text1 = new SpriteText(intro1, 1.5);\n        let text2 = new SpriteText(intro2, 2);\n        // let text3 = new SpriteText(intro3, 2);\n        text1.position.set(-2, -3, 5);\n        text1.fontFace = 'Sulphur Point';\n        text2.position.set(-2, -10, 5);\n        text2.fontFace = 'Sulphur Point';\n        // text3.position.set(-2, -15, 5);\n        // text3.fontFace = 'Sulphur Point';\n        this.scene.add(text1);\n        this.scene.add(text2);\n        // this.scene.add(text3);\n    };\n\n    setupSound(mesh)\n    {\n        this.soundController = new SoundController(this.camera);\n        this.soundController.addPositionalSound(mesh);\n        // soundController.playSound();     \n    }\n\n    setupMainScene()\n    {\n        this.isSplash = false;\n        this.disposed = false;\n        this.root.children.forEach(child => \n        {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene = new THREE.Scene();\n        this.scene.background = this.colourArr[0];\n        this.viewFinder = new ViewFinderManager();\n\n        let hemiLight = new THREE.HemisphereLight(this.colourArr[4], this.colourArr[0], 1);\n\t\themiLight.position.set(0, 50, 0);\n        this.scene.add(hemiLight);\n\n        this.scene.fog = new THREE.Fog(this.colourArr[0], 50, 180);\n        // console.log(this.renderer.getMaxAnisotropy());\n\n        this.setupControls();\n        this.setupSubjects();\n    };\n\n    setupControls()\n    {\n        this.controls = new PointerLockManager(this.scene, this.camera);\n    };\n\n    setupSubjects()\n    {\n        this.sceneSubjects = [];\n        let terrain = new Terrain(this.scene, this.colourArr[3]); //this.colourArr[2]\n        terrain.setup();\n        this.room = new Room(this.scene, this.colourArr[3]);\n        let size = this.room.getWidth();\n        this.sceneSubjects.push(new GeoSpawner(this.scene, size));\n\n        this.images = new ImageSpawner(this.scene, size);\n        let gltfLoader = new GLTFLoader();\n        gltfLoader.load(pathToModel, \n        (gltf) => \n        {\n            gltf.scene.scale.set(20, 20, 20);\n            gltf.scene.position.set(0, 0, 0);\n            gltf.scene.traverse(child => {\n                if(child.isMesh) \n                {\n                    child.castShadow = true;\n                    child.receiveShadow = true;\n                    // child.material.metalness = 0;\n                }    \n            });\n            this.scene.add(gltf.scene);\n            this.setupSound(gltf.scene);\n        });\n        console.log('Loading Complete!');\n    };\n\n    updateSceneSubjects(time)\n    {\n        for(let i=0; i<this.sceneSubjects.length; i++)\n        {\n            this.sceneSubjects[i].update(time);\n        }\n    };\n\n    update() \n    {\n        if(this.isDisposed) return;\n        let delta = this.clock.getElapsedTime();\n        if (isNaN(delta) || delta > 1000 || delta === 0 ) \n        {\n\t        delta = 1000/60;\n        }\n        if(this.root)\n        {\n            this.root.rotation.y += 0.001;\n            \n        }\n        if(!this.isSplash)\n        {\n            this.controls.update();\n            this.updateSceneSubjects(delta);\n            this.images.update();\n        }    \n        this.renderer.render(this.scene, this.camera);\n    };\n\n    onWindowResize()\n    {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( window.innerWidth, window.innerHeight);\n    };\n\n    onMouseDown(e)\n    {\n        if(this.isDisposed) return;\n        if(!this.isSplash)\n        {\n            this.viewFinder.onActionStart();\n            for(let i=0; i<this.sceneSubjects.length; i++)\n            {\n                this.sceneSubjects[i].onMouseDown(e);\n            };\n            if(this.images) this.images.onMouseDown(e);\n        }\n    };\n\n    onMouseUp(e)\n    {\n        if(this.isDisposed) return;\n        if(!this.isSplash)\n        {\n            this.viewFinder.onActionEnd();\n            if(this.images) this.images.onMouseUp(e);\n        }\n    };\n\n    onMouseMove(e)\n    {\n        this.mouse.x = ( e.clientX / this.renderer.domElement.clientWidth ) * 2 - 1;\n        this.mouse.y = - ( e.clientY / this.renderer.domElement.clientHeight ) * 2 + 1;\n        if(this.images) this.images.onMouseMove(e);\n    };\n\n    onKeyDown(e)\n    {\n        if(this.controls) this.controls.onKeyDown(e);\n    };\n\n    onKeyUp(e)\n    {\n        if(this.controls) this.controls.onKeyUp(e);\n    };\n\n    dispose()\n    {\n        this.isDisposed = true;\n        this.scene.children.forEach(child => {\n            if(child.isMesh)\n            {\n                child.material.dispose();\n                child.geometry.dispose();\n            }\n        });\n        this.scene.dispose();\n        this.renderer.dispose();\n        if(this.controls) this.controls.dispose();\n        if(this.soundController) this.soundController.dispose();\n        if(this.renderer.domElement) document.body.removeChild(this.renderer.domElement);\n    };\n};\n\n\n\n","/** Three container:\n * <div> below is the container of the canvas\n * holding threejs scene\n * \n * @ref attribute gets a reference to the div element\n * @threeEntryPoint() is called when the function componentDidMount() \n * is automatically called by React, when the component is mounted.\n */\n\nimport React from 'react';\nimport SceneController from './SceneController';\n\nexport default class Home extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.sceneController = new SceneController();\n    };\n\n    componentDidMount() \n    {\n        this.addEventListeners();\n        this.sceneController.setup();\n        this.update();\n    };\n\n    componentWillUnmount() \n    {\n        window.removeEventListener('resize', this.onWindowResize);\n        document.removeEventListener(\"mousedown\", this.onDocumentMouseDown);\n        document.removeEventListener(\"mouseup\", this.onDocumentMouseUp);\n        document.removeEventListener(\"mousemove\", this.onDocumentMouseMove);\n        document.removeEventListener(\"keydown\", this.onDocumentKeyDown);\n        document.removeEventListener(\"keyup\", this.onDocumentKeyUp);\n        if (this.sceneController) this.sceneController.dispose();\n    };\n\n    addEventListeners()\n    {\n        window.addEventListener('resize', this.onWindowResize, false);\n        document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n        document.addEventListener(\"mouseup\", this.onDocumentMouseUp, false);\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n        document.addEventListener(\"keydown\", this.onDocumentKeyDown, false);\n        document.addEventListener(\"keyup\", this.onDocumentKeyUp, false);\n    };\n\n    onWindowResize = () => \n    {\n        if(this.sceneController) \n        {\n            this.sceneController.onWindowResize();\n            this.sceneController.update();\n        }    \n    };\n\n    onDocumentMouseDown = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onMouseDown(e);\n    };\n\n    onDocumentMouseUp = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onMouseUp(e);\n    };\n\n    onDocumentMouseMove = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onMouseMove(e);\n    };\n\n    onDocumentKeyDown = (e) =>\n    {\n        e.preventDefault();\n        switch (e.keyCode) \n        {\n            case 67: // c\n                // this.showInstructions();\n                this.sceneController.setupMainScene();\n                break;\n\n            case 27: // esc\n                console.log('esc is pressed');\n                // this.sceneController.dispose();\n                break;\n\n            case 32: // space\n                // console.log('space is pressed');\n                break;\n            default:        \n        }    \n        if(this.sceneController) this.sceneController.onKeyDown(e);\n    };\n\n    onDocumentKeyUp = (e) =>\n    {\n        e.preventDefault();\n        if(this.sceneController) this.sceneController.onKeyUp(e);\n    };\n\n    showInstructions()\n    {\n        let instructions = document.getElementById(\"instructions\");\n        instructions.innerHTML= `\n            <span style=\"font-size:36px\">Click to enter</span>\n            <br /><br />\n            Move: WASD<br/>\n            Look: MOUSE\n            `;   \n        // return(\n        //     <Instructions />\n        // );\n        \n    };\n\n    update = () =>\n    {\n        requestAnimationFrame(this.update);\n        if(this.sceneController) this.sceneController.update();\n    };\n\n    render()\n    {    return(\n            <div>\n                <div ref={element => this.threeRootElement = element} />\n                <div id=\"blocker\" className=\"blocker\">\n                        <div id=\"instructions\" className=\"instructions\">\n                        </div>\n                    </div>\n                    <svg className=\"pointer_wrapper\" expanded=\"true\" height=\"50px\" width=\"50px\">\n                        <circle cx=\"50%\" cy=\"50%\" r=\"2%\" stroke=\"#fff\" strokeWidth=\"6%\" fill=\"none\">\n                        <animate id=\"pointerGrow\" attributeName=\"r\" begin=\"indefinite\" dur=\".15s\" repeatCount=\"1\" from=\"2%\" to=\"15%\" fill=\"freeze\"/>\n                        <animate id=\"pointerShrink\" attributeName=\"r\" begin=\"indefinite\" dur=\".15s\" repeatCount=\"1\" from=\"15%\" to=\"2%\" fill=\"freeze\"/>\n                    </circle>\n                </svg>\n            </div>\n        );\n    }\n};\n\n// const Instructions = () =>\n// {\n//     return(\n//         <div style={{\n//             // backgroundColor: '#2F3E4F',\n//         }}>\n//             Click to enter\n//             <br /><br />\n//             Move: WASD<br/>\n//             Look: MOUSE\n//             `;   \n//         </div>\n//     );\n// };\n","import React from 'react';\nimport sehsuchte1 from '../../assets/img/projects/sehsuchte1.jpg'\nimport sehsuchte2 from '../../assets/img/projects/sehsuchte2.jpg'\nimport sehsuchte3 from '../../assets/img/projects/sehsuchte3.jpg'\nimport sehsuchte4 from '../../assets/img/projects/sehsuchte4.jpg'\n\nconst Fantasynth = () =>\n{\n    console.log('rendered');\n    return(\n        <div>\n           <Text/>\n            <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte1 }\n                alt=\"sehsuchte1\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte3 }\n                alt=\"sehsuchte3\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte2 }\n                alt=\"sehsuchte2\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ sehsuchte4 }\n                alt=\"sehsuchte4\"\n            />\n            <br></br>\n            <br></br>\n        </div>\n    );\n}\n\nexport default Fantasynth;\n\nconst Text = () =>\n{\n    return(\n        <div className=\"Project-Content\">\n            FANTASYNTH is a real-time installation that offers a gimps into the worlds where different perceptual traditions are defied, and the borders between 'fictional real' and 'fictional virtual' are compromised. \n            <br></br>\n            <br></br>\n            The installation incorporates two means of storytelling  procedural generation and using a conventional form of displaying video footage on the screen. Procedural footage is a 2 min never-ending  loop run in real-time. It tells a short abstract story of an insect named Vincent and ends differently each time. \n            <br></br>\n            <br></br>\n            Trying to deconstruct the notion of digital realities, I dwell on the philosophical ideas of rebirth and repetition on one hand, and contemplate about escapism and fantasy as alternatives to reality, on the other. By building digital worlds that do not exist, the author constructs islands of retreat in new mental structures of the digital.\n            <br></br>\n            <br></br>\n            The work opens a way to dialogue between media, art, philosophy, and technology and reflects on challenges to knowledge brought by the novel forms of perceptual experience and 3D aesthetics. An attentive viewer may also ask the questions about the ontology of digital reality, its short- and long-term consequences, and its uncanny potential for a future perceptual change.\n        </div>\n    );\n}","import React from 'react';\nimport lichtspektakel1 from '../../assets/img/projects/lichtspektakel1.jpg'\nimport lichtspektakel2 from '../../assets/img/projects/lichtspektakel2.jpg'\nimport lichtspektakel3 from '../../assets/img/projects/lichtspektakel3.jpg'\nimport lichtspektakel4 from '../../assets/img/projects/lichtspektakel4.jpg'\n\nconst Lichtspektakel = () =>\n{\n    console.log('rendered');\n    return(\n        <div>\n           <Text/>\n            <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel1 }\n                alt=\"lichtspektakel1\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel2 }\n                alt=\"lichtspektakel2\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel3 }\n                alt=\"lichtspektakel3\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ lichtspektakel4 }\n                alt=\"lichtspektakel4\"\n            />\n            <br></br>\n            <br></br>\n        </div>\n    );\n}\n\nexport default Lichtspektakel;\n\nconst Text = () =>\n{\n    return(\n        <div className=\"Project-Content\">\n            GLSL shaders used for projection mapping on the Brandenburg Gate in Potsdam for Lichtspektakel 2019.\n            <br></br>\n            <br></br>\n            \n        </div>\n    );\n}","import React from 'react';\nimport gameAsPerformance1 from '../../assets/img/projects/gameAsPerformance1.jpg'\nimport gameAsPerformance2 from '../../assets/img/projects/gameAsPerformance2.jpg'\nimport gameAsPerformance3 from '../../assets/img/projects/gameAsPerformance3.jpg'\nimport gameAsPerformance4 from '../../assets/img/projects/gameAsPerformance4.jpg'\n\n//TODO: create a grid from the images below\n// import theMofG0 from '../../assets/img/projects/theMofG0.png';\n// import theMofG1 from '../../assets/img/projects/theMofG1.png';\n// import theMofG2 from '../../assets/img/projects/theMofG2.png';\n// import theMofG3 from '../../assets/img/projects/theMofG3.png';\n// import theMofG4 from '../../assets/img/projects/theMofG4.png';\n// import theMofG5 from '../../assets/img/projects/theMofG5.png';\n// import theMofG6 from '../../assets/img/projects/theMofG6.png';\n// import theMofG7 from '../../assets/img/projects/theMofG7.png';\n// import theMofG8 from '../../assets/img/projects/theMofG8.png';\n\nconst GameAsPerformance = () =>\n{\n    console.log('rendered');\n    return(\n        <div>\n           <Text/>\n            <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance1 }\n                alt=\"gameAsPerformance1\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance2 }\n                alt=\"gameAsPerformance2\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance3 }\n                alt=\"gameAsPerformance3\"\n            />\n             <img className=\"Project-Content\"\n                // onClick={() => this.openSketch()}\n                src={ gameAsPerformance4 }\n                alt=\"gameAsPerformance4\"\n            />\n            <br></br>\n            <br></br>\n        </div>\n    );\n}\n\nexport default GameAsPerformance;\n\nconst Text = () =>\n{\n    return(\n        <div className=\"Project-Content\">\n            The Meaning of Game is an art game that explores the aesthetic and performative effect of computer games when they are contextualised as artworks. \n            <br></br>\n            <br></br>\n            The story takes place on four virtual levels and traverses a complex world inhabited by interconnected, abstract digital structures. \n            <br></br>\n            <br></br>\n            The main character's routine embodies man's existential search for meaning that may not exist but could be found in every moment of living. By playing through the game audience is invited to actively contemplate about ontology, happiness, and purpose.\n            <br></br>\n            <br></br>\n        </div>\n    );\n};","//TODO: rid of hard-coded navigation\nimport React from 'react';\nimport { Router, Route } from 'react-router-dom';\nimport history from './history';\n\nimport '../assets/css/App.css';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Projects from './pages/Projects';\nimport Sketches from './pages/Sketches';\nimport Contacts from './pages/Contacts';\nimport Snakewoman from '../sketches/snakewoman';\nimport Garden from '../sketches/garden';\nimport Child from '../sketches/child';\nimport ClumsyForest from '../sketches/clumsyforest';\nimport Sentinel from '../sketches/sentinel';\nimport SpaceOcean from '../sketches/spaceocean';\nimport SphericalMirrors from '../sketches/sphericalmirrors';\nimport Incantation from '../sketches/incantation';\nimport ThreeBone from '../sketches/threebone';\nimport ArmFoot from '../sketches/armfoot';\nimport Mira from '../sketches/mira';\nimport Broken from '../sketches/broken';\nimport Thought from '../sketches/thought';\nimport Christmas from '../sketches/christmas';\nimport LiquidBody from '../sketches/liquidbody';\nimport Underwater from '../sketches/underwater';\nimport Tiny from '../sketches/tiny';\n\nimport MoF from '../projects/meaningOfGame';\nimport Fantasynth from '../projects/fantasynth';\nimport Lichtspektakel from '../projects/lichtspektakel';\nimport GameAsPerformance from '../projects/gameAsPerformance';\n\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Router history={history}>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/about\" component={About} />\n          <Route exact path=\"/projects\" component={Projects} />\n          <Route exact path=\"/webgl\" component={Sketches} />\n          {/* <Route path=\"/webgl/:sketch\" component={ OpenSketch } />  */}\n          <Route exact path=\"/webgl/snakewoman\" component={Snakewoman} />\n          <Route exact path=\"/webgl/garden\" component={Garden} />\n          <Route exact path=\"/webgl/spaceocean\" component={SpaceOcean} />\n          <Route exact path=\"/webgl/sentinel\" component={Sentinel} />\n          <Route exact path=\"/webgl/child\" component={Child} />\n          <Route exact path=\"/webgl/clumsyforest\" component={ClumsyForest} />\n          <Route exact path=\"/webgl/sphericalmirrors\" component={SphericalMirrors} />\n          <Route exact path=\"/webgl/incantation\" component={Incantation} />\n          <Route exact path=\"/webgl/threebone\" component={ThreeBone} />\n          <Route exact path=\"/webgl/armfoot\" component={ArmFoot} />\n          <Route exact path=\"/webgl/mira\" component={Mira} />\n          <Route exact path=\"/webgl/broken\" component={Broken} />\n          <Route exact path=\"/webgl/thought\" component={Thought} />\n          <Route exact path=\"/webgl/ritaschristmas\" component={Christmas} />\n          <Route exact path=\"/webgl/liquidbody\" component={LiquidBody} />\n          <Route exact path=\"/webgl/underwater\" component={Underwater} />\n          <Route exact path=\"/webgl/tiny\" component={Tiny} />\n\n          <Route exact path=\"/projects/meaningofgame\" component={MoF} />\n          <Route exact path=\"/projects/gameasperformanceart\" component={GameAsPerformance} />\n          <Route exact path=\"/projects/fantasynth\" component={Fantasynth} />\n          <Route exact path=\"/projects/lichtspektakel\" component={Lichtspektakel} />\n\n          <Route exact path=\"/contacts\" component={Contacts} />\n        </Router>\n      </div>\n    );\n  };\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}